<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.0.2">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css" integrity="sha256-2H3fkXt6FEmrReK448mDVGKb3WW2ZZw35gI7vqHOE4Y=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"bubbleboy11.github.io","root":"/","images":"/images","scheme":"Muse","version":"8.6.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>
<meta name="description" content="面向对象编程 Object Oriented Programming OOP设计思想是如何理解面向对象:1.python一切皆对象，面向对象是一种编程思想、软件开发方法，是编程世界向现实世界的延伸，也就是说万物皆可描述，2.我们用编程语言描述现实世界万物一切事物，每种事物都具备自己的属性和行为。面向对象思想就是在计算机程序设计过程中，参照现实中事物，将事物的属性特征、行为特征抽象出来，描述成计算机">
<meta property="og:type" content="article">
<meta property="og:title" content="面向对象编程OOP">
<meta property="og:url" content="https://bubbleboy11.github.io/2020/08/21/mian-xiang-dui-xiang-bian-cheng-oop/index.html">
<meta property="og:site_name" content="外心人D的博客">
<meta property="og:description" content="面向对象编程 Object Oriented Programming OOP设计思想是如何理解面向对象:1.python一切皆对象，面向对象是一种编程思想、软件开发方法，是编程世界向现实世界的延伸，也就是说万物皆可描述，2.我们用编程语言描述现实世界万物一切事物，每种事物都具备自己的属性和行为。面向对象思想就是在计算机程序设计过程中，参照现实中事物，将事物的属性特征、行为特征抽象出来，描述成计算机">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-08-20T16:21:41.000Z">
<meta property="article:modified_time" content="2021-07-17T02:40:57.800Z">
<meta property="article:author" content="外心人D">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://bubbleboy11.github.io/2020/08/21/mian-xiang-dui-xiang-bian-cheng-oop/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://bubbleboy11.github.io/2020/08/21/mian-xiang-dui-xiang-bian-cheng-oop/","path":"2020/08/21/mian-xiang-dui-xiang-bian-cheng-oop/","title":"面向对象编程OOP"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>面向对象编程OOP | 外心人D的博客</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="外心人D的博客" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism.css" type="text/css"></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">外心人D的博客</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E4%BE%8B%E6%96%B9%E6%B3%95"><span class="nav-text">实例方法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BF%E9%97%AE%E5%8F%AF%E8%A7%81%E6%80%A7%E9%97%AE%E9%A2%98"><span class="nav-text">访问可见性问题</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%B1%BB%E6%96%B9%E6%B3%95%EF%BC%9A%E5%AE%9A%E4%B9%89%E5%8A%A0-classmethod%E8%A3%85%E9%A5%B0%E5%99%A8%E6%9D%A5%E4%BF%AE%E9%A5%B0"><span class="nav-text">类方法：定义加@classmethod装饰器来修饰</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%9D%99%E6%80%81%E6%96%B9%E6%B3%95"><span class="nav-text">静态方法</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-overview">
            <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">外心人D</p>
  <div class="site-description" itemprop="description">本博客大多内容为慕课和网上博客，并非原创</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">362</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">22</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">39</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



          </div>
        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/mian-xiang-dui-xiang-bian-cheng-oop/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          面向对象编程OOP
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-07-17 02:40:57" itemprop="dateModified" datetime="2021-07-17T02:40:57Z">2021-07-17</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p>面向对象编程 Object Oriented Programming OOP<br>设计思想是如何理解面向对象:<br>1.python一切皆对象，<br>面向对象是一种编程思想、软件开发方法，是编程世界向现实世界的延伸，也就是说万物皆可描述，<br>2.我们用编程语言描述现实世界万物一切事物，每种事物都具备自己的属性和行为。<br>面向对象思想就是在计算机程序设计过程中，参照现实中事物，将事物的属性特征、行为特征抽象出来，描述成计算机事件的设计思想。</p>
<p>3.把对象作为基本单元，把对象抽象成类(Class)，包含成员(属性)和方法(用来操作成员)，定义了所包含的全体对象的公共特征和功能</p>
<p>类Class是一种抽象模板，类是现实世界或思维世界中的实体在计算机中的反映，类:是面向对象的一种表现形式，具有同种属性的对象称为类，是个抽象的概念。<br>它将数据以及这些数据上的操作封装在一起</p>
<p>根据Class创建Instance</p>
<p>通俗的定义<br>月饼的比喻：<br>几个概念: 类 对象 属性 方法<br>月饼有各种各样的形状（模板，软件工程当中的”类”），中秋节商场里买月饼，商场里有各个不同形状的月饼(软件工程当中的”对象”),月饼的重量，颜色，形状，尺寸等这些类比软件工程当中的”属性”,月饼的生产方法，将面粉放到不同模板当中就可做出各种不同形状的月饼(软件工程当中的”方法”)<br>二、面向对象在实际工作中的作用<br>1.有利于团队合作,分工、分模块开发<br>2.提高工作效率</p>
<p>对象：通过类定义的数据结构实例。对象包括两个数据成员（类变量和实例变量）和方法。值 身份id 类型</p>
<p>Python 中使用类来实现。过程式编程(函数)，OOP(类)<br>(object)，表示该类是从哪个类继承下来的，<br>默认继承object类，可不写<br>创建类 类名首字母大写，不要下划线<br>类定义完成后，会在当前作用域中定义一个以类名为名字的命名空间。<br>类对象具有以下两种操作：<br>可以通过“类名()”的方式实例化一个对象。<br>可以通过“类名.类属性”的方式来访问一个类属性</p>
<p>定义实例方法（函数）：<br>实例方法关联的是对象，实例方法通常用来操作实例变量，<br><code>def __init__(self, name, *args,**kwargs):</code> 可以通过外部访问，是因为init前后分别有两个下划线‘__’, 这是python的内置命名风格，自己命名尽量不要这样做，创建实例的时候绑定属性到<code>self</code><br>第一个形参（实例变量）不是必须叫<code>self</code>，<code>self</code> 不是 python 关键字，（其他语言用<code>this</code>，其他和普通函数一样）<br>但是第一个参数代表的是表示创建类的实例本身（对象）</p>
<p>有了<code>__init__</code>方法，在创建实例的时候，就不能传入空的参数了，必须传入与<code>__init__</code>方法匹配的参数，<br>不需要给self传值，Python解释器自己会把实例变量传进去，</p>
<p><code>对象名=类名([实参])</code> 对象是类的实例化，形参写在类的构造函数中，<br>实例（Instance）则是根据类模板创建出来一个个具体的“对象”</p>
<p>要调用一个方法是通过需要有实例（实例变量，self），这种限制其实就是Python所谓的绑定概念</p>
<p>每个实例化的对象当使用完成之后，都会被内存管家回收，我们普通的进程也会伴随着创建与关闭的过程</p>
<p>Python类中定义的变量分为类变量和实例变量（也叫成员变量、对象变量），<br>类变量和实例变量都可以在类定义之后在定义</p>
<p>类变量直接定义在类里面（不在函数里面），前面不会有任何关键字<code>self</code>修饰。<br>类变量只会在用class关键字声明一个类时创建，且也只会保存在类的命名空间中，这个类的实例的命名空间中是没有的。<br>在类的内外部访问类变量，可以用<code>类名.类变量名</code>和<code>实例名.类变量名</code>， 访问的实际上是同一个类命名空间的同一个变量，所以类变量具有“一改全改”的特点。<br>实例方法里访问类变量<code>self.__class__.类变量名</code></p>
<p>采用<code>实例名.类变量</code>名的方式对类变量进行赋值时，<br>若该类变量是可变数据类型，则可以成功赋值该类变量，<br>否则会在该实例变量所在的名称空间中创建一个与该类变量同名的实例变量进行赋值，并不会对类变量进行赋值，<br>此时也无法再通过<code>实例名.类变量名</code>的方式读取该类变量。<br>但若‘实例名.类变量名’赋值的是可变数据类型，则可以对类变量进行赋值操作。</p>
<p>实例变量大都定义在实例函数里面，通过 <code>self.实例变量名</code> 的方式进行定义。<br>根据类创建的实例可以任意绑定属性。<br>实例变量保存在实例各自的命名空间中，各个实例拥有的数据都互相独立，互不影响；<br>不要对实例属性和类属性使用相同的名字，否则将产生难以发现的错误。<br>因为相同名称的实例属性将屏蔽掉类属性，<br>但是当你删除实例属性后，再使用相同的名称，访问到的将是类属性。</p>
<p><code>__dict__</code> 在类中代表类的全部属性的字典，在实例中代表对象的全部属性的字典 </p>
<h4 id="实例方法"><a href="#实例方法" class="headerlink" title="实例方法"></a>实例方法</h4><p>不需要装饰器修饰，<br>在声明时传入的第一个参数必须为 <code>self</code>，self指代的就是实例本身。<br>只能通过<code>实例名.实例方法名</code>调用，不可以通过<code>类名.实例方法名()</code>调用<br>如果要通过类来调用，<code>类名.实例方法名(实例名)</code>，必须必须<strong>显式</strong>地将实例当做参数传入。</p>
<p>用<code>self.变量名</code>访问 实例变量 和 类变量<br>实例方法能访问实例变量，静态方法和类方法则不能。<br>在类的外部访问添加实例变量，只能用<code>实例名.实例变量名</code>，类无权访问实例名。</p>
<p>在实例方法内部通过<code>类名.类变量名</code>和 <code>self.__class__.类变量名</code> 访问类变量。</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>(<span class="params">object</span>):</span>  <span class="comment"># 类对象</span></span><br><span class="line">    name = <span class="string">'Ashe'</span>  <span class="comment"># 类变量 字符串不可变 直接在类里面定义</span></span><br><span class="line">    gender = <span class="string">'female'</span>  <span class="comment">#</span></span><br><span class="line">    place = [<span class="string">'China'</span>, <span class="string">'Beijing'</span>]  <span class="comment"># 类变量，列表可变</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age</span>):</span>  <span class="comment"># 构造方法用来初始化成员(属性)，但是并没有初始化weight</span></span><br><span class="line">        self.name = name  <span class="comment"># 实例变量，在实例方法里通过self.xxx进行定义和读取与对象无关</span></span><br><span class="line">        self.age = age</span><br><span class="line">        weight = <span class="number">55</span>  <span class="comment"># 类变量不能再在数体内声明，在这个位置声明的又没有self关键字修饰，只能是一个局部变量</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">print_info</span>(<span class="params">self</span>):</span>  <span class="comment"># 操作成员(属性)的类的实例方法</span></span><br><span class="line">        print(self)</span><br><span class="line">        print(self.__class__)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 实例方法不可以直接访问类变量</span></span><br><span class="line">        <span class="comment"># print(gender)  # NameError: name 'gender' is not defined</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 实例方法可以这样访问类变量</span></span><br><span class="line">        <span class="comment"># 通过 p.name获取变量值的时候，首先会查找实例变量里有没有name属性，如果有则返回，</span></span><br><span class="line">        <span class="comment"># 如果没有就会去类变量里找，如果还是没有则会报错，但是不推荐</span></span><br><span class="line">        print(self.gender)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 实例方法访问类变量的正确打开方式</span></span><br><span class="line">        <span class="comment"># print(Person.name, Person.gender)</span></span><br><span class="line">        print(self.__class__.name, self.__class__.gender)</span><br><span class="line">        <span class="comment"># print(self.__class__.age)</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 实例中代表对象的全部属性的字典</span></span><br><span class="line">        print(self.__dict__)</span><br><span class="line">        <span class="comment"># 实例方法可以这样访问实例变量</span></span><br><span class="line">        print(self.name, self.age)</span><br><span class="line">        <span class="comment"># print(self.weight)  # AttributeError: 'Person' object has no attribute 'weight'</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># print(self.__class__.__dict__)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># self.age = age  # 这是错误的，实例变量不能再这里声明</span></span><br><span class="line">    occupation = [<span class="string">'student'</span>]  <span class="comment"># 这是类变量，可以在函数体外，类内部任意位置</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(Person)  <span class="comment">#：&lt;class '__main__.Person'&gt;</span></span><br><span class="line">print(dir(Person))</span><br><span class="line"><span class="comment"># ['__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'gender', 'name', 'occupation', 'place', 'print_info']</span></span><br><span class="line"></span><br><span class="line">print(Person.name)  <span class="comment"># Ashe</span></span><br><span class="line">print(Person.gender)  <span class="comment"># female</span></span><br><span class="line"><span class="comment"># print(Person.age)  # AttributeError: 'Person' object has no attribute 'age'</span></span><br><span class="line"><span class="comment"># Person.print_info()</span></span><br><span class="line"><span class="comment"># TypeError: print_info() missing 1 required positional argument:</span></span><br><span class="line"><span class="comment">#  print_info是实例方法 类不可以直接调用实例方法</span></span><br><span class="line"></span><br><span class="line">p = Person(<span class="string">'Bart Simpson'</span>, <span class="number">18</span>)  <span class="comment"># 实例对象</span></span><br><span class="line">print(p)  <span class="comment"># &lt;__main__.Person object at 0x0000028104DC0AC0&gt;</span></span><br><span class="line">print(dir(p))</span><br><span class="line"><span class="comment"># ['__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'age', 'gender', 'name', 'occupation', 'place', 'print_info']</span></span><br><span class="line">p.print_info()  <span class="comment"># python封装特性</span></span><br><span class="line"><span class="comment"># &lt;__main__.Person object at 0x0000028104DC0AC0&gt;</span></span><br><span class="line"><span class="comment"># &lt;class '__main__.Person'&gt;</span></span><br><span class="line"><span class="comment"># female</span></span><br><span class="line"><span class="comment"># Ashe female</span></span><br><span class="line"><span class="comment"># {'name': 'Bart Simpson', 'age': 18} 没有weight属性</span></span><br><span class="line"><span class="comment"># Bart Simpson 18</span></span><br><span class="line"></span><br><span class="line">Person.print_info(p)  <span class="comment"># 通过类访问实例方法时，必须显式地将实例当做参数传入</span></span><br><span class="line"><span class="comment"># &lt;__main__.Person object at 0x0000028104DC0AC0&gt;</span></span><br><span class="line"><span class="comment"># &lt;class '__main__.Person'&gt;</span></span><br><span class="line"><span class="comment"># female</span></span><br><span class="line"><span class="comment"># Ashe female</span></span><br><span class="line"><span class="comment"># {'name': 'Bart Simpson', 'age': 18}</span></span><br><span class="line"><span class="comment"># Bart Simpson 18</span></span><br><span class="line"></span><br><span class="line">print(p.__dict__)  <span class="comment"># {'name': 'Bart Simpson', 'age': 18} 没有weight属性</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 当通过 p.name获取变量值的时候，首先会查找实例变量里有没有name属性，如果有则返回，如果没有就会去类变量里找，如果还是没有则会报错</span></span><br><span class="line">print(p.name, p.age)  <span class="comment"># Bart Simpson 18 是实例变量</span></span><br><span class="line">print(p.gender, id(p.gender) == id(Person.gender))  <span class="comment"># female True 类变量</span></span><br><span class="line"><span class="comment"># print(p.weight)  # AttributeError: 'Person' object has no attribute 'weight'</span></span><br><span class="line"></span><br><span class="line">p.occupation.append(<span class="string">'programmer'</span>)</span><br><span class="line">print(p.occupation)  <span class="comment"># ['student', 'programmer']</span></span><br><span class="line">print(Person.occupation)  <span class="comment"># ['student', 'programmer']</span></span><br><span class="line"></span><br><span class="line">print(Person.name</span><br><span class="line">      )  <span class="comment"># Ashe 类变量为不可变对象，在该实例变量所在的名称空间中创建一个与该类变量同名的实例变量进行赋值，并不会对类变量进行赋值，</span></span><br><span class="line"><span class="comment"># print(Person.age)  # AttributeError: type object 'Person' has no attribute 'age'</span></span><br><span class="line"></span><br><span class="line">p.place[<span class="number">1</span>] = <span class="string">'Guilin'</span></span><br><span class="line">print(p.place)  <span class="comment"># ['China', 'Guilin']</span></span><br><span class="line">print(Person.place)  <span class="comment"># ['China', 'Guilin']</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在类定义和声明实例对象结束之后再定义绑定一个实例变量</span></span><br><span class="line">p.height = <span class="number">1.8</span>  <span class="comment"># 为 p 添加一个实例变量 height 属性</span></span><br><span class="line">print(p.height)  <span class="comment"># 1.8 与对象无关</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 声明类对象结束之后 为Person类添加绑定一个类变量</span></span><br><span class="line">Person.behavior = <span class="string">'study'</span>  <span class="comment"># 这是一个类变量</span></span><br><span class="line">print(Person.behavior)  <span class="comment"># study</span></span><br><span class="line">print(p.behavior)  <span class="comment"># study</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="访问可见性问题"><a href="#访问可见性问题" class="headerlink" title="访问可见性问题"></a>访问可见性问题</h3><p>对于上面的代码，有C++、Java、C#等编程经验的程序员可能会问，我们给<code>Student</code>对象绑定的<code>name</code>和<code>age</code>属性到底具有怎样的访问权限（也称为可见性）。<br>因为在很多面向对象编程语言中，我们通常会将对象的属性设置为私有的（private）或受保护的（protected），简单的说就是不允许外界访问，<br>而对象的方法通常都是公开的（public），因为公开的方法就是对象能够接受的消息。</p>
<p>在Python中，属性和方法的访问权限只有两种，也就是公开的和私有的，<br>如果希望属性是私有的，在给属性命名时可以用两个下划线作为开头，<br>下面的代码可以验证这一点。</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Course</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, price, url, pk</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.price = price</span><br><span class="line">        self._url = url  <span class="comment">#大家都认可的一种编码规范，这种权限级别的控制 java是可以做到</span></span><br><span class="line">        self.__pk = pk  <span class="comment">#大家都认可的一种编码规范，这种权限级别的控制 java是可以做到</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">course1 = Course(<span class="string">"django"</span>, <span class="number">100</span>, <span class="string">"https://imooc.com"</span>, <span class="number">1</span>)</span><br><span class="line">print(course1._url) <span class="comment"># https://imooc.com</span></span><br><span class="line">print(course1.__pk) <span class="comment"># AttributeError: 'Course' object has no attribute '__pk'</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, foo</span>):</span></span><br><span class="line">        self.__foo = foo</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__bar</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(self.__foo)</span><br><span class="line">        print(<span class="string">'__bar'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    test = Test(<span class="string">'hello'</span>)</span><br><span class="line">    <span class="comment"># AttributeError: 'Test' object has no attribute '__bar'</span></span><br><span class="line">    test.__bar()</span><br><span class="line">    <span class="comment"># AttributeError: 'Test' object has no attribute '__foo'</span></span><br><span class="line">    print(test.__foo)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></tbody></table></figure>

<p>但是，Python并没有从语法上严格保证私有属性或方法的私密性，它只是给私有的属性和方法换了一个名字来妨碍对它们的访问，事实上如果你知道更换名字的规则仍然可以访问到它们，下面的代码就可以验证这一点。<br>之所以这样设定，可以用这样一句名言加以解释，就是"<strong>We are all consenting adults here</strong>"。<br>因为绝大多数程序员都认为开放比封闭要好，而且程序员要自己为自己的行为负责。</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Test</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, foo</span>):</span></span><br><span class="line">        self.__foo = foo</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__bar</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(self.__foo)</span><br><span class="line">        print(<span class="string">'__bar'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">main</span>():</span></span><br><span class="line">    test = Test(<span class="string">'hello'</span>)</span><br><span class="line">    test._Test__bar()</span><br><span class="line">    print(test._Test__foo)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">"__main__"</span>:</span><br><span class="line">    main()</span><br></pre></td></tr></tbody></table></figure>

<p>在实际开发中，我们并不建议将属性设置为私有的，因为这会导致子类无法访问（后面会讲到）。<br>所以大多数Python程序员会遵循一种命名惯例就是让属性名以单下划线开头来表示属性是受保护的，本类之外的代码在访问这样的属性时应该要保持慎重。<br>这种做法并不是语法上的规则，单下划线开头的属性和方法外界仍然是可以访问的，所以更多的时候它是一种暗示或隐喻，<br>大家都认可的一种编码规范，这种权限级别的控制 java是可以做到<br>关于这一点可以看看我的<a target="_blank" rel="noopener" href="http://blog.csdn.net/jackfrued/article/details/79521404">《Python - 那些年我们踩过的那些坑》</a>文章中的讲解</p>
<p>变量名前加单下划线<code>_</code>表示的是 protected 类型的变量，即保护类型只能允许其本身与子类进行访问，如：<code>self._sex = 0</code> ，实例不要访问，大家都认可的一种编码规范，这种权限级别的控制 java是可以做到</p>
<p>变量名前加双下划线<code>__</code>表示的是 私有类型(private)的变量,<br>成员私有 类的私有属性<br>在变量或方法名前加__，则变为私有private私有属性，在类外部无法直接进行访问、设置<br>只能是允许这个类本身内部的方法进行访问了。如：<code>self.__private_attrs</code>。<br>在创建私有的实例时，实际python会把变量名改为<code>_类名__变量名</code>，实际是创建了新变量<code>_类名__变量名</code>。<br>严格来讲python并没有真正的私有变量，<br>可以通过 <code>对象名._类名__变量名</code> 在外部修改和访问私有变量<code>__变量名</code> </p>
<p>类的私有方法<br>__private_method：两个下划线开头，声明该方法为私有方法，只能在类的内部调用，不能在类的外部调用。在外部不可以通过<code>类名.__方法名</code>  self.__private_methods。</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>:</span></span><br><span class="line">    __name = <span class="string">"张三"</span>  <span class="comment"># 私有变量 单侧双下滑线加名字</span></span><br><span class="line">    school = <span class="string">"北大"</span></span><br><span class="line"></span><br><span class="line">print(dir(Student))  <span class="comment"># student对象的方法和属性</span></span><br><span class="line">[<span class="string">'_Student__name'</span>, <span class="string">'__class__'</span>, <span class="string">'__delattr__'</span>, <span class="string">'__dict__'</span>, <span class="string">'__dir__'</span>, <span class="string">'__doc__'</span>, <span class="string">'__eq__'</span>, <span class="string">'__format__'</span>, <span class="string">'__ge__'</span>, <span class="string">'__getattribute__'</span>, <span class="string">'__gt__'</span>, <span class="string">'__hash__'</span>, <span class="string">'__init__'</span>, <span class="string">'__init_subclass__'</span>, <span class="string">'__le__'</span>, </span><br><span class="line"><span class="string">'__lt__'</span>, <span class="string">'__module__'</span>, <span class="string">'__ne__'</span>, <span class="string">'__new__'</span>, <span class="string">'__reduce__'</span>, <span class="string">'__reduce_ex__'</span>, <span class="string">'__repr__'</span>, <span class="string">'__setattr__'</span>, <span class="string">'__sizeof__'</span>, <span class="string">'__str__'</span>, <span class="string">'__subclasshook__'</span>, <span class="string">'__weakref__'</span>, <span class="string">'school'</span>]</span><br></pre></td></tr></tbody></table></figure>
<p>没有<code>__name</code>这个属性<br>第一个内置方法<code>Student__name</code><br>有最后一个属性<code>school</code></p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>:</span></span><br><span class="line">    __name = <span class="string">"张三"</span>  <span class="comment"># 把私有变量名改为`_类名__变量名</span></span><br><span class="line">    school = <span class="string">"北大"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(Student.school)  <span class="comment"># 北大</span></span><br><span class="line"><span class="comment"># print(Student.__name)  # AttributeError: type object 'Student' has no attribute '__name</span></span><br><span class="line">print(Student._Student__name)  <span class="comment"># 张三</span></span><br></pre></td></tr></tbody></table></figure>


<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>:</span></span><br><span class="line">    name = <span class="string">"四毛"</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__kaoshi</span>(<span class="params">self</span>):</span>  <span class="comment"># 私有方法</span></span><br><span class="line">        print(<span class="string">"学生考试"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(dir(Student))</span><br><span class="line"><span class="comment"># ['_Student__kaoshi', '__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'name'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Student._Student__kaoshi()  # TypeError: __kaoshi() missing 1 required positional argument: 'self'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">s = Student()</span><br><span class="line">print(dir(s))</span><br><span class="line"><span class="comment"># ['_Student__kaoshi', '__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'name']</span></span><br><span class="line">s._Student__kaoshi()  <span class="comment"># 通过dir(s)找到，类似于私有变量</span></span><br><span class="line"><span class="comment"># 学生考试</span></span><br></pre></td></tr></tbody></table></figure>


<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, score</span>):</span></span><br><span class="line">        self.__name = name</span><br><span class="line">        self.__score = score</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__check_score</span>(<span class="params">self, score</span>):</span></span><br><span class="line">        <span class="keyword">if</span> score &gt; <span class="number">100</span> <span class="keyword">or</span> score &lt; <span class="number">0</span>:</span><br><span class="line">            print(<span class="string">"分数必须在0-100之间"</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">marking</span>(<span class="params">self, score</span>):</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> self.__check_score(score):</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        self.__score = score</span><br><span class="line">        print(self.__name + <span class="string">"的当前分数："</span> + str(self.__score))</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">prt</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(self)</span><br><span class="line">        print(self.__class__)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">stu = Student(<span class="string">'gwf'</span>,<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 这样操作虽然是可以的，但是这不是我们在方法中定义的私有变量__score,而是基于python动态语言的特性，又创建了一个__score的变量</span></span><br><span class="line">stu.__score = <span class="number">-1</span></span><br><span class="line">print(stu.__score)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 真正我们创建的私有变量，在python中是以_Student__score(_类名__私有变量名)进行保存的</span></span><br><span class="line">print(stu.__dict__)</span><br><span class="line"><span class="comment"># 上面代码打印的结果为{'name': 'gwf', '_Student__score': 10, '__score': -1}</span></span><br><span class="line"><span class="comment"># 可以通过stu._Student__score 访问到真正的私有变量，但是不推荐这样做</span></span><br><span class="line">print(stu._Student__score) <span class="comment"># 输出 10 </span></span><br><span class="line"></span><br><span class="line">t = Student(<span class="number">10</span>)</span><br><span class="line">t.print_name()</span><br><span class="line"><span class="comment"># t.prt()</span></span><br><span class="line"><span class="comment"># print(t)</span></span><br><span class="line"><span class="comment"># print('---')</span></span><br><span class="line"><span class="comment"># print(t.__class__)</span></span><br><span class="line"><span class="comment"># &lt;__main__.Student object at 0x0000017325E28080&gt;</span></span><br><span class="line"><span class="comment"># &lt;class '__main__.Student'&gt;</span></span><br><span class="line"><span class="comment"># &lt;__main__.Student object at 0x0000017325E28080&gt;</span></span><br><span class="line"><span class="comment"># &lt;class '__main__.Student'&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p><code>classmethod</code> / <code>staticmethod</code>  (它们两个经常被用作类方法的装饰器)</p>
<ul>
<li>都可以通过 <code>ClassName.method()</code> 的方式调用</li>
<li>都不能访问实例方法</li>
</ul>
<h4 id="类方法：定义加-classmethod装饰器来修饰"><a href="#类方法：定义加-classmethod装饰器来修饰" class="headerlink" title="类方法：定义加@classmethod装饰器来修饰"></a>类方法：定义加<code>@classmethod</code>装饰器来修饰</h4><p>该方法与类绑定，而不是与实例对象绑定，<br>第一个形参是 <code>cls</code> 代表的是调用的类本身，类方法不会被自动调用，<br>通过<code>类名.方法名()</code>和<code>实例名.方法名()</code>两种方法进行调用 （但是不建议用对象调用类方法，毕竟逻辑不符），<br>在类方法中用<code>类名.类变量名</code>和<code>cls.类变量名</code>访问和操作类变量，也就能操作类的实例化对象，比如单例模式<br>在类方法中不可以访问实例变量。<br>self.class 则指向类。<br>通过self.class.xxx访问类变量</p>
<p>跟类有关系，又需要类/实例参与的情况下用类方法。</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>:</span></span><br><span class="line">    name = <span class="string">"四毛"</span></span><br><span class="line">    sum_student = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod  # 类方法，类可以直接调用，可以操作类变量</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">study</span>(<span class="params">cls</span>):</span></span><br><span class="line">        print(<span class="string">'当前类名为：{}'</span>.format(cls.__name__))</span><br><span class="line">        print(cls.name + <span class="string">"student study"</span>)</span><br><span class="line">        cls.name = <span class="string">"五毛"</span></span><br><span class="line">        print(cls.name + <span class="string">"student study"</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add_and_print_sum</span>(<span class="params">cls</span>):</span></span><br><span class="line">        cls.sum_student += <span class="number">1</span></span><br><span class="line">        print(cls.sum_student, id(cls.sum_student))</span><br><span class="line">        print(Student.sum_student, id(Student.sum_student))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(dir(Student))</span><br><span class="line"><span class="comment"># ['__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'add_and_print_sum', 'name', 'study', 'sum_student']</span></span><br><span class="line"></span><br><span class="line">Student.study()</span><br><span class="line"><span class="comment"># 当前类名为：Student</span></span><br><span class="line"><span class="comment"># 四毛student study</span></span><br><span class="line"><span class="comment"># 五毛student study</span></span><br><span class="line">Student.add_and_print_sum()</span><br><span class="line"><span class="comment"># 1</span></span><br><span class="line"><span class="comment"># 1</span></span><br><span class="line"></span><br><span class="line">s = Student()</span><br><span class="line">print(dir(s))</span><br><span class="line"><span class="comment"># ['__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'add_and_print_sum', 'name', 'study', 'sum_student']</span></span><br><span class="line"></span><br><span class="line">s.study()</span><br><span class="line"><span class="comment"># 当前类名为：Student</span></span><br><span class="line"><span class="comment"># 五毛student study</span></span><br><span class="line"><span class="comment"># 五毛student study</span></span><br><span class="line"></span><br><span class="line">s.add_and_print_sum()</span><br><span class="line"><span class="comment"># 2 140718899369664</span></span><br><span class="line"><span class="comment"># 2 140718899369664</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="静态方法"><a href="#静态方法" class="headerlink" title="静态方法"></a>静态方法</h4><p>在定义时，使用<code>@staticmethod</code>装饰器来修饰</p>
<p>不用传第一个参数 <code>cls</code>或<code>self</code>关键字即可进行创建的方法。<br>在调用过程时，无需将类实例化，通过<code>类名.方法名()</code>和<code>实例名.方法名()</code>的方式调用。<br>在静态方法内部，只能通过<code>类名.类变量名</code>的方式访问类变量。</p>
<p>静态方法一般使用场景就是和类相关的操作，<br>但是不能操作类变量和类的实例变量，其实跟类并没有什么关系，完全独立的 脱离了类，相当于给了它一个作用范围，让它可以在类里面去使用，<br>完全可以放到类之外，并没有引用当前类的任何东西，本来该放到外面的函数只是给塞到类里。<br>使用起来和普通函数一样，只不过放在类里去组织</p>
<p>经常有一些跟类有关系的功能，但在运行时又不需要实例和类参与的情况下需要用到静态方法<br>哪怕只想放在这个相关类的中，没有其他关系，也就是说可以直接另写一个函数解决, 但这样同样会扩散代码，造成维护困难。<br>多用于写工具</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>:</span></span><br><span class="line">    name = <span class="string">"四毛"</span></span><br><span class="line">    sum_student = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod  # 静态方法 脱离了类而存在的，</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span>():</span></span><br><span class="line">        print(Student.name, <span class="string">"run"</span>)</span><br><span class="line">        <span class="comment"># print(cls.name, "run")  # NameError: name 'cls' is not defined</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod  # 静态方法 脱离了类而存在的，</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">jump</span>(<span class="params">cls</span>):</span></span><br><span class="line">        cls.name = <span class="string">"六毛"</span></span><br><span class="line">        print(<span class="string">"student jump "</span>)</span><br><span class="line">        print(cls.name)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod  # 静态方法 脱离了类而存在的，</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sit</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.name = <span class="string">"六毛"</span></span><br><span class="line">        print(<span class="string">"student sit "</span>)</span><br><span class="line">        print(self.name)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">x, y</span>):</span></span><br><span class="line">        <span class="comment"># 访问类变量(所有地方都可以这样访问类变量)</span></span><br><span class="line">        print(Student.sum_student + x + y)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(dir(Student))</span><br><span class="line"><span class="comment"># ['__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'add', 'jump', 'name', 'run', 'sit', 'sum_student']</span></span><br><span class="line">Student.run()  <span class="comment"># 四毛 run</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Student.jump("hahaha")  # AttributeError: 'str' object has no attribute 'name'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Student.sit("hahaha")  # AttributeError: 'str' object has no attribute 'name'</span></span><br><span class="line"></span><br><span class="line">Student.add(<span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"><span class="comment"># 5</span></span><br><span class="line"></span><br><span class="line">s = Student()</span><br><span class="line">print(dir(s))</span><br><span class="line"><span class="comment"># ['__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'add', 'jump', 'name', 'run', 'sit', 'sum_student']</span></span><br><span class="line">s.run()  <span class="comment"># 四毛 run</span></span><br><span class="line"></span><br><span class="line">s.add(<span class="number">1</span>, <span class="number">5</span>)</span><br><span class="line"><span class="comment"># 6</span></span><br></pre></td></tr></tbody></table></figure>


<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span>(<span class="params">object</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, x, y</span>):</span></span><br><span class="line">        self.x = x</span><br><span class="line">        self.y = y</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="comment"># 下面两句等价</span></span><br><span class="line">        <span class="comment"># return '点的位置:({0}, {1})'.format(self.x, self.y)</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'点的位置:({self.x}, {self.y})'</span>.format(self=self)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    p = Point(<span class="number">4</span>, <span class="number">2</span>)</span><br><span class="line">    print(dir(p))  <span class="comment"># 点的位置:(4, 2)</span></span><br><span class="line">    <span class="comment"># ['__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'x', 'y']</span></span><br><span class="line">    print(p.__dict__)  <span class="comment"># {'x': 4, 'y': 2}</span></span><br><span class="line">    print(p)  <span class="comment"># 点的位置:(4, 2)</span></span><br><span class="line">    print(str(Point(<span class="number">4</span>, <span class="number">2</span>)))  <span class="comment"># 点的位置:(4, 2)</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>


<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyDate</span>(<span class="params">object</span>):</span></span><br><span class="line">    <span class="string">"""自己实现的日期类"""</span></span><br><span class="line">    source = <span class="string">'ioomc'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, month, day</span>):</span></span><br><span class="line">        <span class="string">"""构造方法"""</span></span><br><span class="line">        self.month = month</span><br><span class="line">        self.day = day</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">validate_month</span>(<span class="params">month</span>):</span></span><br><span class="line">        <span class="string">"""静态方法，自定义验证我们的月份是否合法"""</span></span><br><span class="line">        month = int(month)</span><br><span class="line">        print(<span class="string">'类的属性: {}'</span>.format(MyDate.source))</span><br><span class="line">        <span class="comment"># return month &gt;= 1 and month &lt;= 12</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> &lt;= month &lt;= <span class="number">12</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    my_date = MyDate(<span class="number">5</span>, <span class="number">20</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 静态方法的调用</span></span><br><span class="line">    print(MyDate.validate_month(<span class="string">'15'</span>))</span><br><span class="line">    <span class="comment"># 类的属性: ioomc</span></span><br><span class="line">    <span class="comment"># False</span></span><br><span class="line"></span><br><span class="line">    print(my_date.validate_month(<span class="string">'11'</span>))</span><br><span class="line">    <span class="comment"># 类的属性: ioomc</span></span><br><span class="line">    <span class="comment"># True</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span>(<span class="params">object</span>):</span>  </span><br><span class="line">    num = <span class="number">1</span>  </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">printd</span>(<span class="params">self</span>):</span>  </span><br><span class="line">        print(<span class="string">'printd'</span>)  </span><br><span class="line"> </span><br><span class="line"><span class="meta">    @staticmethod  </span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">static_printd</span>():</span>                   <span class="comment"># 没有传入表示自身类的cls参数</span></span><br><span class="line">        print(<span class="string">'static_printd'</span>)  </span><br><span class="line">        print(A.num)  </span><br><span class="line"> </span><br><span class="line"><span class="meta">    @classmethod  </span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">class_printd</span>(<span class="params">cls</span>):</span>              <span class="comment"># 传入表示自身类的cls参数</span></span><br><span class="line">        print(<span class="string">'class_printd'</span>)  </span><br><span class="line">        print(cls.num)  </span><br><span class="line">        cls().printd()  </span><br><span class="line">  </span><br><span class="line">shiliA = A()</span><br><span class="line">A.class_printd() </span><br><span class="line">shiliA.class_printd() </span><br><span class="line"></span><br><span class="line">A.static_printd()  </span><br></pre></td></tr></tbody></table></figure>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
    </div>

    
    
    

    <footer class="post-footer">

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2020/08/21/python-chang-yong-nei-zhi-suan-fa-he-shu-ju-jie-gou/" rel="prev" title="Python常用内置算法和数据结构">
                  <i class="fa fa-chevron-left"></i> Python常用内置算法和数据结构
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2020/08/21/lian-biao/" rel="next" title="链表">
                  链表 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">外心人D</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  




  





</body>
</html>
