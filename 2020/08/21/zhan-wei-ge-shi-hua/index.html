<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.0.2">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css" integrity="sha256-2H3fkXt6FEmrReK448mDVGKb3WW2ZZw35gI7vqHOE4Y=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"bubbleboy11.github.io","root":"/","images":"/images","scheme":"Muse","version":"8.6.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>
<meta name="description" content="format(value[, format_spec])将 value 转换为 format_spec 控制的“格式化”表示。format_spec 的解释取决于 value 实参的类型，但是大多数内置类型使用标准格式化语法：格式规格迷你语言。 默认的 format_spec 是一个空字符串，它通常和调用 str(value) 的结果相同。 调用 format(value, format_spec">
<meta property="og:type" content="article">
<meta property="og:title" content="占位格式化">
<meta property="og:url" content="https://bubbleboy11.github.io/2020/08/21/zhan-wei-ge-shi-hua/index.html">
<meta property="og:site_name" content="外心人D的博客">
<meta property="og:description" content="format(value[, format_spec])将 value 转换为 format_spec 控制的“格式化”表示。format_spec 的解释取决于 value 实参的类型，但是大多数内置类型使用标准格式化语法：格式规格迷你语言。 默认的 format_spec 是一个空字符串，它通常和调用 str(value) 的结果相同。 调用 format(value, format_spec">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-08-20T16:21:41.000Z">
<meta property="article:modified_time" content="2021-06-30T00:25:25.529Z">
<meta property="article:author" content="外心人D">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://bubbleboy11.github.io/2020/08/21/zhan-wei-ge-shi-hua/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"zh-CN","comments":true,"permalink":"https://bubbleboy11.github.io/2020/08/21/zhan-wei-ge-shi-hua/","path":"2020/08/21/zhan-wei-ge-shi-hua/","title":"占位格式化"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>占位格式化 | 外心人D的博客</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="外心人D的博客" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism.css" type="text/css"></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">外心人D的博客</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#s%E5%92%8C-%E6%98%AF%E4%B8%80%E7%A7%8D%E6%A0%BC%E5%BC%8F%E5%8C%96%E7%AC%A6%E5%8F%B7%E3%80%81%E5%8D%A0%E4%BD%8D%E7%AC%A6"><span class="nav-text">%s和 {} 是一种格式化符号、占位符</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%86%85%E5%AE%B9%E9%87%8C%E6%9C%89%E8%8A%B1%E6%8B%AC%E5%8F%B7"><span class="nav-text">字符串内容里有花括号</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#format"><span class="nav-text">format</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#f-quot-string-quot-%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="nav-text">f&quot;string&quot; 格式化</span></a></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-overview">
            <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">外心人D</p>
  <div class="site-description" itemprop="description">本博客大多内容为慕课和网上博客，并非原创</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">322</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">25</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">40</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



          </div>
        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/zhan-wei-ge-shi-hua/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          占位格式化
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-06-30 00:25:25" itemprop="dateModified" datetime="2021-06-30T00:25:25Z">2021-06-30</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <p><code>format(value[, format_spec])</code><br>将 value 转换为 format_spec 控制的“格式化”表示。<br>format_spec 的解释取决于 value 实参的类型，但是大多数内置类型使用标准格式化语法：格式规格迷你语言。</p>
<p>默认的 format_spec 是一个空字符串，它通常和调用 str(value) 的结果相同。</p>
<p>调用 format(value, format_spec) 会转换成 type(value).<strong>format</strong>(value, format_spec) ，所以实例字典中的 <strong>format</strong>() 方法将不会调用。如果搜索到 object 有这个方法但 format_spec 不为空，format_spec 或返回值不是字符串，会触发 TypeError 异常。</p>
<p>在 3.4 版更改: 当 format_spec 不是空字符串时， object().<strong>format</strong>(format_spec) 会触发 TypeError。</p>
<p><code>%</code>符号，格式化的输出，当变量是哪种类型，那么%后面接的类型也是哪一种。</p>
<p>占位符，表示这个位置先占着，待会儿要有数据填入到这里。</p>
<h3 id="s和-是一种格式化符号、占位符"><a href="#s和-是一种格式化符号、占位符" class="headerlink" title="%s和 {} 是一种格式化符号、占位符"></a><code>%s</code>和 <code>{}</code> 是一种格式化符号、占位符</h3><p>Python 解释器 看到 <code>%s</code> ，就会调用内置函数 <code>str()</code>，<br>并将对应的 格式化对象 作为 参数传入，返回的结果字符串填入对应占位符。<br>%s 位置填入的结果，就是调用str函数的返回值。<br>对应的格式化对象，不仅仅是字符串，还可以是整数、浮点数、列表、元组 等</p>
<p><code>str()</code>将指定的对象转换成字符串形式，<br>参数 可以是任何类型的对象，字符串、整数、浮点数、列表、元组等。<br>可以指定编码。<br><code>str(123)='123'</code> 表示格化式一个对象为字符</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">str1 = <span class="string">'我会唱跳rap'</span></span><br><span class="line">str2 = <span class="string">'打篮球'</span></span><br><span class="line"><span class="comment"># 拼接成一个字符串</span></span><br><span class="line">print(str1 + str2)</span><br><span class="line"><span class="comment"># 我会唱跳rap打篮球</span></span><br><span class="line">print(<span class="string">'%s%s'</span> % (str1, str2))</span><br><span class="line"><span class="comment"># 我会唱跳rap打篮球</span></span><br><span class="line">print(<span class="string">'{}{}'</span>.format(str1, str2))</span><br><span class="line"><span class="comment"># 我会唱跳rap打篮球</span></span><br><span class="line">print(<span class="string">f'<span class="subst">{str1}</span><span class="subst">{str2}</span>'</span>)</span><br><span class="line"><span class="comment"># 我会唱跳rap打篮球</span></span><br></pre></td></tr></tbody></table></figure>

<p>格式化字符串里面占位符的个数 必须 和 后面对应的格式化对象个数相同</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">id = <span class="number">123</span></span><br><span class="line">name = <span class="string">'Xiaoming'</span></span><br><span class="line">hegiht = <span class="number">1.7</span></span><br><span class="line">print(<span class="string">'User[%s]: %s %sm '</span> % (id, name, hegiht))</span><br><span class="line"><span class="comment"># User[123]: Xiaoming 1.7m</span></span><br><span class="line">print(<span class="string">'User[%(id)s]: %(name)s %(height)sm'</span> % {</span><br><span class="line">    <span class="string">'id'</span>: <span class="number">123</span>,</span><br><span class="line">    <span class="string">'name'</span>: <span class="string">'Xiaoming'</span>,</span><br><span class="line">    <span class="string">'height'</span>: <span class="number">1.7</span></span><br><span class="line">})</span><br><span class="line"><span class="comment"># User[123]: Xiaoming 1.7m</span></span><br><span class="line"></span><br><span class="line">string = <span class="string">"hello"</span></span><br><span class="line">print(<span class="string">"string=%s!"</span> % (string, ))  <span class="comment"># string=hello!</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 只有一个格式化对象的情况下，可以直接就用格式化对象，不需要放到元组里面</span></span><br><span class="line">print(<span class="string">"string=%s!"</span> % string)  <span class="comment"># string=hello!</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#%2s意思是字符串长度为2，当原字符串的长度超过2时，按原长度打印</span></span><br><span class="line">print(<span class="string">"string=%2s!"</span> % string)  <span class="comment"># string=hello!</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># %7s意思是字符串长度为7，当原字符串的长度小于7时，在原字符串左侧补空格，右边对齐</span></span><br><span class="line">print(<span class="string">"string=%7s!"</span> % string)  <span class="comment"># string=  hello!</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># %-7s意思是字符串长度为7，当原字符串的长度小于7时，在原字符串右侧补空格，左边对齐</span></span><br><span class="line">print(<span class="string">"string=%-7s!"</span> % string)  <span class="comment"># string=hello  !</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># %.2s意思是截取字符串的前2个字符</span></span><br><span class="line">print(<span class="string">"string=%.2s!"</span> % string)  <span class="comment"># string=he!</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># %.7s意思是截取字符串的前7个字符，当原字符串长度小于7时，即是字符串本身</span></span><br><span class="line"><span class="comment"># 所以%.7s的打印结果是hello</span></span><br><span class="line">print(<span class="string">"string=%.7s!"</span> % string)  <span class="comment"># string=hello!</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># %a.bs这种格式是上面两种格式的综合，首先根据小数点后面的数b截取字符串，</span></span><br><span class="line"><span class="comment"># 当截取的字符串长度小于a时，还需要在其左侧补空格</span></span><br><span class="line">print(<span class="string">"string=%7.2s!"</span> % string)  <span class="comment"># string=     he!</span></span><br><span class="line">print(<span class="string">"string=%2.7s!"</span> % string)  <span class="comment"># string=hello!</span></span><br><span class="line">print(<span class="string">"string=%10.7s!"</span> % string)  <span class="comment"># string=     hello!</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用%*.*s来表示精度，两个*的值分别在后面小括号的前两位数值指定</span></span><br><span class="line">print(<span class="string">"string=%*.*s!"</span> % (<span class="number">7</span>, <span class="number">2</span>, string))  <span class="comment"># string=     he!</span></span><br></pre></td></tr></tbody></table></figure>


<p><code>%d</code> dec 十进制 用在 格式化对象 是 整数的情况<br><code>%o</code> —— oct 八进制<br><code>%x</code> —— hex 十六进制</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="number">14</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">"num=%om"</span> % num)  <span class="comment"># num=16m</span></span><br><span class="line">print(<span class="string">"num=%xm"</span> % num)  <span class="comment"># num=em</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">"num=%dm"</span> % num)  <span class="comment"># num=14m</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># %1d意思是打印结果为1位整数，当整数的位数超过1位时，按整数原值打印</span></span><br><span class="line">print(<span class="string">"num=%1dm"</span> % num)  <span class="comment"># num=14m</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># %3d意思是打印结果为3位整数，当整数的位数不够3位时，在整数左侧补空格</span></span><br><span class="line">print(<span class="string">"num=%3dm"</span> % num)  <span class="comment"># num= 14m</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># %-3d意思是打印结果为3位整数，当整数的位数不够3位时，在整数右侧补空格</span></span><br><span class="line">print(<span class="string">"num=%-3dm"</span> % num)  <span class="comment"># num=14 m</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># %03d意思是打印结果为3位整数，当整数的位数不够3位时，在整数左侧补0</span></span><br><span class="line">print(<span class="string">"num=%03dm"</span> % num)  <span class="comment"># num=014m</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># %.3d小数点后面的3意思是打印结果为3位整数，</span></span><br><span class="line"><span class="comment"># 当整数的位数不够3位时，在整数左侧补0</span></span><br><span class="line">print(<span class="string">"num=%.3dm"</span> % num)  <span class="comment"># num=014m</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># %.0003d小数点后面的0003和3一样，都表示3，意思是打印结果为3位整数，</span></span><br><span class="line"><span class="comment"># 当整数的位数不够3位时，在整数左侧补0</span></span><br><span class="line">print(<span class="string">"num=%.0003dm"</span> % num)  <span class="comment"># num=014m</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">'---'</span>)</span><br><span class="line"><span class="comment"># %5.3d是两种补齐方式的综合，当整数的位数不够3时，先在左侧补0，</span></span><br><span class="line"><span class="comment"># 还是不够5位时，再在左侧补空格，</span></span><br><span class="line"><span class="comment"># 规则就是补0优先，最终的长度选数值较大的那个，所以%5.3d的打印结果还是  014</span></span><br><span class="line">print(<span class="string">"num=%5.3dm"</span> % num)  <span class="comment"># num=  014m</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># %05.3d是两种补齐方式的综合，当整数的位数不够3时，先在左侧补0，还是不够5位时，</span></span><br><span class="line"><span class="comment"># 由于是05，再在左侧补0，最终的长度选数值较大的那个</span></span><br><span class="line">print(<span class="string">"num=%05.3dm"</span> % num)  <span class="comment"># num=00014m</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># %*.*d来表示精度，两个*的值分别在后面小括号的前两位数值指定</span></span><br><span class="line"><span class="comment"># 不过这种方式5就失去补0的功能，只能补空格，只有小数点后面的3才能补0</span></span><br><span class="line">print(<span class="string">"num=%*.*dm"</span> % (<span class="number">5</span>, <span class="number">3</span>, num))  <span class="comment"># num=  014m</span></span><br></pre></td></tr></tbody></table></figure>

<p><code>%f</code> 用在 格式化对象 是 浮点数的情况，保留小数点后6位数有效数字<br>指定宽度，而且希望不足宽度补零或者补空格</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="comment"># %f时表示原值，保留小数点后6位数有效数字</span></span><br><span class="line">print(<span class="string">"PI=%f"</span> % <span class="number">3.14</span>)  <span class="comment"># PI=3.140000</span></span><br><span class="line">print(<span class="string">"PI=%010f"</span> % <span class="number">3.14</span>)  <span class="comment"># PI=003.140000</span></span><br><span class="line">print(<span class="string">"PI=%f"</span> % math.pi)  <span class="comment"># PI=3.141593</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># %a.bf，a表示浮点数的打印长度，b表示浮点数小数点后面的精度</span></span><br><span class="line"><span class="comment"># %9f时，表示打印长度9位数，小数点也占一位，不够左侧补空格</span></span><br><span class="line">print(<span class="string">"PI=%9f"</span> % math.pi)  <span class="comment"># PI= 3.141593</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">"PI=%09f"</span> % math.pi)  <span class="comment"># PI=03.141593</span></span><br><span class="line">print(<span class="string">"PI=%010f"</span> % math.pi)  <span class="comment"># PI=003.141593</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">"PI=%03f"</span> % math.pi)  <span class="comment"># PI=3.141593</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 只有.没有后面的数字时，表示去掉小数输出整数，03表示不够3位数左侧补空格</span></span><br><span class="line">print(<span class="string">"PI=%3.f"</span> % math.pi)  <span class="comment"># PI=  3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 只有.没有后面的数字时，表示去掉小数输出整数，03表示不够3位数左侧补0</span></span><br><span class="line">print(<span class="string">"PI=%03.f"</span> % math.pi)  <span class="comment"># PI=003</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># %.1f表示一个浮点数，小数点后保留1位有效数字</span></span><br><span class="line">print(<span class="string">"PI=%.1f"</span> % math.pi)  <span class="comment"># PI=3.1</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># %.3f表示一个浮点数，小数点后保留3位有效数字</span></span><br><span class="line">print(<span class="string">"PI=%.3f"</span> % math.pi)  <span class="comment"># PI=3.142</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">"%.3f"</span> % <span class="number">123.45678</span>)  <span class="comment"># 123.457</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">'{:.3f}'</span>.format(<span class="number">123.45678</span>))  <span class="comment"># 123.457 最后一个数字之所以是7，是因为format会对数据进行四舍五入</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># %6.3f表示小数点后面精确到3位，总长度6位数，包括小数点，不够左侧补空格</span></span><br><span class="line">print(<span class="string">"PI=%6.3f"</span> % math.pi)  <span class="comment"># PI= 3.142</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># %-6.3f表示小数点后面精确到3位，总长度6位数，包括小数点，不够右侧补空格</span></span><br><span class="line">print(<span class="string">"PI=%-6.3f"</span> % math.pi)  <span class="comment"># PI=3.142</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># %*.*f来表示精度，两个*的值分别在后面小括号的前两位数值指定</span></span><br><span class="line"><span class="comment"># 如下，不过这种方式6就失去补0的功能，只能补空格</span></span><br><span class="line">print(<span class="string">"PI=%*.*f"</span> % (<span class="number">6</span>, <span class="number">3</span>, math.pi))  <span class="comment"># PI= 3.142</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="字符串内容里有花括号"><a href="#字符串内容里有花括号" class="headerlink" title="字符串内容里有花括号"></a>字符串内容里有花括号</h2><p>花括号{}内，限定的顺序不能搞错，<br>第一是元素序号，冒号之前的数字实际上是参数的序号，当format内只有一位元素需要输出时，这个序号可以省略<br>第二是冒号，<br>第三是特定填充符号 当输出的内容不足以占满宽度，没有的话默认填充空格<br>第四对齐方式，<br>第五宽度，<br>第六千分位分隔符号，<br>第七精度。</p>
<p>指定填入的字符串的宽度：在<code>{}</code>里面的变量后面加上 <code>:宽度值</code><br>对齐符号<code>&lt;</code>、<code>^</code>、<code>&gt;</code>来表示左对齐、居中对齐、右对齐。<br><code>=</code> （只用于数字）在小数点后进行补齐</p>
<h3 id="format"><a href="#format" class="headerlink" title="format"></a>format</h3><p>将根据*<em>顺序</em>对前面的花括号进行匹配输出。<br>花括号内也可以写上<strong>序号</strong>，对format中的内容进行匹配</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 自然连接</span></span><br><span class="line">print(<span class="string">'We are the {} who say "{}!"'</span>.format(<span class="string">'knights'</span>, <span class="string">'Ni'</span>))</span><br><span class="line"><span class="comment"># We are the knights who say "Ni!"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 指定顺序连接</span></span><br><span class="line">print(<span class="string">'We are the {0} who say "{1}~{0}!"'</span>.format(<span class="string">'knights'</span>, <span class="string">'Ni'</span>))</span><br><span class="line"><span class="comment"># We are the knights who say "Ni~knights!"</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过类似字典的方式指定参数映射</span></span><br><span class="line">print(<span class="string">'We are the {people} who say "{hi}!"'</span>.format(people=<span class="string">'knights'</span>, hi=<span class="string">'Ni'</span>))</span><br><span class="line"><span class="comment"># We are the knights who say "Ni!"</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">'We are the {0} who say "{hi}!"'</span>.format(<span class="string">'knights'</span>, hi=<span class="string">'Ni'</span>))</span><br><span class="line"><span class="comment"># We are the knights who say "Ni!"</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">'{2}, {1}, {0}'</span>.format(*<span class="string">'abc'</span>))</span><br><span class="line"><span class="comment"># c, b, a</span></span><br><span class="line"></span><br><span class="line">octets = [<span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>]</span><br><span class="line">print(<span class="string">'{:02X}{:02X}{:02X}{:02X}'</span>.format(*octets))  <span class="comment"># 位置参数*args?</span></span><br><span class="line"><span class="comment"># 0A0B0C0D</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过下标匹配参数</span></span><br><span class="line">coord = [<span class="number">3</span>, <span class="number">5</span>]</span><br><span class="line">print(<span class="string">'X: {0[0]};  Y: {0[1]}'</span>.format(coord))</span><br><span class="line"><span class="comment"># X: 3;  Y: 5</span></span><br><span class="line"></span><br><span class="line">coord = (<span class="number">3</span>, <span class="number">5</span>)</span><br><span class="line">print(<span class="string">'X: {0[0]};  Y: {0[1]}'</span>.format(coord))</span><br><span class="line"><span class="comment"># X: 3;  Y: 5</span></span><br><span class="line"></span><br><span class="line">coord = [[<span class="number">1</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>]]</span><br><span class="line">print(<span class="string">'X: {0[0]};  Y: {0[1]}'</span>.format(coord))</span><br><span class="line"><span class="comment"># X: [1, 2];  Y: [3, 4]</span></span><br><span class="line"></span><br><span class="line">coord1 = [<span class="number">1</span>, <span class="number">2</span>]</span><br><span class="line">coord2 = [<span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line">print(<span class="string">'X: {0[0]};  Y: {0[1]}'</span>.format(coord1, coord2))</span><br><span class="line"><span class="comment"># X: 1;  Y: 2</span></span><br><span class="line">print(<span class="string">'X: {1[0]};  Y: {1[1]}'</span>.format(coord1, coord2))</span><br><span class="line"><span class="comment"># X: 3;  Y: 4</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过key匹配参数</span></span><br><span class="line">person = {<span class="string">'name'</span>: <span class="string">'ashe'</span>, <span class="string">'age'</span>: <span class="number">25</span>}</span><br><span class="line"><span class="comment"># 中括号内的key是不用引号引起来的。如果改成{0[“name”]}就会报错。</span></span><br><span class="line">print(<span class="string">'name：{0[name]}, age：{0[age]}'</span>.format(person))</span><br><span class="line"><span class="comment"># name：ashe, age：25</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">'name：{name}, age：{age}'</span>.format(**person))</span><br><span class="line"><span class="comment"># name：ashe, age：25</span></span><br><span class="line"></span><br><span class="line">person1 = {<span class="string">'name'</span>: <span class="string">'ashe'</span>}</span><br><span class="line">person2 = {<span class="string">'age'</span>: <span class="number">25</span>}</span><br><span class="line">print(<span class="string">'name：{0[name]}, age：{1[age]}'</span>.format(person1, person2))</span><br><span class="line"><span class="comment"># name：ashe, age：25</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">'name：{:0^8}, age：{:*&gt;4}'</span>.format(<span class="string">'ashe'</span>, <span class="number">25</span>))</span><br><span class="line"><span class="comment"># name：000ashe000, age：**25</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 千位分隔符</span></span><br><span class="line">print(<span class="string">'{:,}'</span>.format(<span class="number">1234567890</span>))  <span class="comment"># 1,234,567,890</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">'{0:*^20,.3f}  {1:*&gt;20,.3f}   {1:-^15}'</span>.format(<span class="number">12345.6789</span>, <span class="number">5647854.12452</span>,</span><br><span class="line">                                                     <span class="string">'hello'</span>))</span><br><span class="line"><span class="comment"># *****12,345.679*****  *******5,647,854.125   -5647854.12452-</span></span><br></pre></td></tr></tbody></table></figure>

<p>字符串默认左对齐</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">var = <span class="string">'34324'</span></span><br><span class="line">print(<span class="string">f'<span class="subst">{var}</span>'</span>)</span><br><span class="line"><span class="comment"># 34324</span></span><br><span class="line">print(<span class="string">'对**字符串**不足指定宽度的时候补空格'</span>)</span><br><span class="line">print(<span class="string">f'<span class="subst">{var:<span class="number">8</span>}</span>'</span>)</span><br><span class="line"><span class="comment"># 34324    # 字符串默认左对齐</span></span><br><span class="line">print(<span class="string">f'<span class="subst">{var:&lt;<span class="number">8</span>}</span>'</span>)</span><br><span class="line"><span class="comment"># 34324</span></span><br><span class="line">print(<span class="string">f'<span class="subst">{var:&gt;<span class="number">8</span>}</span>'</span>)</span><br><span class="line"><span class="comment">#    34324</span></span><br><span class="line">print(<span class="string">f'<span class="subst">{var:&gt;<span class="number">11</span>}</span>'</span>, <span class="string">"len ="</span>, len(<span class="string">f'<span class="subst">{var:&gt;<span class="number">11</span>}</span>'</span>))</span><br><span class="line"><span class="comment">#       34324 len = 11</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># print('对**数字**不足指定宽度的时候补数字0')</span></span><br><span class="line">print(<span class="string">f'<span class="subst">{var:<span class="number">08</span>}</span>'</span>)</span><br><span class="line"><span class="comment"># ValueError: '=' alignment not allowed in string format specifier</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">f'<span class="subst">{var:&lt;<span class="number">08</span>}</span>'</span>)</span><br><span class="line"><span class="comment"># 34324000</span></span><br><span class="line">print(<span class="string">f'<span class="subst">{var:&gt;<span class="number">08</span>}</span>'</span>)</span><br><span class="line"><span class="comment"># 00034324</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># print(f'{var:.1f}')</span></span><br><span class="line"><span class="comment"># ValueError: Unknown format code 'f' for object of type 'str'</span></span><br></pre></td></tr></tbody></table></figure>

<p>数字默认右对齐</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">var = <span class="number">34324</span></span><br><span class="line">print(<span class="string">f'<span class="subst">{var}</span>'</span>)</span><br><span class="line"><span class="comment"># 34324</span></span><br><span class="line">print(<span class="string">'对**数字**不足指定宽度的时候补空格'</span>)</span><br><span class="line">print(<span class="string">f'<span class="subst">{var:<span class="number">8</span>}</span>'</span>)</span><br><span class="line"><span class="comment">#    34324 数字默认右对齐</span></span><br><span class="line">print(<span class="string">f'<span class="subst">{var:&lt;<span class="number">8</span>}</span>'</span>)</span><br><span class="line"><span class="comment"># 34324</span></span><br><span class="line">print(<span class="string">f'<span class="subst">{var:&gt;<span class="number">8</span>}</span>'</span>)</span><br><span class="line"><span class="comment">#    34324</span></span><br><span class="line">print(<span class="string">f'<span class="subst">{var:&gt;<span class="number">11</span>}</span>'</span>, <span class="string">"len ="</span>, len(<span class="string">f'<span class="subst">{var:&gt;<span class="number">11</span>}</span>'</span>))</span><br><span class="line"><span class="comment">#       34324 len = 11</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">'对**数字**不足指定宽度的时候补数字0'</span>)</span><br><span class="line">print(<span class="string">f'<span class="subst">{var:<span class="number">08</span>}</span>'</span>)</span><br><span class="line"><span class="comment"># 00034324 数字指定长度能08</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">f'<span class="subst">{var:&lt;<span class="number">08</span>}</span>'</span>)</span><br><span class="line"><span class="comment"># 34324000</span></span><br><span class="line">print(<span class="string">f'<span class="subst">{var:&gt;<span class="number">08</span>}</span>'</span>)</span><br><span class="line"><span class="comment"># 00034324</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">f'<span class="subst">{var:<span class="number">.1</span>f}</span>'</span>)</span><br><span class="line"><span class="comment"># 34324.0</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">f'<span class="subst">{var:<span class="number">8.1</span>f}</span>'</span>)</span><br><span class="line"><span class="comment">#  34324.0</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">'{} is {:.2f}'</span>.format(<span class="number">1.123</span>, <span class="number">1.123</span>))  <span class="comment"># 取2位小数</span></span><br><span class="line"><span class="comment"># 1.123 is 1.12</span></span><br><span class="line">print(<span class="string">'{0} is {0:&gt;10.2f}'</span>.format(<span class="number">1.123</span>))  <span class="comment"># 取2位小数，右对齐，取10位</span></span><br><span class="line"><span class="comment"># 1.123 is       1.12</span></span><br><span class="line">print(<span class="string">'{} is {:&gt;10.2f}'</span>.format(<span class="number">1.123</span>))  <span class="comment"># IndexError: Replacement index 1 out of range for positional args tuple</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">'{:0=30}'</span>.format(<span class="number">11</span>))  <span class="comment"># 还有“=”只能应用于数字，这种方法可用“&gt;”代替</span></span><br><span class="line"><span class="comment"># '000000000000000000000000000011'</span></span><br></pre></td></tr></tbody></table></figure>

<p>进制数输出<br><code>b</code>、<code>d</code>、<code>o</code>、<code>x</code>分别是二进制、十进制、八进制、十六进制</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">'{:b}'</span>.format(<span class="number">10</span>))  <span class="comment"># 1010</span></span><br><span class="line">print(<span class="string">'{0:b}'</span>.format(<span class="number">10</span>))  <span class="comment"># 1010</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">'{:d}'</span>.format(<span class="number">20</span>))</span><br><span class="line"><span class="comment"># 20</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用 X 表示格式化为16进制，并采用小写格式</span></span><br><span class="line">print(<span class="string">f'数字12的16进制表示为：<span class="subst">{<span class="number">12</span>:x}</span>'</span>)</span><br><span class="line"><span class="comment"># 数字12的16进制表示为：c</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用 X 表示格式化为16进制，并采用大写格式</span></span><br><span class="line">print(<span class="string">f'数字12的16进制表示为：<span class="subst">{<span class="number">12</span>:X}</span>'</span>)</span><br><span class="line"><span class="comment"># 数字12的16进制表示为：C</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">"bin: {0:b}; int: {0:d}; oct: {0:o}; hex: {0:x}; "</span>.format(<span class="number">12</span>))</span><br><span class="line"><span class="comment"># bin: 1100; int: 12;  oct: 14; hex: c;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># with 0x, 0o, or 0b as prefix:</span></span><br><span class="line">print(<span class="string">"bin: {0:#b}; int: {0:d};  oct: {0:#o};  hex: {0:#x}"</span>.format(</span><br><span class="line">    <span class="number">12</span>))  <span class="comment"># 在前面加“#”，则带进制前缀</span></span><br><span class="line"><span class="comment"># bin: 0b1100; int: 12;  oct: 0o14;  hex: 0xc</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<h3 id="f-quot-string-quot-格式化"><a href="#f-quot-string-quot-格式化" class="headerlink" title="f&quot;string&quot; 格式化"></a><code>f"string"</code> 格式化</h3><p>在字符串模板前面加上f，然后占位符使用{}，里面直接放入对应的数据对象。</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">salary = input(<span class="string">'请输入薪资：'</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算出缴税额，存入变量tax</span></span><br><span class="line">tax = int(salary) * <span class="number">25</span> / <span class="number">100</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算出税后工资，存入变量aftertax</span></span><br><span class="line">aftertax = int(salary) * <span class="number">75</span> / <span class="number">100</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">f'税前薪资是：<span class="subst">{salary}</span>元， 缴税：<span class="subst">{tax}</span>元， 税后薪资是：<span class="subst">{aftertax}</span>元'</span>)</span><br><span class="line"><span class="comment"># 请输入薪资：10000</span></span><br><span class="line"><span class="comment"># 税前薪资是：10000元， 缴税：2500.0元，</span></span><br><span class="line"><span class="comment"># 税后薪资是：7500.0元</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">salary = <span class="number">10000</span></span><br><span class="line">tax = int(salary) * <span class="number">25</span> / <span class="number">100</span></span><br><span class="line">aftertax = int(salary) * <span class="number">75</span> / <span class="number">100</span></span><br><span class="line">print(<span class="string">f'税前薪资是：<span class="subst">{salary:<span class="number">8</span>}</span>元， 缴税：<span class="subst">{tax:<span class="number">8</span>}</span>元， 税后薪资是：<span class="subst">{aftertax:<span class="number">8</span>}</span>元'</span>)</span><br><span class="line"><span class="comment"># 税前薪资是：   10000元， 缴税：  2500.0元， 税后薪资是：  7500.0元</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">calcTax</span>(<span class="params">salary</span>):</span></span><br><span class="line">    tax = int(salary) * <span class="number">25</span> / <span class="number">100</span></span><br><span class="line">    aftertax = int(salary) * <span class="number">75</span> / <span class="number">100</span></span><br><span class="line">    print(<span class="string">f'税前薪资是：<span class="subst">{salary:&lt;<span class="number">8</span>}</span>元， 缴税：<span class="subst">{tax:&lt;<span class="number">8</span>}</span>元， 税后薪资是：<span class="subst">{aftertax:&lt;<span class="number">8</span>}</span>元'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">calcTax(<span class="number">10000</span>)</span><br><span class="line"><span class="comment"># 税前薪资是：10000   元， 缴税：2500.0  元， 税后薪资是 ：7500.0  元</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> math</span><br><span class="line"></span><br><span class="line"><span class="comment"># .3f就表示小数点后面保留1位</span></span><br><span class="line">print(<span class="string">"%.3f"</span> % <span class="number">123.45678</span>)  <span class="comment"># 123.457</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">'{:.3f}'</span>.format(<span class="number">123.45678</span>))  <span class="comment"># 123.457</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">f'The value of pi is approximately <span class="subst">{math.pi:<span class="number">.3</span>f}</span>.'</span>)</span><br><span class="line"><span class="comment"># The value of pi is approximately 3.142.</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">f'The value of pi is approximately <span class="subst">{math.pi:<span class="number">2.3</span>f}</span>.'</span>)</span><br><span class="line"><span class="comment"># The value of pi is approximately 3.142.</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">f'The value of pi is approximately <span class="subst">{math.pi:<span class="number">6.3</span>f}</span>.'</span>)</span><br><span class="line"><span class="comment"># The value of pi is approximately  3.142.</span></span><br></pre></td></tr></tbody></table></figure>

<p>采用 f-string 方式格式化的 字符串内容本身就有 <code>{</code> 或者 <code>}</code> 符号，<br>一定要 双写 进行转义，否则会被当成是 格式化占位符。</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">times1 = <span class="number">1000</span></span><br><span class="line">times2 = <span class="number">2000</span></span><br><span class="line">print(<span class="string">f'文章中 {{ 符号 出现了 <span class="subst">{times1}</span> 次'</span>)</span><br><span class="line"><span class="comment"># 文章中 { 符号 出现了 1000 次</span></span><br><span class="line">print(<span class="string">f'文章中 }} 符号 出现了 <span class="subst">{times2}</span> 次'</span>)</span><br><span class="line"><span class="comment"># 文章中 } 符号 出现了 2000 次</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">replacement_field ::= <span class="string">"{"</span> [field_name] [<span class="string">"!"</span> conversion] [<span class="string">":"</span> format_spec] <span class="string">"}"</span></span><br><span class="line">conversion ::= <span class="string">"r"</span> | <span class="string">"s"</span> | <span class="string">"a"</span></span><br></pre></td></tr></tbody></table></figure>

<p>这里只有三个转换符号，用”!”开头。<br><code>!r</code>对应 <code>repr()</code>；<code>!s</code>对应 <code>str()</code>; <code>!a</code>对应<code>ascii()</code>。</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">animals = <span class="string">'eels'</span></span><br><span class="line">print(<span class="string">f'My hovercraft is full of <span class="subst">{animals}</span>.'</span>)</span><br><span class="line"><span class="comment"># My hovercraft is full of eels.</span></span><br><span class="line">print(<span class="string">f'My hovercraft is full of <span class="subst">{animals!r}</span>.'</span>)</span><br><span class="line"><span class="comment"># My hovercraft is full of 'eels'.</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">"repr() shows quotes: {!r}; str() doesn't: {!s}"</span>.format(<span class="string">'test1'</span>, <span class="string">'test2'</span>))</span><br><span class="line"><span class="comment"># "repr() shows quotes: 'test1'; str() doesn't: test2"  # 输出结果是一个带引号，一个不带</span></span><br></pre></td></tr></tbody></table></figure>


<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">salary = <span class="number">10000</span></span><br><span class="line"><span class="comment"># 指定了 宽度为10 个字符， 如果填入的字符串不足10个字符，就在前面加上空格，右边对齐</span></span><br><span class="line">print(<span class="string">f'<span class="subst">{salary:<span class="number">10</span>}</span>'</span>)  <span class="comment">#      10000 </span></span><br><span class="line"></span><br><span class="line">table = {<span class="string">'Sjoerd'</span>: <span class="number">4127</span>, <span class="string">'Jack'</span>: <span class="number">4098</span>, <span class="string">'Dcab'</span>: <span class="number">7678</span>}</span><br><span class="line"><span class="keyword">for</span> name, phone <span class="keyword">in</span> table.items():</span><br><span class="line">    print(<span class="string">f'<span class="subst">{name:<span class="number">10</span>}</span> ==&gt; <span class="subst">{phone:<span class="number">10</span>d}</span>'</span>)</span><br><span class="line"><span class="comment"># Sjoerd     ==&gt;       4127</span></span><br><span class="line"><span class="comment"># Jack       ==&gt;       4098</span></span><br><span class="line"><span class="comment"># Dcab       ==&gt;       7678</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">'Jack: {0[Jack]:d}; Sjoerd: {0[Sjoerd]:d}; '</span></span><br><span class="line">      <span class="string">''</span></span><br><span class="line">      <span class="string">'Dcab: {0[Dcab]:d}'</span>.format(table))</span><br><span class="line"><span class="comment"># Jack: 4098; Sjoerd: 4127; Dcab: 8637678</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">info = [[<span class="string">'user1'</span>, <span class="number">345.6</span>, <span class="number">12</span>, <span class="string">'黄金'</span>], [<span class="string">'user2'</span>, <span class="number">2345.6</span>, <span class="number">8</span>, <span class="string">'白银'</span>],</span><br><span class="line">        [<span class="string">'user3555'</span>, <span class="number">55345.6</span>, <span class="number">22</span>, <span class="string">'钻石'</span>]]</span><br><span class="line"></span><br><span class="line">print(</span><br><span class="line">    <span class="string">f'用户：<span class="subst">{info[<span class="number">0</span>][<span class="number">0</span>]:&gt;<span class="number">10</span>}</span>， 积分：<span class="subst">{info[<span class="number">0</span>][<span class="number">1</span>]:<span class="number">7</span>}</span>， 等级：<span class="subst">{info[<span class="number">0</span>][<span class="number">2</span>]:<span class="number">2</span>}</span>， 头衔：<span class="subst">{info[<span class="number">0</span>][<span class="number">3</span>]}</span>'</span></span><br><span class="line">)</span><br><span class="line">print(</span><br><span class="line">    <span class="string">f'用户：<span class="subst">{info[<span class="number">1</span>][<span class="number">0</span>]:&gt;<span class="number">10</span>}</span>， 积分：<span class="subst">{info[<span class="number">1</span>][<span class="number">1</span>]:<span class="number">7</span>}</span>， 等级：<span class="subst">{info[<span class="number">1</span>][<span class="number">2</span>]:<span class="number">2</span>}</span>， 头衔：<span class="subst">{info[<span class="number">1</span>][<span class="number">3</span>]}</span>'</span></span><br><span class="line">)</span><br><span class="line">print(</span><br><span class="line">    <span class="string">f'用户：<span class="subst">{info[<span class="number">2</span>][<span class="number">0</span>]:&gt;<span class="number">10</span>}</span>， 积分：<span class="subst">{info[<span class="number">2</span>][<span class="number">1</span>]:<span class="number">7</span>}</span>， 等级：<span class="subst">{info[<span class="number">2</span>][<span class="number">2</span>]:<span class="number">2</span>}</span>， 头衔：<span class="subst">{info[<span class="number">2</span>][<span class="number">3</span>]}</span>'</span></span><br><span class="line">)</span><br><span class="line"><span class="comment"># 用户：     user1， 积分：  345.6， 等级：12， 头衔：黄金</span></span><br><span class="line"><span class="comment"># 用户：     user2， 积分： 2345.6， 等级： 8， 头衔：白银</span></span><br><span class="line"><span class="comment"># 用户：  user3555， 积分：55345.6， 等级：22， 头衔：钻石</span></span><br></pre></td></tr></tbody></table></figure>

<p>%e ——保留小数点后面六位有效数字，指数形式输出<br>　　%.3e，保留3位小数位，使用科学计数法<br>%g ——在保证六位有效数字的前提下，使用小数方式，否则使用科学计数法<br>　　%.3g，保留3位有效数字，使用小数或科学计数法</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">print(<span class="string">'%e'</span> % <span class="number">1.11</span>)  <span class="comment"># 默认6位小数，用科学计数法</span></span><br><span class="line"><span class="comment"># 1.110000e+00</span></span><br><span class="line">print(<span class="string">'%.3e'</span> % <span class="number">1.11</span>)  <span class="comment"># 取3位小数，用科学计数法</span></span><br><span class="line"><span class="comment"># 1.110e+00</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">'%g'</span> % <span class="number">1111.1111</span>)  <span class="comment"># 默认6位有效数字</span></span><br><span class="line"><span class="comment"># 1111.11</span></span><br><span class="line">print(<span class="string">'%.7g'</span> % <span class="number">1111.1111</span>)  <span class="comment"># 取7位有效数字</span></span><br><span class="line"><span class="comment"># 1111.111</span></span><br><span class="line">print(<span class="string">'%.2g'</span> % <span class="number">1111.1111</span>)  <span class="comment"># 取2位有效数字，自动转换为科学计数法</span></span><br><span class="line"><span class="comment"># 1.1e+03</span></span><br></pre></td></tr></tbody></table></figure>

<p>‘e’ - 幂符号。用科学计数法打印数字。用’e’表示幂。<br>‘g’ - 一般格式。将数值以fixed-point格式输出。当数值特别大的时候，用幂形式打印。<br>‘n’ - 数字。当值为整数时和’d’相同，值为浮点数时和’g’相同。不同的是它会根据区域设置插入数字分隔符。<br>‘%’ - 百分数。将数值乘以100然后以fixed-point(‘f’)格式打印，值后面会有一个百分号。</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">'{:e}'</span>.format(<span class="number">20</span>))</span><br><span class="line"><span class="comment"># 2.000000e+01</span></span><br><span class="line">print(<span class="string">'{:g}'</span>.format(<span class="number">20.1</span>))</span><br><span class="line"><span class="comment"># 20.1</span></span><br><span class="line">print(<span class="string">'{:f}'</span>.format(<span class="number">20</span>))</span><br><span class="line"><span class="comment"># 20.000000</span></span><br><span class="line">print(<span class="string">'{:n}'</span>.format(<span class="number">20</span>))</span><br><span class="line"><span class="comment"># 20</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">'{:%}'</span>.format(<span class="number">20</span>))</span><br><span class="line"><span class="comment"># 2000.000000%</span></span><br><span class="line">points = <span class="number">3</span></span><br><span class="line">total = <span class="number">5</span></span><br><span class="line">print(<span class="string">'Correct answers: {:.2%}'</span>.format(points/total))</span><br><span class="line"><span class="comment"># Correct answers: 60.00%</span></span><br></pre></td></tr></tbody></table></figure>

<p>正负符号显示 %+f, %-f, 和 % f的用法</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">'{:+f}; {:+f}'</span>.format(<span class="number">3.14</span>, <span class="number">-3.14</span>))  <span class="comment"># 总是显示符号</span></span><br><span class="line"><span class="comment"># +3.140000; -3.140000</span></span><br><span class="line">print(<span class="string">'{: f}; {: f}'</span>.format(<span class="number">3.14</span>, <span class="number">-3.14</span>))  <span class="comment"># 若是+数，则在前面留空格</span></span><br><span class="line"><span class="comment">#  3.140000; -3.140000</span></span><br><span class="line">print(<span class="string">'{:-f}; {:-f}'</span>.format(<span class="number">3.14</span>, <span class="number">-3.14</span>))  <span class="comment"># -数时显示-，与'{:f}; {:f}'一致</span></span><br><span class="line"><span class="comment"># 3.140000; -3.140000</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">width = <span class="number">5</span></span><br><span class="line"><span class="keyword">for</span> num <span class="keyword">in</span> range(<span class="number">5</span>, <span class="number">12</span>):</span><br><span class="line">    <span class="keyword">for</span> base <span class="keyword">in</span> <span class="string">'dXob'</span>:</span><br><span class="line">        print(<span class="string">'{0:{width}{base}}'</span>.format(num, base=base, width=width), end=<span class="string">' '</span>)</span><br><span class="line">    print()</span><br><span class="line"></span><br><span class="line"><span class="comment">#     5     5     5   101</span></span><br><span class="line"><span class="comment">#     6     6     6   110</span></span><br><span class="line"><span class="comment">#     7     7     7   111</span></span><br><span class="line"><span class="comment">#     8     8    10  1000</span></span><br><span class="line"><span class="comment">#     9     9    11  1001</span></span><br><span class="line"><span class="comment">#    10     A    12  1010</span></span><br><span class="line"><span class="comment">#    11     B    13  1011</span></span><br></pre></td></tr></tbody></table></figure>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
    </div>

    
    
    

    <footer class="post-footer">

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2020/08/21/shi-xian-tong-bu-deng-lu-ji-tui-chu-shi-xian-bu-zou/" rel="prev" title="实现同步登录及退出实现步骤">
                  <i class="fa fa-chevron-left"></i> 实现同步登录及退出实现步骤
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2020/08/21/unittest/" rel="next" title="unittest">
                  unittest <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">外心人D</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  




  





</body>
</html>
