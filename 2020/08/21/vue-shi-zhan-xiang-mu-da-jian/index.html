<!DOCTYPE html>
<html  lang="zh-CN" >
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="theme-color" content="#fff" id="theme-color">
  <meta name="description" content="本博客大多内容为慕课和网上博客，并非原创">
  <link rel="icon" href="/img/logo.png">
  <title>Vue实战项目搭建</title>
  
  
  <meta property="og:title" content="Vue实战项目搭建">
  
  
  <meta property="og:url" content="https://bubbleboy11.github.io/2020/08/21/vue-shi-zhan-xiang-mu-da-jian/index.html">
  
  
  <meta property="og:img" content="/img/author_img.png">
  
  
  <meta property="og:img" content="本博客大多内容为慕课和网上博客，并非原创">
  
  
  <meta property="og:type" content="article">
  <meta property="og:article:published_time" content="2020-08-20">
  <meta property="og:article:modified_time" content="2021-04-02">
  <meta property="og:article:author" content="外心人D">
  
  
  <meta property="og:article:tag" content="Vue">
  
  
  
  
  <script>
    // control reverse button
    var reverseDarkList = {
      dark: 'light',
      light: 'dark'
    };
    var themeColor = {
      dark: '#1c1c1e',
      light: '#fff'
    }
    // get the data of css prefers-color-scheme
    var getCssMediaQuery = function() {
      return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
    };
    // reverse current darkmode setting function
    var reverseDarkModeSetting = function() {
      var setting = localStorage.getItem('user-color-scheme');
      if(reverseDarkList[setting]) {
        setting = reverseDarkList[setting];
      } else if(setting === null) {
        setting = reverseDarkList[getCssMediaQuery()];
      } else {
        return;
      }
      localStorage.setItem('user-color-scheme', setting);
      return setting;
    };
    // apply current darkmode setting
    var setDarkmode = function(mode) {
      var setting = mode || localStorage.getItem('user-color-scheme');
      if(setting === getCssMediaQuery()) {
        document.documentElement.removeAttribute('data-user-color-scheme');
        localStorage.removeItem('user-color-scheme');
        document.getElementById('theme-color').content = themeColor[setting];
      } else if(reverseDarkList[setting]) {
        document.documentElement.setAttribute('data-user-color-scheme', setting);
        document.getElementById('theme-color').content = themeColor[setting];
      } else {
        document.documentElement.removeAttribute('data-user-color-scheme');
        localStorage.removeItem('user-color-scheme');
        document.getElementById('theme-color').content = themeColor[getCssMediaQuery()];
      }
    };
    setDarkmode();
  </script>
  <script>
    function loadScript(url, cb) {
      var script = document.createElement('script');
      script.src = url;
      if (cb) script.onload = cb;
      script.async = true;
      document.body.appendChild(script);
    }
  </script>
  
  <link rel="preload" href="//at.alicdn.com/t/font_1946621_i1kgafibvw.css" as="style" >
  <link rel="preload" href="//at.alicdn.com/t/font_1952792_89b4ac4k4up.css" as="style" >
  
  <link rel="preload" href="/js/lib/lightbox/baguetteBox.min.js" as="script">
  <link rel="preload" href="/js/lib/lightbox/baguetteBox.min.css" as="style" >
  
  
  <link rel="preload" href="/js/lib/lozad.min.js" as="script">
  
  
  
  
  
  <link rel="prefetch" href="//cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-svg.js" as="script">
  
  
  
  
  
<link rel="stylesheet" href="/css/main.css">

  
  
<link rel="stylesheet" href="//at.alicdn.com/t/font_1946621_i1kgafibvw.css">

  
  
<link rel="stylesheet" href="//at.alicdn.com/t/font_1952792_89b4ac4k4up.css">

  
  
<link rel="stylesheet" href="/js/lib/lightbox/baguetteBox.min.css">

  
  
  
  
<meta name="generator" content="Hexo 5.0.2"><link rel="alternate" href="/atom.xml" title="外心人D的博客" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism.css" type="text/css"></head>


<body>
  <div class="wrapper">
    
    <nav class="navbar">
  <div class="navbar-logo">
    <span class="navbar-logo-main">
      
      <img class="navbar-logo-img" src="/img/logo.png" alt="logo">
      
      <span class="navbar-logo-dsc">外心人D</span>
    </span>
  </div>
  <div class="navbar-menu">
    
    <a href="/" class="navbar-menu-item">
    
    首页
    
    </a>
    
    <a href="/archives" class="navbar-menu-item">
    
    归档
    
    </a>
    
    <a href="/tags" class="navbar-menu-item">
    
    标签
    
    </a>
    
    <a href="/categories" class="navbar-menu-item">
    
    分类
    
    </a>
    
    <a href="/about" class="navbar-menu-item">
    
    关于
    
    </a>
    
    <a href="/links" class="navbar-menu-item">
    
    友链
    
    </a>
    
    <a class="navbar-menu-item darknavbar" id="dark"><i class="iconfont icon-weather"></i></a>
    <a class="navbar-menu-item searchnavbar" id="search"><i class="iconfont icon-search" style="font-size: 1.2rem; font-weight: 400;"></i></a>
  </div>
</nav>
    
    <div id="local-search" style="display: none;">
      <input class="navbar-menu-item" id="search-input" placeholder="请输入搜索内容...">
      <div id="search-content"></div>
    </div>
    
    <div class="section-wrap">
      <div class="container">
        <div class="columns">
          <main class="main-column">
<article class="card card-content">
  <header>
    <h1 class="post-title">
      Vue实战项目搭建
    </h1>
  </header>
  <div class="post-meta post-show-meta">
    <time datetime="2020-08-20T16:21:41.000Z">
      <i class="iconfont icon-calendar" style="margin-right: 2px;"></i>
      <span>2020-08-20</span>
    </time>
    
    <span class="dot"></span>
    
    <a href="/categories/旅游网项目/" class="post-meta-link">旅游网项目</a>
    
    
    
    <span class="dot"></span>
    <span>5.3k 字</span>
    
  </div>
  
  <div class="post-meta post-show-meta" style="margin-top: -10px;">
    <div style="display: flex; align-items: center;">
      <i class="iconfont icon-biaoqian" style="margin-right: 2px; font-size: 1.15rem;"></i>
      
      
        <a href="/tags/Vue/" class="post-meta-link">Vue</a>
      
    </div>
  </div>
  
  </header>
  <div id="section" class="post-content">
    <h3 id="项目的搭建"><a href="#项目的搭建" class="headerlink" title="项目的搭建"></a>项目的搭建</h3><ul>
<li>项目公共的配置（ajax配置、项目结构、目录等）</li>
<li>前后端通信方式（接口规范、错误码等）</li>
</ul>
<h3 id="开发的流程"><a href="#开发的流程" class="headerlink" title="开发的流程"></a>开发的流程</h3><ul>
<li>【前端】实现页面（组件）</li>
<li>【前端】使用假数据，或者是mock数据</li>
<li>【后端】模型分析，建模</li>
<li>【后端】实现接口</li>
<li>【前/后端】接口文档编写</li>
<li>【前/后端】接口联调(对接)</li>
</ul>
<h3 id="实战项目搭建"><a href="#实战项目搭建" class="headerlink" title="实战项目搭建"></a>实战项目搭建</h3><p>操作步骤</p>
<ul>
<li>第一步，使用Vue CLI 搭建项目</li>
<li>第二步，准备好静态资源（图片资源）</li>
<li>第三步，调整生产项目结构</li>
</ul>
<p>项目结构</p>
<ul>
<li>公共的样式<br><code>src/assets/common.less</code></li>
<li>公共js（工具函数、接口地址、配置文件）<figure class="highlight less"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre class=" language-hljs less"><span class="hljs-comment">// 接口地址配置</span><br><span class="hljs-selector-tag">src</span>/<span class="hljs-selector-tag">utils</span>/<span class="hljs-selector-tag">apis</span><span class="hljs-selector-class">.js</span><br><span class="hljs-comment">// 常量配置</span><br><span class="hljs-selector-tag">src</span>/<span class="hljs-selector-tag">utils</span>/<span class="hljs-selector-tag">constants</span><span class="hljs-selector-class">.js</span><br><span class="hljs-comment">// 工具函数</span><br><span class="hljs-selector-tag">src</span>/<span class="hljs-selector-tag">utils</span>/<span class="hljs-selector-tag">filters</span><span class="hljs-selector-class"><code class="language-hljs less"><span class="hljs-comment">// 接口地址配置</span><br><span class="hljs-selector-tag">src</span>/<span class="hljs-selector-tag">utils</span>/<span class="hljs-selector-tag">apis</span><span class="hljs-selector-class">.js</span><br><span class="hljs-comment">// 常量配置</span><br><span class="hljs-selector-tag">src</span>/<span class="hljs-selector-tag">utils</span>/<span class="hljs-selector-tag">constants</span><span class="hljs-selector-class">.js</span><br><span class="hljs-comment">// 工具函数</span><br><span class="hljs-selector-tag">src</span>/<span class="hljs-selector-tag">utils</span>/<span class="hljs-selector-tag">filters</span><span class="hljs-selector-class">.js</span><br></code></pre></td></tr></tbody></table></figure>

</li>
</ul>
<p>首页拆解<br>操作步骤</p>
<ul>
<li>第一步，分析首页的结构</li>
<li>第二步，新建页面</li>
<li>第三步，新建对应组件</li>
</ul>
<p>首页组件拆分</p>
<ul>
<li>标题</li>
<li>轮播图（Banner图）</li>
<li>本周推荐</li>
<li>精选景点</li>
<li>底部导航<br>如果组件很多地方都用到过，应该放在<code>/src/component/common</code><br>如果只有某一个页面用到，应该放在<code>/src/component/home</code></li>
</ul>
<h3 id="为何不能在Vue-js中使用AJAX"><a href="#为何不能在Vue-js中使用AJAX" class="headerlink" title="为何不能在Vue.js中使用AJAX"></a>为何不能在Vue.js中使用AJAX</h3><ul>
<li>Ajax是通过浏览器后台与服务器通信的技术</li>
<li>jQuery 中的AJAX只是基于jQuery的实现</li>
<li>在Vue.js中使用jQuery不能充分利用Vue.js的特性</li>
</ul>
<h3 id="axios异步请求库"><a href="#axios异步请求库" class="headerlink" title="axios异步请求库"></a>axios异步请求库</h3><ul>
<li>基于Promise的HTTP库</li>
<li>支持Node.js和浏览器</li>
<li>浏览器：XMLHttpRequest</li>
<li>Node.js：http</li>
</ul>
<p>对axios进行全局配置可提升代码的可维护性</p>
<h3 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h3><ul>
<li>一种异步编程解决方案</li>
<li>Promise其实一直都在，只是在ES6时，才被并入标准库</li>
</ul>
<h3 id="处理回调"><a href="#处理回调" class="headerlink" title="处理回调"></a>处理回调</h3><ul>
<li><code>then</code>函数的使用<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre class=" language-hljs js"><span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {<br><span class="hljs-comment">// 业务逻辑</span><br>resolve(<span class="hljs-number">1</span>);<br>}).then(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> {<br><span class="hljs-comment">// 你的代码1</span><br>}) .then(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> {<br><span class="hljs-comment"><code class="language-hljs js"><span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function">(<span class="hljs-params">resolve, reject</span>) =&gt;</span> {<br><span class="hljs-comment">// 业务逻辑</span><br>resolve(<span class="hljs-number">1</span>);<br>}).then(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> {<br><span class="hljs-comment">// 你的代码1</span><br>}) .then(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> {<br><span class="hljs-comment">// 你的代码2</span><br>})<br></code></pre></td></tr></tbody></table></figure>

</li>
</ul>
<h3 id="处理异常"><a href="#处理异常" class="headerlink" title="处理异常"></a>处理异常</h3><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre class=" language-hljs catch```函数的使用"><code class="language-hljs catch```函数的使用">```js<br>new Promise((resolve, reject) => {<br>    // 业务逻辑<br>    reject(throw new Error('It is my fault'))<br>    }) .then(res => {<br>        // 正常的逻辑代码<br>    }).catch(err => {<br>        // 产生异常后执行的代码<br>    })<br></code></pre></td></tr></tbody></table></figure>

<p>如何安装</p>
<ul>
<li>方式一：引用JS<br><code>&lt;script src="./axios.min.js"&gt;&lt;/script&gt;</code></li>
<li>方式二：使用npm/cnpm/yarn安装<br><code>npm install axios -S</code></li>
</ul>
<h3 id="使用npm-cnpm安装"><a href="#使用npm-cnpm安装" class="headerlink" title="使用npm/cnpm安装"></a>使用npm/cnpm安装</h3><ul>
<li><p>安装到dependencies（生产环境依赖）<br><code>npm install axios --save</code><br>或者<code>npm install axios -S</code></p>
</li>
<li><p>安装到devDependencies（开发环境依赖）<br><code>npm install axios --save-dev</code><br>或者<code>npm install axios -D</code></p>
</li>
</ul>
<h3 id="如何使用axios"><a href="#如何使用axios" class="headerlink" title="如何使用axios"></a>如何使用axios</h3><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre class=" language-hljs js"><code class="language-hljs js">axios.get(url[, config])<br>axios.delete(url[, config])<br>axios.head(url[, config])<br>axios.options(url[, config])<br>axios.post(url[, data[, config]])<br>axios.put(url[, data[, config]])<br>axios.patch(url[, data[, config]])<br></code></pre></td></tr></tbody></table></figure>

<ul>
<li><p>GET请求</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre class=" language-hljs js">axios.get(<span class="hljs-string">'/user'</span>, {<br>    params: {<br>        ID: <span class="hljs-number">12345</span><br>    }<br>})<br>.then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">response</span>) </span>{<br>    <span class="hljs-built_in">console</span>.log(response);<br>})<br>.catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) </span>{<br>    <span class="hljs-built_in"><code class="language-hljs js">axios.get(<span class="hljs-string">'/user'</span>, {<br>    params: {<br>        ID: <span class="hljs-number">12345</span><br>    }<br>})<br>.then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">response</span>) </span>{<br>    <span class="hljs-built_in">console</span>.log(response);<br>})<br>.catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) </span>{<br>    <span class="hljs-built_in">console</span>.log(error);<br>});<br></code></pre></td></tr></tbody></table></figure>
</li>
<li><p>POST请求</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre class=" language-hljs js">axios.post(<span class="hljs-string">'/user'</span>, {<br>    firstName: <span class="hljs-string">'Fred'</span>,<br>    lastName: <span class="hljs-string">'Flintstone'</span><br>})<br>.then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">response</span>) </span>{<br>    <span class="hljs-built_in">console</span>.log(response);<br>})<br>.catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) </span>{<br>    <span class="hljs-built_in"><code class="language-hljs js">axios.post(<span class="hljs-string">'/user'</span>, {<br>    firstName: <span class="hljs-string">'Fred'</span>,<br>    lastName: <span class="hljs-string">'Flintstone'</span><br>})<br>.then(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">response</span>) </span>{<br>    <span class="hljs-built_in">console</span>.log(response);<br>})<br>.catch(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) </span>{<br>    <span class="hljs-built_in">console</span>.log(error);<br>});<br></code></pre></td></tr></tbody></table></figure>

</li>
</ul>
<h3 id="请求响应拦截"><a href="#请求响应拦截" class="headerlink" title="请求响应拦截"></a>请求响应拦截</h3><h4 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h4><ul>
<li>设置自定义请求头</li>
<li>默认携带上次的cookie</li>
<li>添加loading动画（请求发起前显示、完成后隐藏）</li>
<li>统一的错误处理</li>
</ul>
<h4 id="实现方法"><a href="#实现方法" class="headerlink" title="实现方法"></a>实现方法</h4><ul>
<li>创建axios的实例<br><code>const ajax = axios.create(options)</code></li>
<li>常用参数<ul>
<li><code>headers</code>: 设置请求头</li>
<li><code>timeout</code>: 超时的毫秒数</li>
<li><code>data</code>: POST/PUT/PATCH请求的数据</li>
<li><code>params</code>: URL中的参数</li>
<li><code>responseType</code>: 默认为json</li>
</ul>
</li>
</ul>
<h4 id="设置自定义请求头"><a href="#设置自定义请求头" class="headerlink" title="设置自定义请求头"></a>设置自定义请求头</h4><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre class=" language-hljs js"><span class="hljs-keyword">const</span> ajax = axios.create({<br>headers: {<br>source: <span class="hljs-string">'h5'</span>,<br><span class="hljs-string">'Content-Type'</span>: <span class="hljs-string"><code class="language-hljs js"><span class="hljs-keyword">const</span> ajax = axios.create({<br>headers: {<br>source: <span class="hljs-string">'h5'</span>,<br><span class="hljs-string">'Content-Type'</span>: <span class="hljs-string">'application/x-www-form-urlencoded'</span><br>}<br>})<br></code></pre></td></tr></tbody></table></figure>

<h4 id="默认携带上次的cookie"><a href="#默认携带上次的cookie" class="headerlink" title="默认携带上次的cookie"></a>默认携带上次的cookie</h4><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre class=" language-hljs js"><span class="hljs-keyword">const</span> ajax = axios.create({<br>    withCredentials: <span class="hljs-literal"><code class="language-hljs js"><span class="hljs-keyword">const</span> ajax = axios.create({<br>    withCredentials: <span class="hljs-literal">true</span><br>})<br></code></pre></td></tr></tbody></table></figure>

<h4 id="添加loading动画"><a href="#添加loading动画" class="headerlink" title="添加loading动画"></a>添加loading动画</h4><ul>
<li><p> 请求拦截</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre class=" language-hljs js">axios.interceptors.request.use(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">config</span>) </span>{<br><span class="hljs-comment">// 在发送请求之前做些什么</span><br><span class="hljs-keyword">return</span> config<br>}, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) </span>{<br><span class="hljs-comment">// 对请求错误做些什么</span><br><span class="hljs-keyword">return</span> <span class="hljs-built_in"><code class="language-hljs js">axios.interceptors.request.use(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">config</span>) </span>{<br><span class="hljs-comment">// 在发送请求之前做些什么</span><br><span class="hljs-keyword">return</span> config<br>}, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) </span>{<br><span class="hljs-comment">// 对请求错误做些什么</span><br><span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.reject(error)<br>});<br></code></pre></td></tr></tbody></table></figure>
</li>
<li><p> 响应拦截</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre class=" language-hljs js">axios.interceptors.response.use(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">response</span>) </span>{<br><span class="hljs-comment">// 对响应数据做点什么</span><br><span class="hljs-keyword">return</span> response<br>}, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) </span>{<br><span class="hljs-comment">// 对响应错误做点什么</span><br><span class="hljs-keyword">return</span> <span class="hljs-built_in"><code class="language-hljs js">axios.interceptors.response.use(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">response</span>) </span>{<br><span class="hljs-comment">// 对响应数据做点什么</span><br><span class="hljs-keyword">return</span> response<br>}, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) </span>{<br><span class="hljs-comment">// 对响应错误做点什么</span><br><span class="hljs-keyword">return</span> <span class="hljs-built_in">Promise</span>.reject(error)<br>});<br></code></pre></td></tr></tbody></table></figure>

</li>
</ul>
<h4 id="统一的错误处理"><a href="#统一的错误处理" class="headerlink" title="统一的错误处理"></a>统一的错误处理</h4><ul>
<li>400<br>参数错误提示</li>
<li>401<br>未登录，跳转到登录页面</li>
<li>500/504<br>服务器正忙，网络异常/请求超时</li>
</ul>
<h3 id="跨域"><a href="#跨域" class="headerlink" title="跨域"></a>跨域</h3><p>出于安全考虑，浏览器要求你的网站不能执行/访问其它网站的资源</p>
<ul>
<li><p>如何认定为“其它的网站”：同源策略<br><code>http://www.imooc.com:80</code><br>协议 域名/主机 端口</p>
</li>
<li><p>跨域的影响</p>
<ul>
<li>浏览器本地存储无法使用<br>（Cookie、LocalStorage 和 IndexDB）</li>
<li>DOM对象 、JS 对象无法获取</li>
<li>AJAX无法使用</li>
</ul>
</li>
<li><p>跨域问题解决</p>
<ul>
<li>利用HTML标签的特性<br>script、a、iframe、img、link等</li>
<li>在前端使用代理解决</li>
<li>在服务器端解决<br>CORS(Cross-Origin Resource Sharing)——跨域资源共享，通过添加响应头信息来解决</li>
</ul>
</li>
</ul>
<h4 id="在Vue-js中解决跨域问题"><a href="#在Vue-js中解决跨域问题" class="headerlink" title="在Vue.js中解决跨域问题"></a>在Vue.js中解决跨域问题</h4><ul>
<li>添加配置文件<code>vue.config.js</code><br>添加配置项<br>参数解释</li>
<li> <code>target</code>目标地址</li>
<li> <code>changeOrigin</code>变更请求头中设置的host</li>
<li> <code>pathRewrite</code>URL重写规则<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre class=" language-hljs js"><span class="hljs-comment">// vue.config.js</span><br><span class="hljs-comment">// Node.js里面的模块</span><br><span class="hljs-built_in">module</span>.exports = {<br>  <span class="hljs-comment">// http://localhost:8080/api/test</span><br>  <span class="hljs-comment">// =&gt;</span><br>  <span class="hljs-comment">// http://localhost:8000/test</span><br>  <span class="hljs-comment">// 在Vue.js中解决跨域问题</span><br>  devServer: {<br>    proxy: {<br>      <span class="hljs-string">'/api'</span>: {<br>        target: <span class="hljs-string">'http://django.t.mukewang.com'</span>,    <span class="hljs-comment">// 这个地址的服务器要启动才能访问 </span><br>        changeOrigin: <span class="hljs-literal">true</span>,<br>        pathRewrite: {<br>          <span class="hljs-string">'^/api'</span>: <span class="hljs-string">''</span>   <span class="hljs-comment"><code class="language-hljs js"><span class="hljs-comment">// vue.config.js</span><br><span class="hljs-comment">// Node.js里面的模块</span><br><span class="hljs-built_in">module</span>.exports = {<br>  <span class="hljs-comment">// http://localhost:8080/api/test</span><br>  <span class="hljs-comment">// =&gt;</span><br>  <span class="hljs-comment">// http://localhost:8000/test</span><br>  <span class="hljs-comment">// 在Vue.js中解决跨域问题</span><br>  devServer: {<br>    proxy: {<br>      <span class="hljs-string">'/api'</span>: {<br>        target: <span class="hljs-string">'http://django.t.mukewang.com'</span>,    <span class="hljs-comment">// 这个地址的服务器要启动才能访问 </span><br>        changeOrigin: <span class="hljs-literal">true</span>,<br>        pathRewrite: {<br>          <span class="hljs-string">'^/api'</span>: <span class="hljs-string">''</span>   <span class="hljs-comment">// 重写的URL，空字符表示把/api字符串去掉</span><br>        }<br>      }<br>    }<br>  }<br>}<br></code></pre></td></tr></tbody></table></figure>

</li>
</ul>
<p>使用axios获取数据</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre class=" language-hljs js"><span class="hljs-comment">// Home.vue</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {<br>  name: <span class="hljs-string">'Home'</span>,<br>  components: {<br>  },<br>  created () {<br>    <span class="hljs-comment">// ajax.get('http://django.t.mukewang.com/api/system/slider/list/?types=11').then(resp =&gt; {</span><br>    <span class="hljs-comment">// 未登录访问用户信息</span><br>    <span class="hljs-comment">// ajax.get('http://django.t.mukewang.com/api/accounts/user/detail/').then(resp =&gt; {</span><br>    <span class="hljs-comment">// ajax.get('http://localhost:8080/api/system/slider/list/?types=11').then(resp =&gt; {</span><br>    <span class="hljs-comment">// ajax.get('http://localhost:9527/hello/world/').then(resp =&gt; {</span><br>    ajax.get(<span class="hljs-string">'http://localhost:8080/test/hello/world/'</span>).then(<span class="hljs-function"><span class="hljs-params">resp</span> =&gt;</span> {<br>      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'返回的结果：'</span>, resp)<br>    }).catch(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> {<br>      <span class="hljs-built_in">console</span>.log(<span class="hljs-string"><code class="language-hljs js"><span class="hljs-comment">// Home.vue</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {<br>  name: <span class="hljs-string">'Home'</span>,<br>  components: {<br>  },<br>  created () {<br>    <span class="hljs-comment">// ajax.get('http://django.t.mukewang.com/api/system/slider/list/?types=11').then(resp =&gt; {</span><br>    <span class="hljs-comment">// 未登录访问用户信息</span><br>    <span class="hljs-comment">// ajax.get('http://django.t.mukewang.com/api/accounts/user/detail/').then(resp =&gt; {</span><br>    <span class="hljs-comment">// ajax.get('http://localhost:8080/api/system/slider/list/?types=11').then(resp =&gt; {</span><br>    <span class="hljs-comment">// ajax.get('http://localhost:9527/hello/world/').then(resp =&gt; {</span><br>    ajax.get(<span class="hljs-string">'http://localhost:8080/test/hello/world/'</span>).then(<span class="hljs-function"><span class="hljs-params">resp</span> =&gt;</span> {<br>      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'返回的结果：'</span>, resp)<br>    }).catch(<span class="hljs-function"><span class="hljs-params">err</span> =&gt;</span> {<br>      <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'请求出错：'</span>, err)<br>    })<br>  }<br>}<br></code></pre></td></tr></tbody></table></figure>

<h4 id="在Django中解决跨域问题"><a href="#在Django中解决跨域问题" class="headerlink" title="在Django中解决跨域问题"></a>在Django中解决跨域问题</h4><ul>
<li><p> 第一步：安装第三方扩展</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class=" language-hljs bash"><code class="language-hljs bash">>> pip install django-cors-headers<br></code></pre></td></tr></tbody></table></figure></li>
<li><p> 第二步：配置django的<code>setting.py</code></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class=" language-hljs python">INSTALLED_APPS = [<span class="hljs-string"><code class="language-hljs python">INSTALLED_APPS = [<span class="hljs-string">'corsheaders'</span>,]<br></code></pre></td></tr></tbody></table></figure>
</li>
<li><p> 第三步：配置中间件</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre class=" language-hljs py"><span class="hljs-comment"># setting.py</span><br>MIDDLEWARE_CLASSES = [<br><span class="hljs-string">'django.middleware.security.SecurityMiddleware'</span>,<br><span class="hljs-string">'django.contrib.sessions.middleware.SessionMiddleware'</span>,<br><span class="hljs-string">'corsheaders.middleware.CorsMiddleware'</span>,<br><span class="hljs-string"><code class="language-hljs py"><span class="hljs-comment"># setting.py</span><br>MIDDLEWARE_CLASSES = [<br><span class="hljs-string">'django.middleware.security.SecurityMiddleware'</span>,<br><span class="hljs-string">'django.contrib.sessions.middleware.SessionMiddleware'</span>,<br><span class="hljs-string">'corsheaders.middleware.CorsMiddleware'</span>,<br><span class="hljs-string">'django.middleware.common.CommonMiddleware'</span>,<br>]<br></code></pre></td></tr></tbody></table></figure>
</li>
<li><p>第四步：添加白名单</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre class=" language-hljs py"><span class="hljs-comment"># setting.py</span><br>CORS_ORIGIN_WHITELIST = (<br><span class="hljs-string">'http://127.0.0.1:8080'</span>,<br><span class="hljs-string"><code class="language-hljs py"><span class="hljs-comment"># setting.py</span><br>CORS_ORIGIN_WHITELIST = (<br><span class="hljs-string">'http://127.0.0.1:8080'</span>,<br><span class="hljs-string">'http://localhost:8080'</span>,<br>)<br></code></pre></td></tr></tbody></table></figure>

</li>
</ul>
<p>第五步：可选配置</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre class=" language-hljs py"><span class="hljs-comment"># setting.py</span><br><span class="hljs-comment"># 允许哪些请求头</span><br>CORS_ALLOW_HEADERS = (<span class="hljs-string">'source'</span>, <span class="hljs-string">'icode'</span>)<br><span class="hljs-comment"># 允许携带cookie</span><br>CORS_ALLOW_CREDENTIALS = <span class="hljs-literal"><code class="language-hljs py"><span class="hljs-comment"># setting.py</span><br><span class="hljs-comment"># 允许哪些请求头</span><br>CORS_ALLOW_HEADERS = (<span class="hljs-string">'source'</span>, <span class="hljs-string">'icode'</span>)<br><span class="hljs-comment"># 允许携带cookie</span><br>CORS_ALLOW_CREDENTIALS = <span class="hljs-literal">True</span><br></code></pre></td></tr></tbody></table></figure>

<h3 id="VantUI"><a href="#VantUI" class="headerlink" title="VantUI"></a>VantUI</h3><ul>
<li>开源免费</li>
<li>轻量、可靠的移动端 Vue 组件库</li>
</ul>
<h4 id="Vant组件库"><a href="#Vant组件库" class="headerlink" title="Vant组件库"></a>Vant组件库</h4><ul>
<li>基础组件<br>按钮、图标、布局、提示信息等</li>
<li>表单组件<br>日历、复选框、时间选择、输入框、评分等</li>
<li>反馈组件<br>弹出框、加载、下拉菜单、消息提示、下拉刷新、滚动加载等</li>
<li>展示组件<br>进度条、倒计时、分割线、懒加载、列表等</li>
<li>导航组件<br>宫格、索引、导航栏、分页、多标签页等</li>
<li>业务组件<br>地址编辑、联系人、优惠券、提交订单、SKU选择框等</li>
</ul>
<h3 id="开始使用"><a href="#开始使用" class="headerlink" title="开始使用"></a>开始使用</h3><ul>
<li><p>第一步：安装<br><code>&gt;&gt; cnpm install vant -S</code></p>
</li>
<li><p>第二步：手动按需导入组件</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre class=" language-hljs js"><span class="hljs-keyword">import</span> Button <span class="hljs-keyword">from</span> <span class="hljs-string">'vant/lib/button'</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string"><code class="language-hljs js"><span class="hljs-keyword">import</span> Button <span class="hljs-keyword">from</span> <span class="hljs-string">'vant/lib/button'</span>;<br><span class="hljs-keyword">import</span> <span class="hljs-string">'vant/lib/button/style'</span>;<br></code></pre></td></tr></tbody></table></figure>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre class=" language-hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {<br>  name: <span class="hljs-string">'Home'</span>,<br>  components: {<br>    <span class="hljs-string">'v-button'</span>: Button<br>    <span class="hljs-comment"><code class="language-hljs js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {<br>  name: <span class="hljs-string">'Home'</span>,<br>  components: {<br>    <span class="hljs-string">'v-button'</span>: Button<br>    <span class="hljs-comment">// Button: Button</span><br>  }<br>}  <br></code></pre></td></tr></tbody></table></figure>
</li>
<li><p>第二步：导入全部组件，全局引用<br><code>main.js</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre class=" language-hljs js"><span class="hljs-keyword">import</span> Vue <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;<br><span class="hljs-keyword">import</span> Vant <span class="hljs-keyword">from</span> <span class="hljs-string">'vant'</span>;  <span class="hljs-comment">// VantUI组件库</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">'vant/lib/index.css'</span>;<br><br>Vue.use(Vant);  <span class="hljs-comment"><code class="language-hljs js"><span class="hljs-keyword">import</span> Vue <span class="hljs-keyword">from</span> <span class="hljs-string">'vue'</span>;<br><span class="hljs-keyword">import</span> Vant <span class="hljs-keyword">from</span> <span class="hljs-string">'vant'</span>;  <span class="hljs-comment">// VantUI组件库</span><br><span class="hljs-keyword">import</span> <span class="hljs-string">'vant/lib/index.css'</span>;<br><br>Vue.use(Vant);  <span class="hljs-comment">// 把VantUI当做一个插件，在Vue中使用</span><br></code></pre></td></tr></tbody></table></figure>

</li>
</ul>
<h3 id="轮播图组件开发"><a href="#轮播图组件开发" class="headerlink" title="轮播图组件开发"></a>轮播图组件开发</h3><h4 id="开发步骤"><a href="#开发步骤" class="headerlink" title="开发步骤"></a>开发步骤</h4><ul>
<li>第一步，查找Vant中可以使用的组件</li>
<li>第二步，实现组件模板部分<br><code>\src\components\common\Banner.vue</code><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre class=" language-hljs vue"><code class="language-hljs vue"><template><br><!-- 首页的轮播图 --><br>  <div class="home-banner-box"><br>    <van-swipe class="my-swipe" :autoplay="3000" indicator-color="white"><br>      <van-swipe-item v-for="item in bannerList"<br>        :key="item.id"><br>        <img :src="item.img_url" alt=""><br>      </van-swipe-item><br>    </van-swipe><br>  </div><br></template><br></code></pre></td></tr></tbody></table></figure>
<code>Home.vue</code><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre class=" language-hljs vue"><code class="language-hljs vue"><template><br>  <div class="page-home"><br>    <!-- banner图 --><br>    <Banner/><br>  </div><br></template><br><br><script><br>// 引入组件<br>import Banner from '@/components/home/Banner'<br><br>export default {<br>  name: 'Home',<br>  components: {<br>    // banner图<br>    Banner,<br>  }<br>}<br></script><br></code></pre></td></tr></tbody></table></figure></li>
<li>第三步，模型层准备数据，通过接口的方式从django服务器获取<br><code>\src\components\common\Banner.vue</code><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre class=" language-hljs vue"><code class="language-hljs vue"><script><br>import { ajax } from '@/utils/ajax'<br>import { SystemApis } from '@/utils/apis'<br>export default {<br>  data () {<br>    return {<br>      bannerList: []<br>    }<br>  },<br>  methods: {<br>    /**<br>     * 获取轮播图的数据<br>     */<br>    getDataList () {<br>      ajax.get(SystemApis.sliderListUrl).then(res => {<br>        console.log('res:', res)<br>        this.bannerList = res.data.objects<br>      })<br>    }<br>  },<br>  created () {<br>    // 从接口获取数据<br>    this.getDataList()<br>  }<br>}<br></script><br></code></pre></td></tr></tbody></table></figure></li>
<li>第四步，模拟数据，实现轮播效果</li>
</ul>
<h3 id="热门推荐组件开发"><a href="#热门推荐组件开发" class="headerlink" title="热门推荐组件开发"></a>热门推荐组件开发</h3><h4 id="开发步骤-1"><a href="#开发步骤-1" class="headerlink" title="开发步骤"></a>开发步骤</h4><ul>
<li><p>第一步，查找Vant中可以使用的组件</p>
</li>
<li><p>第二步，完成布局，实现组件模板部分<br><code>\src\components\common\Hot.vue</code></p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre class=" language-hljs vue"><code class="language-hljs vue"><template><br>  <!-- 热门景点 --><br>  <div class="home-hot-box"><br>    <!-- 顶上导航 --><br>    <van-cell<br>      title="热门推荐"<br>      icon="/static/home/hot/fire.png"<br>      is-link<br>      title-style="text-align:left"<br>      value="全部榜单" /><br>    <!-- // 顶上导航 --><br>    <!-- 景点列表 --><br>    <div class="box-main"><br>      <a href="#" class="hot-item"<br>        v-for="item in dataList"<br>        :key="item.id"><br>        <div class="img"><br>          <span></span><br>          <img :src="item.main_img" alt=""><br>        </div><br>        <!-- ellipsis 省略号 意思是超过一定长度变成省略号 --><br>        <h5 class="van-ellipsis">{{ item.name }}</h5><br>        <div class="line-price"><br>          <span class="price">￥{{ item.min_price }}</span>起<br>        </div><br>      </a><br>    </div><br>    <!-- //景点列表 --><br>  </div><br></template><br></code></pre></td></tr></tbody></table></figure>
<p><code>Home.vue</code></p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre class=" language-hljs vue"><code class="language-hljs vue"><template><br>  <div class="page-home"><br>    <!-- 热门推荐景点 --><br>    <Hot/><br>  </div><br></template><br><script><br>// 引入组件<br>import Hot from '@/components/home/Hot'<br><br>export default {<br>  name: 'Home',<br>  components: {<br>    // 热门推荐景点<br>    Hot,<br>  }<br>}<br></script><br></code></pre></td></tr></tbody></table></figure>
</li>
<li><p>第三步，模型层准备数据<br><code>\src\components\common\Hot.vue</code></p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre class=" language-hljs vue"><code class="language-hljs vue"><script><br>import { ajax } from '@/utils/ajax'<br>import { SightApis } from '@/utils/apis'<br>export default {<br>  data () {<br>    return {<br>      dataList: []<br>    }<br>  },<br>  methods: {<br>    /**<br>     * 查热门景点<br>     */<br>    getDataList () {<br>      ajax.get(SightApis.sightListUrl, {<br>        params: {<br>          is_hot: 1<br>        }<br>      }).then(({ data }) => {<br>        this.dataList = data.objects<br>      })<br>    }<br>  },<br>  created () {<br>    // 查询获取接口数据<br>    this.getDataList()<br>    // this.dataList = [<br>    //   {id: 1, img: '/static/home/hot/h1.jpg', name: '景点名称', price: 65},<br>    //   {id: 2, img: '/static/home/hot/h2.jpg', name: '景点名称景点名称', price: 65},<br>    //   {id: 3, img: '/static/home/hot/h3.jpg', name: '景点名称', price: 65},<br>  }<br>}<br></script><br></code></pre></td></tr></tbody></table></figure>
</li>
<li><p>第四步，添加假数据，实现效果</p>
</li>
</ul>
<h3 id="景点列表组件开发"><a href="#景点列表组件开发" class="headerlink" title="景点列表组件开发"></a>景点列表组件开发</h3><h4 id="开发步骤-2"><a href="#开发步骤-2" class="headerlink" title="开发步骤"></a>开发步骤</h4><ul>
<li>第一步，分析组件的复用情况</li>
<li>第二步，新建组件文件，实现组件内容<br><code>\src\components\common\ListSight.vue</code><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre class=" language-hljs vue"><code class="language-hljs vue"><template><br>  <!-- 精选景点 --><br>  <div class="home-fine-box"><br>    <!-- 顶上导航 --><br>    <van-cell<br>      title="精选景点"<br>      icon="location-o"<br>      is-link<br>      title-style="text-align:left"<br>      value="更多" /><br>    <!-- // 顶上导航 --><br>    <!-- 景点的列表 --><br>    <div class="box-main"><br>      <!-- ```src\components\common\ListSight.vue```子组件的 --><br>      <sight-item v-for="item in dataList"<br>        :key="item.id"<br>        :item="item"/>><br>    </div><br>    <!-- //景点的列表 --><br>  </div><br></template><br></code></pre></td></tr></tbody></table></figure></li>
<li>第三步，设置props,从父组件传递数据<br><code>\src\components\common\ListSight.vue</code><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre class=" language-hljs vue"><code class="language-hljs vue"><script><br>export default {<br>  props: ['item']<br>}<br></script><br></code></pre></td></tr></tbody></table></figure>

</li>
</ul>
<h3 id="精选景点组件开发"><a href="#精选景点组件开发" class="headerlink" title="精选景点组件开发"></a>精选景点组件开发</h3><h4 id="开发步骤-3"><a href="#开发步骤-3" class="headerlink" title="开发步骤"></a>开发步骤</h4><ul>
<li>第一步，查找Vant中可以使用的组件</li>
<li>第二步，完成布局，实现组件模板部分</li>
</ul>
<p><code>\src\components\common\Fine.vue</code></p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre class=" language-hljs vue"><code class="language-hljs vue"><template><br>  <!-- 精选景点 --><br>  <div class="home-fine-box"><br>    <!-- 顶上导航 --><br>    <van-cell<br>      title="精选景点"<br>      icon="location-o"<br>      is-link<br>      title-style="text-align:left"<br>      value="更多" /><br>    <!-- // 顶上导航 --><br>    <!-- 景点的列表 --><br>    <div class="box-main"><br>      <!-- ```src\components\common\ListSight.vue```子组件的 --><br>      <sight-item v-for="item in dataList"<br>        :key="item.id"<br>        :item="item"/>><br>    </div><br>    <!-- //景点的列表 --><br>  </div><br></template><br></code></pre></td></tr></tbody></table></figure>
<p><code>Home.vue</code></p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre class=" language-hljs vue"><code class="language-hljs vue"><template><br>  <div class="page-home"><br>    <!-- 精选景点 --><br>    <Fine/><br>  </div><br></template><br><script><br>// 引入组件<br>import Fine from '@/components/home/Fine'<br><br>export default {<br>  name: 'Home',<br>  components: {<br>    // 精选景点<br>    Fine,<br>  }<br>}<br></script><br></code></pre></td></tr></tbody></table></figure>
<ul>
<li><p>第三步，模型层准备数据,从父组件传递数据<br><code>\src\components\common\Fine.vue</code></p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre class=" language-hljs vue"><code class="language-hljs vue"><script><br>import { ajax } from '@/utils/ajax'<br>import { SightApis } from '@/utils/apis'<br>import SightItem from '@/components/common/ListSight'<br>export default {<br>  components: {<br>    SightItem<br>  },<br>  data () {<br>    return {<br>      dataList: []<br>    }<br>  },<br>  methods: {<br>    /**<br>     * 查精选景点<br>     */<br>    getDataList () {<br>      ajax.get(SightApis.sightListUrl, {<br>        params: {<br>          is_top: 1<br>        }<br>      }).then(({ data }) => {<br>        this.dataList = data.objects<br>      })<br>    }<br>  },<br>  created () {<br>    this.getDataList()<br>    // this.dataList = [<br>    //   {id: 1, name: '景点名称', score: 5, price: 98},<br>    //   {id: 2, name: '景点名称', score: 4.5, price: 98},<br>    //   {id: 3, name: '景点名称', score: 4, price: 98},<br>    // ]<br>  }<br>}<br></script><br></code></pre></td></tr></tbody></table></figure>
</li>
<li><p>第四步，添加假数据，实现效果</p>
</li>
</ul>
<h3 id="页面底部组件开发"><a href="#页面底部组件开发" class="headerlink" title="页面底部组件开发"></a>页面底部组件开发</h3><h4 id="开发步骤-4"><a href="#开发步骤-4" class="headerlink" title="开发步骤"></a>开发步骤</h4><ul>
<li>第一步，查找Vant中可以使用的组件</li>
<li>第二步，完成布局，实现组件模板部分<br><code>\src\components\common\Footer.vue</code><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre class=" language-hljs vue"><code class="language-hljs vue"><template><br>  <!-- 底部导航（公共组件） --><br>  <div><br>    <van-tabbar v-model="active"><br>      <van-tabbar-item name="home" icon="wap-home-o">首页</van-tabbar-item><br>      <van-tabbar-item name="search" icon="search">搜索</van-tabbar-item><br>      <van-tabbar-item name="mine" icon="user-o">我的</van-tabbar-item><br>    </van-tabbar><br>  </div><br></template><br></code></pre></td></tr></tbody></table></figure>
<code>Home.vue</code><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre class=" language-hljs vue"><code class="language-hljs vue"><template><br>  <div class="page-home"><br>    <!-- 热门推荐景点 --><br>    <Hot/><br>  </div><br></template><br><script><br>// 引入组件<br>import TripFooter from '@/components/common/Footer'<br><br>export default {<br>  name: 'Home',<br>  components: {<br>    // 底部导航<br>    TripFooter<br>  }<br>}<br></script><br></code></pre></td></tr></tbody></table></figure></li>
<li>第三步，模型层准备数据<br><code>\src\components\common\Footer.vue</code><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre class=" language-hljs vue"><code class="language-hljs vue"><script><br>export default {<br>  data () {<br>    return {<br>      active: 'home'<br>    }<br>  }<br>}<br></script><br></code></pre></td></tr></tbody></table></figure></li>
<li>第四步，模拟从不同的菜单进入效果</li>
</ul>
<h3 id="模型设计"><a href="#模型设计" class="headerlink" title="模型设计"></a>模型设计</h3><ul>
<li>系统模块（公共的、可服用）：轮播图、用户反馈</li>
<li>景点模块：景点、景点详情、景点评论</li>
<li>用户模块：用户、用户详细信息、登录历史</li>
<li>订单模块：订单、订单明细、支付相关</li>
</ul>
<h3 id="设计轮播图ORM模型"><a href="#设计轮播图ORM模型" class="headerlink" title="设计轮播图ORM模型"></a>设计轮播图ORM模型</h3><h4 id="开发步骤-5"><a href="#开发步骤-5" class="headerlink" title="开发步骤"></a>开发步骤</h4><ul>
<li><p>第一步，分析并设计数据库模型<br>创建app</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class=" language-hljs py"><code class="language-hljs py">python manage.py startapp system<br></code></pre></td></tr></tbody></table></figure>
</li>
<li><p>第二步，完成ORM模型编码<br><code>system/model.py</code></p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre class=" language-hljs py"><span class="hljs-keyword">from</span> django.db <span class="hljs-keyword">import</span> models<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Slider</span>(<span class="hljs-params">models.Model</span>):</span><br>    name = models.CharField(<span class="hljs-string">'名称'</span>, max_length=<span class="hljs-number">32</span>)<br>    desc = models.CharField(<span class="hljs-string">'描述'</span>, max_length=<span class="hljs-number">32</span>, null=<span class="hljs-literal">True</span>, blank=<span class="hljs-literal">True</span>)<br>    types = models.SmallIntegerField(<span class="hljs-string">'展现的位置'</span>, default=<span class="hljs-number">10</span>)<br>    img = models.ImageField(<span class="hljs-string">'图片地址'</span>, max_length=<span class="hljs-number">255</span>, upload_to=<span class="hljs-string">'%Y%m/slider'</span>)<br>    reorder = models.SmallIntegerField(<span class="hljs-string">'排序字段'</span>, default=<span class="hljs-number">0</span>, help_text=<span class="hljs-string">'数字越大越靠前'</span>)<br>    start_time = models.DateTimeField(<span class="hljs-string">'生效开始时间'</span>, null=<span class="hljs-literal">True</span>, blank=<span class="hljs-literal">True</span>)<br>    end_time = models.CharField(<span class="hljs-string">'生效结束时间'</span>, null=<span class="hljs-literal">True</span>, blank=<span class="hljs-literal">True</span>)<br>    target_url = models.CharField(<span class="hljs-string">'跳转的地址'</span>, max_length=<span class="hljs-number">255</span>, null=<span class="hljs-literal">True</span>, blank=<span class="hljs-literal">True</span>)<br>    is_valid = models.BooleanField(<span class="hljs-string">'是否有效'</span>, default=<span class="hljs-literal">True</span>)<br>    created_at = models.DateTimeField(<span class="hljs-string">'创建时间'</span>, auto_now_add=<span class="hljs-literal">True</span>)<br>    updated_at = models.DateTimeField(<span class="hljs-string">'修改时间'</span>, auto_now=<span class="hljs-literal">True</span>)<br><br>    <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Meta</span>:</span><br>        db_table = <span class="hljs-string">'system_slider'</span><br>        ordering = [<span class="hljs-string"><code class="language-hljs py"><span class="hljs-keyword">from</span> django.db <span class="hljs-keyword">import</span> models<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Slider</span>(<span class="hljs-params">models.Model</span>):</span><br>    name = models.CharField(<span class="hljs-string">'名称'</span>, max_length=<span class="hljs-number">32</span>)<br>    desc = models.CharField(<span class="hljs-string">'描述'</span>, max_length=<span class="hljs-number">32</span>, null=<span class="hljs-literal">True</span>, blank=<span class="hljs-literal">True</span>)<br>    types = models.SmallIntegerField(<span class="hljs-string">'展现的位置'</span>, default=<span class="hljs-number">10</span>)<br>    img = models.ImageField(<span class="hljs-string">'图片地址'</span>, max_length=<span class="hljs-number">255</span>, upload_to=<span class="hljs-string">'%Y%m/slider'</span>)<br>    reorder = models.SmallIntegerField(<span class="hljs-string">'排序字段'</span>, default=<span class="hljs-number">0</span>, help_text=<span class="hljs-string">'数字越大越靠前'</span>)<br>    start_time = models.DateTimeField(<span class="hljs-string">'生效开始时间'</span>, null=<span class="hljs-literal">True</span>, blank=<span class="hljs-literal">True</span>)<br>    end_time = models.CharField(<span class="hljs-string">'生效结束时间'</span>, null=<span class="hljs-literal">True</span>, blank=<span class="hljs-literal">True</span>)<br>    target_url = models.CharField(<span class="hljs-string">'跳转的地址'</span>, max_length=<span class="hljs-number">255</span>, null=<span class="hljs-literal">True</span>, blank=<span class="hljs-literal">True</span>)<br>    is_valid = models.BooleanField(<span class="hljs-string">'是否有效'</span>, default=<span class="hljs-literal">True</span>)<br>    created_at = models.DateTimeField(<span class="hljs-string">'创建时间'</span>, auto_now_add=<span class="hljs-literal">True</span>)<br>    updated_at = models.DateTimeField(<span class="hljs-string">'修改时间'</span>, auto_now=<span class="hljs-literal">True</span>)<br><br>    <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Meta</span>:</span><br>        db_table = <span class="hljs-string">'system_slider'</span><br>        ordering = [<span class="hljs-string">'-reorder'</span>]<br></code></pre></td></tr></tbody></table></figure>
<p><code>system/setting.py</code></p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class=" language-hljs py">INSTALLED_APPS = [<span class="hljs-string"><code class="language-hljs py">INSTALLED_APPS = [<span class="hljs-string">'system.apps.SystemConfig'</span>,]<br></code></pre></td></tr></tbody></table></figure></li>
<li><p>第三步，检测ORM模型</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre class=" language-hljs bash">python manage.py check<br>``` <br>- 第四步，模型同步<br>```bash<br>python manage.py makemigrations<br>python manage.py migrate<br>```  <br><br><span class="hljs-comment">### 设计轮播图查询接口</span><br><span class="hljs-comment">#### 开发步骤</span><br>- 第一步，设计接口返回标准<br>   - 定义接口的返回结构<br>   - 接口的错误信息约定<br>- 第二步，编写接口代码<br>```system/views.py```<br>```python<br>from django import http<br>from django.http import HttpResponse<br>from django.shortcuts import render<br><br>from system.models import Slider<br><br><br>def slider_list(request):<br>    <span class="hljs-string">""</span><span class="hljs-string">" 轮播图接口</span><br><span class="hljs-string">    {</span><br><span class="hljs-string">        "</span>meta<span class="hljs-string">": {},</span><br><span class="hljs-string">        "</span>objects<span class="hljs-string">": []</span><br><span class="hljs-string">    }</span><br><span class="hljs-string">    "</span><span class="hljs-string">""</span><br>    data = {<br>        <span class="hljs-string">'meta'</span>: {<br><br>        },<br>        <span class="hljs-string">'objects'</span>: []<br>    }<br>    queryset = Slider.objects.filter(is_valid=True)<br>    <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> queryset:<br>        data[<span class="hljs-string">'objects'</span>].append({<br>            <span class="hljs-string">'id'</span>: item.id,<br>            <span class="hljs-string">'img_url'</span>: item.img.url,<br>            <span class="hljs-string">'target_url'</span>: item.target_url,<br>            <span class="hljs-string">'name'</span>: item.name<br>        })<br>    <span class="hljs-comment"># return HttpResponse(data)</span><br>    <span class="hljs-built_in"><code class="language-hljs bash">python manage.py check<br>``` <br>- 第四步，模型同步<br>```bash<br>python manage.py makemigrations<br>python manage.py migrate<br>```  <br><br><span class="hljs-comment">### 设计轮播图查询接口</span><br><span class="hljs-comment">#### 开发步骤</span><br>- 第一步，设计接口返回标准<br>   - 定义接口的返回结构<br>   - 接口的错误信息约定<br>- 第二步，编写接口代码<br>```system/views.py```<br>```python<br>from django import http<br>from django.http import HttpResponse<br>from django.shortcuts import render<br><br>from system.models import Slider<br><br><br>def slider_list(request):<br>    <span class="hljs-string">""</span><span class="hljs-string">" 轮播图接口</span><br><span class="hljs-string">    {</span><br><span class="hljs-string">        "</span>meta<span class="hljs-string">": {},</span><br><span class="hljs-string">        "</span>objects<span class="hljs-string">": []</span><br><span class="hljs-string">    }</span><br><span class="hljs-string">    "</span><span class="hljs-string">""</span><br>    data = {<br>        <span class="hljs-string">'meta'</span>: {<br><br>        },<br>        <span class="hljs-string">'objects'</span>: []<br>    }<br>    queryset = Slider.objects.filter(is_valid=True)<br>    <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> queryset:<br>        data[<span class="hljs-string">'objects'</span>].append({<br>            <span class="hljs-string">'id'</span>: item.id,<br>            <span class="hljs-string">'img_url'</span>: item.img.url,<br>            <span class="hljs-string">'target_url'</span>: item.target_url,<br>            <span class="hljs-string">'name'</span>: item.name<br>        })<br>    <span class="hljs-comment"># return HttpResponse(data)</span><br>    <span class="hljs-built_in">return</span> http.JsonResponse(data)<br></code></pre></td></tr></tbody></table></figure>

</li>
</ul>
<p><code>system/url.py</code></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre class=" language-hljs python"><span class="hljs-keyword">from</span> django.urls <span class="hljs-keyword">import</span> path<br><br><span class="hljs-keyword">from</span> system <span class="hljs-keyword">import</span> views<br><br>urlpatterns = [<br>    path(<span class="hljs-string">'slider/list/'</span>, views.slider_list, name=<span class="hljs-string">"slider_list"</span>),<br>]<br>```  <br>```trip/url.py```<br>```python<br><span class="hljs-keyword">from</span> django.urls <span class="hljs-keyword">import</span> path, include<br><br>urlpatterns = [<br>    path(<span class="hljs-string">'admin/'</span>, admin.site.urls),<br>    <span class="hljs-comment"># 系统模块</span><br>    path(<span class="hljs-string">'system/'</span>, include(<span class="hljs-string">'system.urls'</span>)),<br>]<br>``` <br>- 第三步，模拟HTTP请求，测试验证接口<br><br><span class="hljs-comment">### 设计景点ORM模型</span><br><span class="hljs-comment"><code class="language-hljs python"><span class="hljs-keyword">from</span> django.urls <span class="hljs-keyword">import</span> path<br><br><span class="hljs-keyword">from</span> system <span class="hljs-keyword">import</span> views<br><br>urlpatterns = [<br>    path(<span class="hljs-string">'slider/list/'</span>, views.slider_list, name=<span class="hljs-string">"slider_list"</span>),<br>]<br>```  <br>```trip/url.py```<br>```python<br><span class="hljs-keyword">from</span> django.urls <span class="hljs-keyword">import</span> path, include<br><br>urlpatterns = [<br>    path(<span class="hljs-string">'admin/'</span>, admin.site.urls),<br>    <span class="hljs-comment"># 系统模块</span><br>    path(<span class="hljs-string">'system/'</span>, include(<span class="hljs-string">'system.urls'</span>)),<br>]<br>``` <br>- 第三步，模拟HTTP请求，测试验证接口<br><br><span class="hljs-comment">### 设计景点ORM模型</span><br><span class="hljs-comment">#### 开发步骤</span><br>- 第一步，分析并设计模型<br>景点简单信息、景点详细信息<br>```py<br>python manage.py startapp sight<br></code></pre></td></tr></tbody></table></figure>
<ul>
<li><p>第二步，完成ORM模型编码<br><code>sight/model.py</code></p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre class=" language-hljs py"><span class="hljs-keyword">from</span> django.db <span class="hljs-keyword">import</span> models<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Sight</span>(<span class="hljs-params">models.Model</span>):</span><br>    <span class="hljs-string">""" 景点基础信息 """</span><br><br>    name = models.CharField(<span class="hljs-string">'名称'</span>, max_length=<span class="hljs-number">64</span>)<br>    desc = models.CharField(<span class="hljs-string">'描述'</span>, max_length=<span class="hljs-number">256</span>)<br>    main_img = models.ImageField(<span class="hljs-string">'主图'</span>, upload_to=<span class="hljs-string">'%Y%m/sight/'</span>, max_length=<span class="hljs-number">256</span>)<br>    banner_img = models.ImageField(<span class="hljs-string">'详情主图'</span>, upload_to=<span class="hljs-string">'%Y%m/sight/'</span>, max_length=<span class="hljs-number">256</span>)<br>    content = models.TextField(<span class="hljs-string">'详细'</span>)<br>    score = models.FloatField(<span class="hljs-string">'评分'</span>, default=<span class="hljs-number">5</span>)<br>    min_price = models.FloatField(<span class="hljs-string">'最低价格'</span>, default=<span class="hljs-number">0</span>)<br>    province = models.CharField(<span class="hljs-string">'省份'</span>, max_length=<span class="hljs-number">32</span>)<br>    city = models.CharField(<span class="hljs-string">'市区'</span>, max_length=<span class="hljs-number">32</span>)<br>    area = models.CharField(<span class="hljs-string">'区/县'</span>, max_length=<span class="hljs-number">32</span>, null=<span class="hljs-literal">True</span>)<br>    town = models.CharField(<span class="hljs-string">'乡镇'</span>, max_length=<span class="hljs-number">32</span>, null=<span class="hljs-literal">True</span>)<br><br>    is_top = models.BooleanField(<span class="hljs-string">'是否为精选景点'</span>, default=<span class="hljs-literal">False</span>)<br>    is_hot = models.BooleanField(<span class="hljs-string">'是否为热门景点'</span>, default=<span class="hljs-literal">False</span>)<br><br>    is_valid = models.BooleanField(<span class="hljs-string">'是否有效'</span>, default=<span class="hljs-literal">True</span>)<br>    created_at = models.DateTimeField(<span class="hljs-string">'创建时间'</span>, auto_now_add=<span class="hljs-literal">True</span>)<br>    updated_at = models.DateTimeField(<span class="hljs-string">'修改时间'</span>, auto_now=<span class="hljs-literal">True</span>)<br><br>    <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Meta</span>:</span><br>        db_table =<span class="hljs-string">'sight'</span><br>        ordering = [<span class="hljs-string"><code class="language-hljs py"><span class="hljs-keyword">from</span> django.db <span class="hljs-keyword">import</span> models<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Sight</span>(<span class="hljs-params">models.Model</span>):</span><br>    <span class="hljs-string">""" 景点基础信息 """</span><br><br>    name = models.CharField(<span class="hljs-string">'名称'</span>, max_length=<span class="hljs-number">64</span>)<br>    desc = models.CharField(<span class="hljs-string">'描述'</span>, max_length=<span class="hljs-number">256</span>)<br>    main_img = models.ImageField(<span class="hljs-string">'主图'</span>, upload_to=<span class="hljs-string">'%Y%m/sight/'</span>, max_length=<span class="hljs-number">256</span>)<br>    banner_img = models.ImageField(<span class="hljs-string">'详情主图'</span>, upload_to=<span class="hljs-string">'%Y%m/sight/'</span>, max_length=<span class="hljs-number">256</span>)<br>    content = models.TextField(<span class="hljs-string">'详细'</span>)<br>    score = models.FloatField(<span class="hljs-string">'评分'</span>, default=<span class="hljs-number">5</span>)<br>    min_price = models.FloatField(<span class="hljs-string">'最低价格'</span>, default=<span class="hljs-number">0</span>)<br>    province = models.CharField(<span class="hljs-string">'省份'</span>, max_length=<span class="hljs-number">32</span>)<br>    city = models.CharField(<span class="hljs-string">'市区'</span>, max_length=<span class="hljs-number">32</span>)<br>    area = models.CharField(<span class="hljs-string">'区/县'</span>, max_length=<span class="hljs-number">32</span>, null=<span class="hljs-literal">True</span>)<br>    town = models.CharField(<span class="hljs-string">'乡镇'</span>, max_length=<span class="hljs-number">32</span>, null=<span class="hljs-literal">True</span>)<br><br>    is_top = models.BooleanField(<span class="hljs-string">'是否为精选景点'</span>, default=<span class="hljs-literal">False</span>)<br>    is_hot = models.BooleanField(<span class="hljs-string">'是否为热门景点'</span>, default=<span class="hljs-literal">False</span>)<br><br>    is_valid = models.BooleanField(<span class="hljs-string">'是否有效'</span>, default=<span class="hljs-literal">True</span>)<br>    created_at = models.DateTimeField(<span class="hljs-string">'创建时间'</span>, auto_now_add=<span class="hljs-literal">True</span>)<br>    updated_at = models.DateTimeField(<span class="hljs-string">'修改时间'</span>, auto_now=<span class="hljs-literal">True</span>)<br><br>    <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Meta</span>:</span><br>        db_table =<span class="hljs-string">'sight'</span><br>        ordering = [<span class="hljs-string">'-updated_at'</span>]<br></code></pre></td></tr></tbody></table></figure>
<p><code>sight/setting.py</code></p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class=" language-hljs py">INSTALLED_APPS = [<span class="hljs-string"><code class="language-hljs py">INSTALLED_APPS = [<span class="hljs-string">'sight.apps.SightConfig'</span>,]<br></code></pre></td></tr></tbody></table></figure>
</li>
<li><p>第三步，检测ORM模型</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre class=" language-hljs bash"><code class="language-hljs bash">python manage.py check<br>```  <br>- 第四步，模型同步<br>```bash<br>python manage.py makemigrations<br>python manage.py migrate<br></code></pre></td></tr></tbody></table></figure>

</li>
</ul>
<h3 id="设计景点列表API接口"><a href="#设计景点列表API接口" class="headerlink" title="设计景点列表API接口"></a>设计景点列表API接口</h3><h4 id="开发步骤-6"><a href="#开发步骤-6" class="headerlink" title="开发步骤"></a>开发步骤</h4><ul>
<li>第一步，设计接口返回内容及字段</li>
<li>第二步，编写接口代码（查数据、分页）<br><code>sight/views.py</code><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre class=" language-hljs python"><span class="hljs-keyword">from</span> django <span class="hljs-keyword">import</span> http<br><span class="hljs-keyword">from</span> django.db.models <span class="hljs-keyword">import</span> Q<br><span class="hljs-keyword">from</span> django.shortcuts <span class="hljs-keyword">import</span> render<br><span class="hljs-keyword">from</span> django.views.generic <span class="hljs-keyword">import</span> ListView<br><br><span class="hljs-keyword">from</span> sight.models <span class="hljs-keyword">import</span> Sight<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SightListView</span>(<span class="hljs-params">ListView</span>):</span><br>    <span class="hljs-string">""" 景点列表 """</span><br>    <span class="hljs-comment"># 每页放5条数据</span><br>    paginate_by = <span class="hljs-number">5</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_queryset</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-string">""" 重写查询方法 """</span><br>        query = Q(is_valid=<span class="hljs-literal">True</span>)<br>        <span class="hljs-comment"># 1. 热门景点</span><br>        is_hot = self.request.GET.get(<span class="hljs-string">'is_hot'</span>, <span class="hljs-literal">None</span>)<br>        <span class="hljs-keyword">if</span> is_hot:<br>            query = query &amp; Q(is_hot=<span class="hljs-literal">True</span>)<br>        <span class="hljs-comment"># 2. 精选景点</span><br>        is_top = self.request.GET.get(<span class="hljs-string">'is_top'</span>, <span class="hljs-literal">None</span>)<br>        <span class="hljs-keyword">if</span> is_top:<br>            query = query &amp; Q(is_top=<span class="hljs-literal">True</span>)<br>        <span class="hljs-comment"># TODO 3. 景点名称搜索</span><br>        queryset = Sight.objects.filter(query)<br>        <span class="hljs-keyword">return</span> queryset<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">render_to_response</span>(<span class="hljs-params">self, context, **response_kwargs</span>):</span><br>        page_obj = context[<span class="hljs-string">'page_obj'</span>]<br>        data = {<br>            <span class="hljs-string">'meta'</span>: {<br>                <span class="hljs-string">'total_count'</span>: page_obj.paginator.count,<br>                <span class="hljs-string">'page_count'</span>: page_obj.paginator.num_pages,<br>                <span class="hljs-string">'current_page'</span>: page_obj.number,<br>            },<br>            <span class="hljs-string">'objects'</span>: []<br>        }<br>        <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> page_obj.object_list:<br>            data[<span class="hljs-string">'objects'</span>].append({<br>                <span class="hljs-string">'id'</span>: item.id,<br>                <span class="hljs-string">'name'</span>: item.name,<br>                <span class="hljs-string">'main_img'</span>: item.main_img.url,<br>                <span class="hljs-string">'score'</span>: item.score,<br>                <span class="hljs-string">'province'</span>: item.province,<br>                <span class="hljs-string">'min_price'</span>: item.min_price,<br>                <span class="hljs-string">'city'</span>: item.city,<br>                <span class="hljs-comment"># TODO 评论数量暂时无法获取</span><br>                <span class="hljs-string">'comment_count'</span>: <span class="hljs-number">0</span><br>            })<br>        <span class="hljs-keyword"><code class="language-hljs python"><span class="hljs-keyword">from</span> django <span class="hljs-keyword">import</span> http<br><span class="hljs-keyword">from</span> django.db.models <span class="hljs-keyword">import</span> Q<br><span class="hljs-keyword">from</span> django.shortcuts <span class="hljs-keyword">import</span> render<br><span class="hljs-keyword">from</span> django.views.generic <span class="hljs-keyword">import</span> ListView<br><br><span class="hljs-keyword">from</span> sight.models <span class="hljs-keyword">import</span> Sight<br><br><br><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SightListView</span>(<span class="hljs-params">ListView</span>):</span><br>    <span class="hljs-string">""" 景点列表 """</span><br>    <span class="hljs-comment"># 每页放5条数据</span><br>    paginate_by = <span class="hljs-number">5</span><br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_queryset</span>(<span class="hljs-params">self</span>):</span><br>        <span class="hljs-string">""" 重写查询方法 """</span><br>        query = Q(is_valid=<span class="hljs-literal">True</span>)<br>        <span class="hljs-comment"># 1. 热门景点</span><br>        is_hot = self.request.GET.get(<span class="hljs-string">'is_hot'</span>, <span class="hljs-literal">None</span>)<br>        <span class="hljs-keyword">if</span> is_hot:<br>            query = query &amp; Q(is_hot=<span class="hljs-literal">True</span>)<br>        <span class="hljs-comment"># 2. 精选景点</span><br>        is_top = self.request.GET.get(<span class="hljs-string">'is_top'</span>, <span class="hljs-literal">None</span>)<br>        <span class="hljs-keyword">if</span> is_top:<br>            query = query &amp; Q(is_top=<span class="hljs-literal">True</span>)<br>        <span class="hljs-comment"># TODO 3. 景点名称搜索</span><br>        queryset = Sight.objects.filter(query)<br>        <span class="hljs-keyword">return</span> queryset<br><br>    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">render_to_response</span>(<span class="hljs-params">self, context, **response_kwargs</span>):</span><br>        page_obj = context[<span class="hljs-string">'page_obj'</span>]<br>        data = {<br>            <span class="hljs-string">'meta'</span>: {<br>                <span class="hljs-string">'total_count'</span>: page_obj.paginator.count,<br>                <span class="hljs-string">'page_count'</span>: page_obj.paginator.num_pages,<br>                <span class="hljs-string">'current_page'</span>: page_obj.number,<br>            },<br>            <span class="hljs-string">'objects'</span>: []<br>        }<br>        <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> page_obj.object_list:<br>            data[<span class="hljs-string">'objects'</span>].append({<br>                <span class="hljs-string">'id'</span>: item.id,<br>                <span class="hljs-string">'name'</span>: item.name,<br>                <span class="hljs-string">'main_img'</span>: item.main_img.url,<br>                <span class="hljs-string">'score'</span>: item.score,<br>                <span class="hljs-string">'province'</span>: item.province,<br>                <span class="hljs-string">'min_price'</span>: item.min_price,<br>                <span class="hljs-string">'city'</span>: item.city,<br>                <span class="hljs-comment"># TODO 评论数量暂时无法获取</span><br>                <span class="hljs-string">'comment_count'</span>: <span class="hljs-number">0</span><br>            })<br>        <span class="hljs-keyword">return</span> http.JsonResponse(data)<br></code></pre></td></tr></tbody></table></figure>

</li>
</ul>
<p><code>sight/url.py</code></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre class=" language-hljs python"><span class="hljs-keyword">from</span> django.urls <span class="hljs-keyword">import</span> path<br><br><span class="hljs-keyword">from</span> system <span class="hljs-keyword">import</span> views<br><br>urlpatterns = [<br>    <span class="hljs-comment"># 景点列表接口</span><br>    path(<span class="hljs-string">'sight/list/'</span>, views.SightListView.as_view(), name=<span class="hljs-string">"sight_list"</span>),<br>]<br>```  <br>```trip/url.py```<br>```python<br><span class="hljs-keyword">from</span> django.urls <span class="hljs-keyword">import</span> path, include<br><br>urlpatterns = [<br>    path(<span class="hljs-string">'admin/'</span>, admin.site.urls),<br>    <span class="hljs-comment"># 景点相关的URL</span><br>    path(<span class="hljs-string">'sight/'</span>, include(<span class="hljs-string"><code class="language-hljs python"><span class="hljs-keyword">from</span> django.urls <span class="hljs-keyword">import</span> path<br><br><span class="hljs-keyword">from</span> system <span class="hljs-keyword">import</span> views<br><br>urlpatterns = [<br>    <span class="hljs-comment"># 景点列表接口</span><br>    path(<span class="hljs-string">'sight/list/'</span>, views.SightListView.as_view(), name=<span class="hljs-string">"sight_list"</span>),<br>]<br>```  <br>```trip/url.py```<br>```python<br><span class="hljs-keyword">from</span> django.urls <span class="hljs-keyword">import</span> path, include<br><br>urlpatterns = [<br>    path(<span class="hljs-string">'admin/'</span>, admin.site.urls),<br>    <span class="hljs-comment"># 景点相关的URL</span><br>    path(<span class="hljs-string">'sight/'</span>, include(<span class="hljs-string">'sight.urls'</span>))<br>]<br>``` <br>- 第三步，模拟HTTP请求，测试验证接口<br>```bash<br>python manage.py runserver<br></code></pre></td></tr></tbody></table></figure>

<h3 id="接口文档编写"><a href="#接口文档编写" class="headerlink" title="接口文档编写"></a>接口文档编写</h3><ul>
<li>第一步，学习Markdown语法，可以生成html结构的文档</li>
<li>第二步，编写文档公共部分</li>
<li>第三步，编写接口文档</li>
</ul>
<h3 id="轮播图接口数据获取-接口联调"><a href="#轮播图接口数据获取-接口联调" class="headerlink" title="轮播图接口数据获取(接口联调)"></a>轮播图接口数据获取(接口联调)</h3><h4 id="实现步骤"><a href="#实现步骤" class="headerlink" title="实现步骤"></a>实现步骤</h4><ul>
<li><p>第一步，阅读接口文档</p>
</li>
<li><p>第二步，配置接口地址<br><code>src\utils\apis.js</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre class=" language-hljs js"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 存放项目中所有的接口地址</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">const</span> apiHost = <span class="hljs-string">'http://localhost:8080/api'</span><br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 用户账户相关的接口</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">const</span> AccountsApis = {<br>  loginUrl: <span class="hljs-string">'/'</span>,<br>  logoutUrl: <span class="hljs-string">''</span><br>}<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 系统模块的接口</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">const</span> SystemApis = {<br>  <span class="hljs-comment">// 轮播图列表</span><br>  sliderListUrl: apiHost + <span class="hljs-string">'/system/slider/list/'</span><br>}<br><br><span class="hljs-keyword"><code class="language-hljs js"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 存放项目中所有的接口地址</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">const</span> apiHost = <span class="hljs-string">'http://localhost:8080/api'</span><br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 用户账户相关的接口</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">const</span> AccountsApis = {<br>  loginUrl: <span class="hljs-string">'/'</span>,<br>  logoutUrl: <span class="hljs-string">''</span><br>}<br><br><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 系统模块的接口</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">const</span> SystemApis = {<br>  <span class="hljs-comment">// 轮播图列表</span><br>  sliderListUrl: apiHost + <span class="hljs-string">'/system/slider/list/'</span><br>}<br><br><span class="hljs-keyword">export</span> {<br>  AccountsApis,<br>  SystemApis<br>}<br><br></code></pre></td></tr></tbody></table></figure>
<p><code>vue.config.js</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre class=" language-hljs js"><span class="hljs-comment">// Node.js里面的模块</span><br><span class="hljs-built_in">module</span>.exports = {<br>  <span class="hljs-comment">// http://localhost:8080/api/system/slider/list/</span><br>  <span class="hljs-comment">// =&gt;</span><br>  <span class="hljs-comment">// http://127.0.0.1:8080/system/slider/list/</span><br>  <span class="hljs-comment">// 在Vue.js中解决跨域问题</span><br>  devServer: {<br>    proxy: {<br>      <span class="hljs-string">'/api'</span>: {  <span class="hljs-comment">// 从/api开头 代理到目标地址</span><br>        target: <span class="hljs-string">'http://127.0.0.1:8000/'</span>,  <span class="hljs-comment">// 这个地址的服务器要启动才能访问 </span><br>        changeOrigin: <span class="hljs-literal">true</span>,<br>        pathRewrite: {<br>          <span class="hljs-string">'^/api'</span>: <span class="hljs-string">''</span>   <span class="hljs-comment"><code class="language-hljs js"><span class="hljs-comment">// Node.js里面的模块</span><br><span class="hljs-built_in">module</span>.exports = {<br>  <span class="hljs-comment">// http://localhost:8080/api/system/slider/list/</span><br>  <span class="hljs-comment">// =&gt;</span><br>  <span class="hljs-comment">// http://127.0.0.1:8080/system/slider/list/</span><br>  <span class="hljs-comment">// 在Vue.js中解决跨域问题</span><br>  devServer: {<br>    proxy: {<br>      <span class="hljs-string">'/api'</span>: {  <span class="hljs-comment">// 从/api开头 代理到目标地址</span><br>        target: <span class="hljs-string">'http://127.0.0.1:8000/'</span>,  <span class="hljs-comment">// 这个地址的服务器要启动才能访问 </span><br>        changeOrigin: <span class="hljs-literal">true</span>,<br>        pathRewrite: {<br>          <span class="hljs-string">'^/api'</span>: <span class="hljs-string">''</span>   <span class="hljs-comment">//  重写URL，空字符表示把/api字符串去掉</span><br>        }<br>      }<br>    }<br>  }<br>}<br></code></pre></td></tr></tbody></table></figure>
</li>
<li><p>第三步，在组件中使用axios获取数据<br><code>src/components/home/Bannaer</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre class=" language-hljs js"><span class="hljs-keyword">import</span> { ajax } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/utils/ajax'</span><br><span class="hljs-keyword">import</span> { SystemApis } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/utils/apis'</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {<br>  data () {<br>    <span class="hljs-keyword">return</span> {<br>      bannerList: []<br>    }<br>  },<br>  methods: {<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 获取轮播图的数据</span><br><span class="hljs-comment">     */</span><br>    getDataList () {<br>      ajax.get(SystemApis.sliderListUrl).then(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> {<br>        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'res:'</span>, res)<br>        <span class="hljs-built_in">this</span>.bannerList = res.data.objects<br>      })<br>    }<br>  },<br>  created () {<br>    <span class="hljs-comment">// 从接口获取数据</span><br>    <span class="hljs-built_in"><code class="language-hljs js"><span class="hljs-keyword">import</span> { ajax } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/utils/ajax'</span><br><span class="hljs-keyword">import</span> { SystemApis } <span class="hljs-keyword">from</span> <span class="hljs-string">'@/utils/apis'</span><br><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {<br>  data () {<br>    <span class="hljs-keyword">return</span> {<br>      bannerList: []<br>    }<br>  },<br>  methods: {<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 获取轮播图的数据</span><br><span class="hljs-comment">     */</span><br>    getDataList () {<br>      ajax.get(SystemApis.sliderListUrl).then(<span class="hljs-function"><span class="hljs-params">res</span> =&gt;</span> {<br>        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'res:'</span>, res)<br>        <span class="hljs-built_in">this</span>.bannerList = res.data.objects<br>      })<br>    }<br>  },<br>  created () {<br>    <span class="hljs-comment">// 从接口获取数据</span><br>    <span class="hljs-built_in">this</span>.getDataList()<br>  }<br>}<br></code></pre></td></tr></tbody></table></figure>

</li>
</ul>
<p>django项目的<code>trip/setting.py</code>的<code>STATIC_URL = '/static/'</code>下一行加上</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre class=" language-hljs py">MEDIA_URL = <span class="hljs-string"><code class="language-hljs py">MEDIA_URL = <span class="hljs-string">'http://localhost:8080/'</span><br></code></pre></td></tr></tbody></table></figure>

<ul>
<li>第四步，将数据设置到模型层<br>Vue组件<code>Banner.vue</code>的模板里的数据<code>img_id</code>和<code>img_url</code>是调用django的视图<code>system/view.py</code>里面的<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre class=" language-hljs vue"><code class="language-hljs vue"><template><br><!-- 首页的轮播图 --><br>  <div class="home-banner-box"><br>    <van-swipe class="my-swipe" :autoplay="3000" indicator-color="white"><br>      <van-swipe-item v-for="item in bannerList"<br>        :key="item.id"><br>        <img :src="item.img_url" alt=""><br>      </van-swipe-item><br>    </van-swipe><br>  </div><br></template><br></code></pre></td></tr></tbody></table></figure>

</li>
</ul>
<h3 id="景点列表接口数据获取"><a href="#景点列表接口数据获取" class="headerlink" title="景点列表接口数据获取"></a>景点列表接口数据获取</h3><h4 id="实现步骤-1"><a href="#实现步骤-1" class="headerlink" title="实现步骤"></a>实现步骤</h4><ul>
<li>第一步，阅读接口文档</li>
<li>第二步，配置接口地址<br><code>src\utils\apis.js</code><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre class=" language-hljs js"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 景点模块</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">const</span> SightApis = {<br>  <span class="hljs-comment">// 景点列表</span><br>  sightListUrl: apiHost + <span class="hljs-string">'/sight/sight/list/'</span><br>}<br><br><span class="hljs-keyword"><code class="language-hljs js"><span class="hljs-comment">/**</span><br><span class="hljs-comment"> * 景点模块</span><br><span class="hljs-comment"> */</span><br><span class="hljs-keyword">const</span> SightApis = {<br>  <span class="hljs-comment">// 景点列表</span><br>  sightListUrl: apiHost + <span class="hljs-string">'/sight/sight/list/'</span><br>}<br><br><span class="hljs-keyword">export</span> {<br>  SightApis<br>}<br><br></code></pre></td></tr></tbody></table></figure>
<code>vue.config.js</code><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre class=" language-hljs js"><span class="hljs-string">``</span><span class="hljs-string">`</span><br><span class="hljs-string">- 第三步，使用axios获取数据</span><br><span class="hljs-string">`</span><span class="hljs-string">``</span>js<br>methods: {<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 查热门景点</span><br><span class="hljs-comment">     */</span><br>    getDataList () {<br>      ajax.get(SightApis.sightListUrl, {<br>        params: {<br>          is_hot: <span class="hljs-number">1</span><br>        }<br>      }).then(<span class="hljs-function">(<span class="hljs-params">{ data }</span>) =&gt;</span> {<br>        <span class="hljs-built_in"><code class="language-hljs js"><span class="hljs-string">``</span><span class="hljs-string">`</span><br><span class="hljs-string">- 第三步，使用axios获取数据</span><br><span class="hljs-string">`</span><span class="hljs-string">``</span>js<br>methods: {<br>    <span class="hljs-comment">/**</span><br><span class="hljs-comment">     * 查热门景点</span><br><span class="hljs-comment">     */</span><br>    getDataList () {<br>      ajax.get(SightApis.sightListUrl, {<br>        params: {<br>          is_hot: <span class="hljs-number">1</span><br>        }<br>      }).then(<span class="hljs-function">(<span class="hljs-params">{ data }</span>) =&gt;</span> {<br>        <span class="hljs-built_in">this</span>.dataList = data.objects<br>      })<br>    }<br>  }<br></code></pre></td></tr></tbody></table></figure></li>
<li>第四步，将数据设置到模型层，<br>Vue组件<code>Hot.vue</code>的模板里的数据<code>main_img</code>和<code>name</code>和<code>min_price</code>是调用django的视图<code>sight/view.py</code>里面的<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre class=" language-hljs vue"><code class="language-hljs vue"><template><br>  <!-- 热门景点 --><br>  <div class="home-hot-box"><br>    <!-- 顶上导航 --><br>    <van-cell<br>      title="热门推荐"<br>      icon="/static/home/hot/fire.png"<br>      is-link<br>      title-style="text-align:left"<br>      value="全部榜单" /><br>    <!-- // 顶上导航 --><br>    <!-- 景点列表 --><br>    <div class="box-main"><br>      <a href="#" class="hot-item"<br>        v-for="item in dataList"<br>        :key="item.id"><br>        <div class="img"><br>          <span></span><br>          <img :src="item.main_img" alt=""><br>        </div><br>        <!-- ellipsis 省略号 意思是超过一定长度变成省略号 --><br>        <h5 class="van-ellipsis">{{ item.name }}</h5><br>        <div class="line-price"><br>          <span class="price">￥{{ item.min_price }}</span>起<br>        </div><br>      </a><br>    </div><br>    <!-- //景点列表 --><br>  </div><br></template><br></code></pre></td></tr></tbody></table></figure>

</li>
</ul>
<p>Vue组件<code>Fine.vue</code>的模板里的数据<code>is_top</code>和<code>name</code>和<code>min_price</code>是调用django的视图<code>sight/view.py</code>里面的</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre class=" language-hljs vue"><code class="language-hljs vue"><script><br>import SightItem from '@/components/common/ListSight'<br>export default {<br>  components: {<br>    SightItem<br>  },<br>  data () {<br>    return {<br>      dataList: []<br>    }<br>  },<br>  methods: {<br>    /**<br>     * 查精选景点<br>     */<br>    getDataList () {<br>      ajax.get(SightApis.sightListUrl, {<br>        params: {<br>          is_top: 1<br>        }<br>      }).then(({ data }) => {<br>        this.dataList = data.objects<br>      })<br>    }<br>  },<br>  created () {<br>    this.getDataList()<br>    // this.dataList = [<br>    //   {id: 1, name: '景点名称', score: 5, price: 98},<br>    //   {id: 2, name: '景点名称', score: 4.5, price: 98},<br>    //   {id: 3, name: '景点名称', score: 4, price: 98},<br>    // ]<br>  }<br>}<br></script><br></code></pre></td></tr></tbody></table></figure>

<p><code>src\components\common\ListSight.vue</code>的<code>name</code>和<code>score</code>是调用<code>sight/view.py</code></p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre class=" language-hljs vue"><code class="language-hljs vue"><template><br>  <a href="#" class="sight-item"><br>    <img :src="item.main_img" :alt="item.name"><br>    <div class="right"><br>      <h5>{{ item.name }}</h5><br>      <van-rate v-model="item.score" readonly/><br>      <div class="tips">{{ item.comment_count }}人点评 | 100%满意</div><br>      <div class="tips light">{{ item.province }} - {{ item.city }}</div><br>      <div class="line-price">￥ {{ item.min_price }} 起</div><br>    </div><br>  </a><br></template><br></code></pre></td></tr></tbody></table></figure>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
  </div>
  <div>
  
  <div class="post-note note-warning copyright" style="margin-top: 42px">
    <p><span style="font-weight: bold;">作者：</span><a target="_blank" rel="nofollow noopener noreferrer" href="https://bubbleboy11.github.io/about">外心人D</a></p>
    <p><span style="font-weight: bold;">文章链接：</span><a target="_blank" rel="nofollow noopener noreferrer" href="https://bubbleboy11.github.io/2020/08/21/vue-shi-zhan-xiang-mu-da-jian/">https://bubbleboy11.github.io/2020/08/21/vue-shi-zhan-xiang-mu-da-jian/</a></p>
    <p><span style="font-weight: bold;">版权声明：</span>本博客所有文章除特别声明外，均采用<a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh">CC BY-NC-SA 4.0 协议</a>。转载请注明出处！</p>
  </div>
  
  </div>
</article>
<div class="nav">
  
  <div class="nav-item-prev">
    <a href="/2020/08/21/python-chang-yong-nei-zhi-suan-fa-he-shu-ju-jie-gou/" class="nav-link">
      <i class="iconfont icon-left nav-prev-icon"></i>
      <div>
        <div class="nav-label">上一篇</div>
        
        <div class="nav-title">Python常用内置算法和数据结构 </div>
        
      </div>
    </a>
  </div>
  
  
  <div class="nav-item-next">
    <a href="/2020/08/21/java-shu-ju-lei-xing/" class="nav-link">
      <div>
        <div class="nav-label">下一篇</div>
        
        <div class="nav-title">java数据类型 </div>
        
      </div>
      <i class="iconfont icon-right nav-next-icon"></i>
    </a>
  </div>
  
</div>

<div class="card card-content toc-card" id="mobiletoc">
  <div class="toc-header"><i class="iconfont icon-menu" style="padding-right: 2px;"></i>目录</div>
<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E7%9A%84%E6%90%AD%E5%BB%BA"><span class="toc-text">项目的搭建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E7%9A%84%E6%B5%81%E7%A8%8B"><span class="toc-text">开发的流程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA"><span class="toc-text">实战项目搭建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BD%95%E4%B8%8D%E8%83%BD%E5%9C%A8Vue-js%E4%B8%AD%E4%BD%BF%E7%94%A8AJAX"><span class="toc-text">为何不能在Vue.js中使用AJAX</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#axios%E5%BC%82%E6%AD%A5%E8%AF%B7%E6%B1%82%E5%BA%93"><span class="toc-text">axios异步请求库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Promise"><span class="toc-text">Promise</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E5%9B%9E%E8%B0%83"><span class="toc-text">处理回调</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E5%BC%82%E5%B8%B8"><span class="toc-text">处理异常</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8npm-cnpm%E5%AE%89%E8%A3%85"><span class="toc-text">使用npm&#x2F;cnpm安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8axios"><span class="toc-text">如何使用axios</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E5%93%8D%E5%BA%94%E6%8B%A6%E6%88%AA"><span class="toc-text">请求响应拦截</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">使用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%B3%95"><span class="toc-text">实现方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E8%87%AA%E5%AE%9A%E4%B9%89%E8%AF%B7%E6%B1%82%E5%A4%B4"><span class="toc-text">设置自定义请求头</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E6%90%BA%E5%B8%A6%E4%B8%8A%E6%AC%A1%E7%9A%84cookie"><span class="toc-text">默认携带上次的cookie</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0loading%E5%8A%A8%E7%94%BB"><span class="toc-text">添加loading动画</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%9F%E4%B8%80%E7%9A%84%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86"><span class="toc-text">统一的错误处理</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%A8%E5%9F%9F"><span class="toc-text">跨域</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8Vue-js%E4%B8%AD%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98"><span class="toc-text">在Vue.js中解决跨域问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8Django%E4%B8%AD%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98"><span class="toc-text">在Django中解决跨域问题</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#VantUI"><span class="toc-text">VantUI</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Vant%E7%BB%84%E4%BB%B6%E5%BA%93"><span class="toc-text">Vant组件库</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%80%E5%A7%8B%E4%BD%BF%E7%94%A8"><span class="toc-text">开始使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BD%AE%E6%92%AD%E5%9B%BE%E7%BB%84%E4%BB%B6%E5%BC%80%E5%8F%91"><span class="toc-text">轮播图组件开发</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4"><span class="toc-text">开发步骤</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%83%AD%E9%97%A8%E6%8E%A8%E8%8D%90%E7%BB%84%E4%BB%B6%E5%BC%80%E5%8F%91"><span class="toc-text">热门推荐组件开发</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4-1"><span class="toc-text">开发步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link"><span class="toc-text">{{ item.name }}</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%99%AF%E7%82%B9%E5%88%97%E8%A1%A8%E7%BB%84%E4%BB%B6%E5%BC%80%E5%8F%91"><span class="toc-text">景点列表组件开发</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4-2"><span class="toc-text">开发步骤</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B2%BE%E9%80%89%E6%99%AF%E7%82%B9%E7%BB%84%E4%BB%B6%E5%BC%80%E5%8F%91"><span class="toc-text">精选景点组件开发</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4-3"><span class="toc-text">开发步骤</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E5%BA%95%E9%83%A8%E7%BB%84%E4%BB%B6%E5%BC%80%E5%8F%91"><span class="toc-text">页面底部组件开发</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4-4"><span class="toc-text">开发步骤</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%9E%8B%E8%AE%BE%E8%AE%A1"><span class="toc-text">模型设计</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E8%BD%AE%E6%92%AD%E5%9B%BEORM%E6%A8%A1%E5%9E%8B"><span class="toc-text">设计轮播图ORM模型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4-5"><span class="toc-text">开发步骤</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E6%99%AF%E7%82%B9%E5%88%97%E8%A1%A8API%E6%8E%A5%E5%8F%A3"><span class="toc-text">设计景点列表API接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4-6"><span class="toc-text">开发步骤</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3%E7%BC%96%E5%86%99"><span class="toc-text">接口文档编写</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BD%AE%E6%92%AD%E5%9B%BE%E6%8E%A5%E5%8F%A3%E6%95%B0%E6%8D%AE%E8%8E%B7%E5%8F%96-%E6%8E%A5%E5%8F%A3%E8%81%94%E8%B0%83"><span class="toc-text">轮播图接口数据获取(接口联调)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4"><span class="toc-text">实现步骤</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%99%AF%E7%82%B9%E5%88%97%E8%A1%A8%E6%8E%A5%E5%8F%A3%E6%95%B0%E6%8D%AE%E8%8E%B7%E5%8F%96"><span class="toc-text">景点列表接口数据获取</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4-1"><span class="toc-text">实现步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link"><span class="toc-text">{{ item.name }}</span></a></li><li class="toc-item toc-level-5"><a class="toc-link"><span class="toc-text">{{ item.name }}</span></a></li></ol></li></ol></li></ol>
</div></main>
          <aside class="left-column">
            
            <div class="card card-author">
              
<img src="/img/author_img.png" class="author-img">

<p class="author-name">外心人D</p>
<p class="author-description">passion & patient</p>
<div class="author-message">
  <a class="author-posts-count" href="/archives">
    <span>165</span>
    <span>文章</span>
  </a>
  <a class="author-categories-count" href="/categories">
    <span>17</span>
    <span>分类</span>
  </a>
  <a class="author-tags-count" href="/tags">
    <span>25</span>
    <span>标签</span>
  </a>
</div>

<div class="author-card-society">
  
    <div class="author-card-society-icon">
      <a target="_blank" rel="noopener" href="https://www.baidu.com">
        <i class="iconfont icon-github society-icon"></i>
      </a>
    </div>
  
    <div class="author-card-society-icon">
      <a target="_blank" rel="noopener" href="https://www.baidu.com">
        <i class="iconfont icon-bilibili society-icon"></i>
      </a>
    </div>
  
    <div class="author-card-society-icon">
      <a target="_blank" rel="noopener" href="https://www.baidu.com">
        <i class="iconfont icon-stackflow society-icon"></i>
      </a>
    </div>
  
</div>

            </div>
            
            <div class="sticky-tablet">
  
  
  <article class="display-when-two-columns spacer">
    <div class="card card-content toc-card">
      <div class="toc-header"><i class="iconfont icon-menu" style="padding-right: 2px;"></i>目录</div>
<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E7%9A%84%E6%90%AD%E5%BB%BA"><span class="toc-text">项目的搭建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E7%9A%84%E6%B5%81%E7%A8%8B"><span class="toc-text">开发的流程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA"><span class="toc-text">实战项目搭建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BD%95%E4%B8%8D%E8%83%BD%E5%9C%A8Vue-js%E4%B8%AD%E4%BD%BF%E7%94%A8AJAX"><span class="toc-text">为何不能在Vue.js中使用AJAX</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#axios%E5%BC%82%E6%AD%A5%E8%AF%B7%E6%B1%82%E5%BA%93"><span class="toc-text">axios异步请求库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Promise"><span class="toc-text">Promise</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E5%9B%9E%E8%B0%83"><span class="toc-text">处理回调</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E5%BC%82%E5%B8%B8"><span class="toc-text">处理异常</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8npm-cnpm%E5%AE%89%E8%A3%85"><span class="toc-text">使用npm&#x2F;cnpm安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8axios"><span class="toc-text">如何使用axios</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E5%93%8D%E5%BA%94%E6%8B%A6%E6%88%AA"><span class="toc-text">请求响应拦截</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">使用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%B3%95"><span class="toc-text">实现方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E8%87%AA%E5%AE%9A%E4%B9%89%E8%AF%B7%E6%B1%82%E5%A4%B4"><span class="toc-text">设置自定义请求头</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E6%90%BA%E5%B8%A6%E4%B8%8A%E6%AC%A1%E7%9A%84cookie"><span class="toc-text">默认携带上次的cookie</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0loading%E5%8A%A8%E7%94%BB"><span class="toc-text">添加loading动画</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%9F%E4%B8%80%E7%9A%84%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86"><span class="toc-text">统一的错误处理</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%A8%E5%9F%9F"><span class="toc-text">跨域</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8Vue-js%E4%B8%AD%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98"><span class="toc-text">在Vue.js中解决跨域问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8Django%E4%B8%AD%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98"><span class="toc-text">在Django中解决跨域问题</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#VantUI"><span class="toc-text">VantUI</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Vant%E7%BB%84%E4%BB%B6%E5%BA%93"><span class="toc-text">Vant组件库</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%80%E5%A7%8B%E4%BD%BF%E7%94%A8"><span class="toc-text">开始使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BD%AE%E6%92%AD%E5%9B%BE%E7%BB%84%E4%BB%B6%E5%BC%80%E5%8F%91"><span class="toc-text">轮播图组件开发</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4"><span class="toc-text">开发步骤</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%83%AD%E9%97%A8%E6%8E%A8%E8%8D%90%E7%BB%84%E4%BB%B6%E5%BC%80%E5%8F%91"><span class="toc-text">热门推荐组件开发</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4-1"><span class="toc-text">开发步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link"><span class="toc-text">{{ item.name }}</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%99%AF%E7%82%B9%E5%88%97%E8%A1%A8%E7%BB%84%E4%BB%B6%E5%BC%80%E5%8F%91"><span class="toc-text">景点列表组件开发</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4-2"><span class="toc-text">开发步骤</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B2%BE%E9%80%89%E6%99%AF%E7%82%B9%E7%BB%84%E4%BB%B6%E5%BC%80%E5%8F%91"><span class="toc-text">精选景点组件开发</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4-3"><span class="toc-text">开发步骤</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E5%BA%95%E9%83%A8%E7%BB%84%E4%BB%B6%E5%BC%80%E5%8F%91"><span class="toc-text">页面底部组件开发</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4-4"><span class="toc-text">开发步骤</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%9E%8B%E8%AE%BE%E8%AE%A1"><span class="toc-text">模型设计</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E8%BD%AE%E6%92%AD%E5%9B%BEORM%E6%A8%A1%E5%9E%8B"><span class="toc-text">设计轮播图ORM模型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4-5"><span class="toc-text">开发步骤</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E6%99%AF%E7%82%B9%E5%88%97%E8%A1%A8API%E6%8E%A5%E5%8F%A3"><span class="toc-text">设计景点列表API接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4-6"><span class="toc-text">开发步骤</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3%E7%BC%96%E5%86%99"><span class="toc-text">接口文档编写</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BD%AE%E6%92%AD%E5%9B%BE%E6%8E%A5%E5%8F%A3%E6%95%B0%E6%8D%AE%E8%8E%B7%E5%8F%96-%E6%8E%A5%E5%8F%A3%E8%81%94%E8%B0%83"><span class="toc-text">轮播图接口数据获取(接口联调)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4"><span class="toc-text">实现步骤</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%99%AF%E7%82%B9%E5%88%97%E8%A1%A8%E6%8E%A5%E5%8F%A3%E6%95%B0%E6%8D%AE%E8%8E%B7%E5%8F%96"><span class="toc-text">景点列表接口数据获取</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4-1"><span class="toc-text">实现步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link"><span class="toc-text">{{ item.name }}</span></a></li><li class="toc-item toc-level-5"><a class="toc-link"><span class="toc-text">{{ item.name }}</span></a></li></ol></li></ol></li></ol>
    </div>
  </article>
  
  
  <article class="card card-content categories-widget">
    <div class="categories-card">
  <div class="categories-header"><i class="iconfont icon-fenlei" style="padding-right: 2px;"></i>分类</div>
  <div class="categories-list">
    
      <a href="/categories/旅游网项目/">
        <div class="categories-list-item">
          旅游网项目
          <span class="categories-list-item-badge">26</span>
        </div>
      </a>
    
      <a href="/categories/django/">
        <div class="categories-list-item">
          django
          <span class="categories-list-item-badge">8</span>
        </div>
      </a>
    
      <a href="/categories/python/">
        <div class="categories-list-item">
          python
          <span class="categories-list-item-badge">38</span>
        </div>
      </a>
    
      <a href="/categories/Markdown/">
        <div class="categories-list-item">
          Markdown
          <span class="categories-list-item-badge">63</span>
        </div>
      </a>
    
      <a href="/categories/计算机网络/">
        <div class="categories-list-item">
          计算机网络
          <span class="categories-list-item-badge">3</span>
        </div>
      </a>
    
      <a href="/categories/web/">
        <div class="categories-list-item">
          web
          <span class="categories-list-item-badge">2</span>
        </div>
      </a>
    
      <a href="/categories/测试/">
        <div class="categories-list-item">
          测试
          <span class="categories-list-item-badge">2</span>
        </div>
      </a>
    
      <a href="/categories/docker/">
        <div class="categories-list-item">
          docker
          <span class="categories-list-item-badge">1</span>
        </div>
      </a>
    
      <a href="/categories/hexo/">
        <div class="categories-list-item">
          hexo
          <span class="categories-list-item-badge">1</span>
        </div>
      </a>
    
      <a href="/categories/java/">
        <div class="categories-list-item">
          java
          <span class="categories-list-item-badge">2</span>
        </div>
      </a>
    
      <a href="/categories/数据库/">
        <div class="categories-list-item">
          数据库
          <span class="categories-list-item-badge">2</span>
        </div>
      </a>
    
      <a href="/categories/markdown/">
        <div class="categories-list-item">
          markdown
          <span class="categories-list-item-badge">1</span>
        </div>
      </a>
    
      <a href="/categories/数据结构与算法/">
        <div class="categories-list-item">
          数据结构与算法
          <span class="categories-list-item-badge">10</span>
        </div>
      </a>
    
      <a href="/categories/面试/">
        <div class="categories-list-item">
          面试
          <span class="categories-list-item-badge">1</span>
        </div>
      </a>
    
      <a href="/categories/vue/">
        <div class="categories-list-item">
          vue
          <span class="categories-list-item-badge">1</span>
        </div>
      </a>
    
      <a href="/categories/linux/">
        <div class="categories-list-item">
          linux
          <span class="categories-list-item-badge">1</span>
        </div>
      </a>
    
      <a href="/categories/前端/">
        <div class="categories-list-item">
          前端
          <span class="categories-list-item-badge">1</span>
        </div>
      </a>
    
  </div>
</div>
  </article>
  
  <article class="card card-content tags-widget">
    <div class="tags-card">
  <div class="tags-header"><i class="iconfont icon-biaoqian" style="padding-right: 2px;"></i>热门标签</div>
  <div class="tags-list">
    
    <a href="/tags/剑指offer/" title="剑指offer"><div class="tags-list-item">剑指offer</div></a>
    
    <a href="/tags/Leetcode/" title="Leetcode"><div class="tags-list-item">Leetcode</div></a>
    
    <a href="/tags/django/" title="django"><div class="tags-list-item">django</div></a>
    
    <a href="/tags/Vue/" title="Vue"><div class="tags-list-item">Vue</div></a>
    
    <a href="/tags/python/" title="python"><div class="tags-list-item">python</div></a>
    
    <a href="/tags/测试/" title="测试"><div class="tags-list-item">测试</div></a>
    
    <a href="/tags/redis/" title="redis"><div class="tags-list-item">redis</div></a>
    
    <a href="/tags/排序/" title="排序"><div class="tags-list-item">排序</div></a>
    
    <a href="/tags/sql/" title="sql"><div class="tags-list-item">sql</div></a>
    
    <a href="/tags/前端/" title="前端"><div class="tags-list-item">前端</div></a>
    
    <a href="/tags/linux/" title="linux"><div class="tags-list-item">linux</div></a>
    
    <a href="/tags/数据结构和算法/" title="数据结构和算法"><div class="tags-list-item">数据结构和算法</div></a>
    
    <a href="/tags/Unicode/" title="Unicode"><div class="tags-list-item">Unicode</div></a>
    
    <a href="/tags/ASCII/" title="ASCII"><div class="tags-list-item">ASCII</div></a>
    
    <a href="/tags/编码/" title="编码"><div class="tags-list-item">编码</div></a>
    
    <a href="/tags/vue/" title="vue"><div class="tags-list-item">vue</div></a>
    
  </div>
</div>
  </article>
  
  
</div>
          </aside>
          <aside class="right-column">
            <div class="sticky-widescreen">
  
  
  <article class="card card-content toc-card">
    <div class="toc-header"><i class="iconfont icon-menu" style="padding-right: 2px;"></i>目录</div>
<ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E7%9A%84%E6%90%AD%E5%BB%BA"><span class="toc-text">项目的搭建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E7%9A%84%E6%B5%81%E7%A8%8B"><span class="toc-text">开发的流程</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA"><span class="toc-text">实战项目搭建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BD%95%E4%B8%8D%E8%83%BD%E5%9C%A8Vue-js%E4%B8%AD%E4%BD%BF%E7%94%A8AJAX"><span class="toc-text">为何不能在Vue.js中使用AJAX</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#axios%E5%BC%82%E6%AD%A5%E8%AF%B7%E6%B1%82%E5%BA%93"><span class="toc-text">axios异步请求库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Promise"><span class="toc-text">Promise</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E5%9B%9E%E8%B0%83"><span class="toc-text">处理回调</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%84%E7%90%86%E5%BC%82%E5%B8%B8"><span class="toc-text">处理异常</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8npm-cnpm%E5%AE%89%E8%A3%85"><span class="toc-text">使用npm&#x2F;cnpm安装</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8axios"><span class="toc-text">如何使用axios</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AF%B7%E6%B1%82%E5%93%8D%E5%BA%94%E6%8B%A6%E6%88%AA"><span class="toc-text">请求响应拦截</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-text">使用场景</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%B3%95"><span class="toc-text">实现方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E8%87%AA%E5%AE%9A%E4%B9%89%E8%AF%B7%E6%B1%82%E5%A4%B4"><span class="toc-text">设置自定义请求头</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E6%90%BA%E5%B8%A6%E4%B8%8A%E6%AC%A1%E7%9A%84cookie"><span class="toc-text">默认携带上次的cookie</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0loading%E5%8A%A8%E7%94%BB"><span class="toc-text">添加loading动画</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%9F%E4%B8%80%E7%9A%84%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86"><span class="toc-text">统一的错误处理</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%A8%E5%9F%9F"><span class="toc-text">跨域</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8Vue-js%E4%B8%AD%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98"><span class="toc-text">在Vue.js中解决跨域问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8Django%E4%B8%AD%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98"><span class="toc-text">在Django中解决跨域问题</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#VantUI"><span class="toc-text">VantUI</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Vant%E7%BB%84%E4%BB%B6%E5%BA%93"><span class="toc-text">Vant组件库</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%80%E5%A7%8B%E4%BD%BF%E7%94%A8"><span class="toc-text">开始使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BD%AE%E6%92%AD%E5%9B%BE%E7%BB%84%E4%BB%B6%E5%BC%80%E5%8F%91"><span class="toc-text">轮播图组件开发</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4"><span class="toc-text">开发步骤</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%83%AD%E9%97%A8%E6%8E%A8%E8%8D%90%E7%BB%84%E4%BB%B6%E5%BC%80%E5%8F%91"><span class="toc-text">热门推荐组件开发</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4-1"><span class="toc-text">开发步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link"><span class="toc-text">{{ item.name }}</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%99%AF%E7%82%B9%E5%88%97%E8%A1%A8%E7%BB%84%E4%BB%B6%E5%BC%80%E5%8F%91"><span class="toc-text">景点列表组件开发</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4-2"><span class="toc-text">开发步骤</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B2%BE%E9%80%89%E6%99%AF%E7%82%B9%E7%BB%84%E4%BB%B6%E5%BC%80%E5%8F%91"><span class="toc-text">精选景点组件开发</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4-3"><span class="toc-text">开发步骤</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E5%BA%95%E9%83%A8%E7%BB%84%E4%BB%B6%E5%BC%80%E5%8F%91"><span class="toc-text">页面底部组件开发</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4-4"><span class="toc-text">开发步骤</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A8%A1%E5%9E%8B%E8%AE%BE%E8%AE%A1"><span class="toc-text">模型设计</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E8%BD%AE%E6%92%AD%E5%9B%BEORM%E6%A8%A1%E5%9E%8B"><span class="toc-text">设计轮播图ORM模型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4-5"><span class="toc-text">开发步骤</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E6%99%AF%E7%82%B9%E5%88%97%E8%A1%A8API%E6%8E%A5%E5%8F%A3"><span class="toc-text">设计景点列表API接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4-6"><span class="toc-text">开发步骤</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3%E7%BC%96%E5%86%99"><span class="toc-text">接口文档编写</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BD%AE%E6%92%AD%E5%9B%BE%E6%8E%A5%E5%8F%A3%E6%95%B0%E6%8D%AE%E8%8E%B7%E5%8F%96-%E6%8E%A5%E5%8F%A3%E8%81%94%E8%B0%83"><span class="toc-text">轮播图接口数据获取(接口联调)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4"><span class="toc-text">实现步骤</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%99%AF%E7%82%B9%E5%88%97%E8%A1%A8%E6%8E%A5%E5%8F%A3%E6%95%B0%E6%8D%AE%E8%8E%B7%E5%8F%96"><span class="toc-text">景点列表接口数据获取</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4-1"><span class="toc-text">实现步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link"><span class="toc-text">{{ item.name }}</span></a></li><li class="toc-item toc-level-5"><a class="toc-link"><span class="toc-text">{{ item.name }}</span></a></li></ol></li></ol></li></ol>
  </article>
  
  
  <article class="card card-content">
    <div class="recent-posts-card">
  <div class="recent-posts-header"><i class="iconfont icon-wenzhang_huaban" style="padding-right: 2px;"></i>最近文章</div>
  <div class="recent-posts-list">
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2021-04-02</div>
        <a href="/2021/04/03/admin-de-yi-xie-you-hua-pei-zhi/"><div class="recent-posts-item-content">admin的一些优化配置</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2021-04-02</div>
        <a href="/2021/04/02/django-hou-tai-guan-li/"><div class="recent-posts-item-content">Django后台管理</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2021-04-01</div>
        <a href="/2021/04/02/lu-you-wang-shan-chu-ding-dan-jie-kou-lian-diao/"><div class="recent-posts-item-content">旅游网删除订单接口联调</div></a>
      </div>
    
      <div class="recent-posts-item">
        <div class="recent-posts-item-title">2021-04-01</div>
        <a href="/2021/04/02/lu-you-wang-qu-xiao-ding-dan-jie-kou-lian-diao/"><div class="recent-posts-item-content">旅游网取消订单接口联调</div></a>
      </div>
    
  </div>
</div>
  </article>
  
  
</div>
          </aside>
        </div>
      </div>
    </div>
  </div>
  
  <footer class="footer">
  <div class="footer-container">
    <div>
      <div class="footer-dsc">
        <span>Copyright ©
          
          2021 -
          
          2021
        </span>
        &nbsp;
        <a href="/" class="footer-link">外心人D </a>
      </div>
    </div>

    
    <div class="footer-dsc">
      
      Powered by
      <a href="https://hexo.io/" class="footer-link" target="_blank" rel="nofollow noopener noreferrer">&nbsp;Hexo </a>
      
      
      <span>&nbsp;|&nbsp;</span>
      
      
      Theme -
      <a href="https://github.com/theme-kaze" class="footer-link" target="_blank"
        rel="nofollow noopener noreferrer">&nbsp;Kaze</a>
      
    </div>
    
    
    
    
</footer>
  <a role="button" id="scrollbutton" class="basebutton"  aria-label="回到顶部">
  <i class="iconfont icon-arrowleft button-icon"></i>
</a>
<a role="button" id="menubutton" class="basebutton">
  <i class="iconfont icon-menu button-icon"></i>
</a>
<a role="button" id="popbutton" class="basebutton" aria-label="控制中心">
  <i class="iconfont icon-expand button-icon"></i>
</a>
<a role="button" id="darkbutton" class="basebutton darkwidget" aria-label="夜色模式">
  <i class="iconfont icon-weather button-icon"></i>
</a>
<a role="button" id="searchbutton" class="basebutton searchwidget" aria-label="搜索">
  <i class="iconfont icon-search button-icon"></i>
</a>

  
  
  

  
  
  <script>
  var addImgLayout = function () {
    var img = document.querySelectorAll('.post-content img');
    var i;
    for (i = 0; i < img.length; i++) {
      var wrapper = document.createElement('a');
      wrapper.setAttribute('href', img[i].getAttribute('data-src'));
      wrapper.setAttribute('aria-label', 'illustration');
      wrapper.style.cssText = 'width: 100%; display: flex; justify-content: center;';
      if (img[i].alt) wrapper.dataset.caption = img[i].alt;
      wrapper.dataset.nolink = true;
      img[i].before(wrapper);
      wrapper.append(img[i]);
      var divWrap = document.createElement('div');
      divWrap.classList.add('gallery');
      wrapper.before(divWrap);
      divWrap.append(wrapper);
    }
    baguetteBox.run('.gallery');
  }
</script>
<script>loadScript("/js/lib/lightbox/baguetteBox.min.js", addImgLayout)</script>
  
  
  
<script src="/js/main.js"></script>

  
  
  <script>
    var addLazyload = function () {
      var observer = lozad('.lozad', {
        load: function (el) {
          el.srcset = el.getAttribute('data-src');
        },
        loaded: function (el) {
          el.classList.add('loaded');
        }
      });
      observer.observe();
    }
  </script>
  <script>loadScript("/js/lib/lozad.min.js", addLazyload)</script>
  
  
</body>

</html>