<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.0.2">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<meta name="hexo-config" content="{&quot;hostname&quot;:&quot;bubbleboy11.github.io&quot;,&quot;root&quot;:&quot;/&quot;,&quot;images&quot;:&quot;/images&quot;,&quot;scheme&quot;:&quot;Muse&quot;,&quot;version&quot;:&quot;8.3.0&quot;,&quot;exturl&quot;:false,&quot;sidebar&quot;:{&quot;position&quot;:&quot;left&quot;,&quot;display&quot;:&quot;post&quot;,&quot;padding&quot;:18,&quot;offset&quot;:12},&quot;copycode&quot;:true,&quot;bookmark&quot;:{&quot;enable&quot;:false,&quot;color&quot;:&quot;#222&quot;,&quot;save&quot;:&quot;auto&quot;},&quot;fancybox&quot;:false,&quot;mediumzoom&quot;:false,&quot;lazyload&quot;:false,&quot;pangu&quot;:false,&quot;comments&quot;:{&quot;style&quot;:&quot;tabs&quot;,&quot;active&quot;:null,&quot;storage&quot;:true,&quot;lazyload&quot;:false,&quot;nav&quot;:null},&quot;motion&quot;:{&quot;enable&quot;:true,&quot;async&quot;:false,&quot;transition&quot;:{&quot;post_block&quot;:&quot;fadeIn&quot;,&quot;post_header&quot;:&quot;fadeInDown&quot;,&quot;post_body&quot;:&quot;fadeInDown&quot;,&quot;coll_header&quot;:&quot;fadeInLeft&quot;,&quot;sidebar&quot;:&quot;fadeInUp&quot;}},&quot;prism&quot;:false,&quot;i18n&quot;:{&quot;placeholder&quot;:&quot;搜索...&quot;,&quot;empty&quot;:&quot;没有找到任何搜索结果：${query}&quot;,&quot;hits_time&quot;:&quot;找到 ${hits} 个搜索结果（用时 ${time} 毫秒）&quot;,&quot;hits&quot;:&quot;找到 ${hits} 个搜索结果&quot;}}">
<meta name="description" content="项目的搭建 项目公共的配置（ajax配置、项目结构、目录等） 前后端通信方式（接口规范、错误码等）  开发的流程 【前端】实现页面（组件） 【前端】使用假数据，或者是mock数据 【后端】模型分析，建模 【后端】实现接口 【前&#x2F;后端】接口文档编写 【前&#x2F;后端】接口联调(对接)  实战项目搭建操作步骤  第一步，使用Vue CLI 搭建项目 第二步，准备好静态资源（图片资源） 第三步，调整生产项目结">
<meta property="og:type" content="article">
<meta property="og:title" content="Vue实战项目搭建">
<meta property="og:url" content="https://bubbleboy11.github.io/2020/08/21/vue-shi-zhan-xiang-mu-da-jian/index.html">
<meta property="og:site_name" content="外心人D的博客">
<meta property="og:description" content="项目的搭建 项目公共的配置（ajax配置、项目结构、目录等） 前后端通信方式（接口规范、错误码等）  开发的流程 【前端】实现页面（组件） 【前端】使用假数据，或者是mock数据 【后端】模型分析，建模 【后端】实现接口 【前&#x2F;后端】接口文档编写 【前&#x2F;后端】接口联调(对接)  实战项目搭建操作步骤  第一步，使用Vue CLI 搭建项目 第二步，准备好静态资源（图片资源） 第三步，调整生产项目结">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://bubbleboy11.github.io/2020/08/21/vue-shi-zhan-xiang-mu-da-jian/item.img_url">
<meta property="og:image" content="https://bubbleboy11.github.io/2020/08/21/vue-shi-zhan-xiang-mu-da-jian/item.main_img">
<meta property="og:image" content="https://bubbleboy11.github.io/2020/08/21/vue-shi-zhan-xiang-mu-da-jian/item.img_url">
<meta property="og:image" content="https://bubbleboy11.github.io/2020/08/21/vue-shi-zhan-xiang-mu-da-jian/item.main_img">
<meta property="article:published_time" content="2020-08-20T16:21:41.000Z">
<meta property="article:modified_time" content="2021-05-16T02:09:41.379Z">
<meta property="article:author" content="外心人D">
<meta property="article:tag" content="Vue">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://bubbleboy11.github.io/2020/08/21/vue-shi-zhan-xiang-mu-da-jian/item.img_url">


<link rel="canonical" href="https://bubbleboy11.github.io/2020/08/21/vue-shi-zhan-xiang-mu-da-jian/">



<meta name="hexo-config-page" content="{&quot;sidebar&quot;:&quot;&quot;,&quot;isHome&quot;:false,&quot;isPost&quot;:true,&quot;lang&quot;:&quot;zh-CN&quot;}">
<meta name="hexo-config-calendar" content="">
<script data-pjax src="/js/load-config.js"></script>
  <title>Vue实战项目搭建 | 外心人D的博客</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="外心人D的博客" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism.css" type="text/css"></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">外心人D的博客</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A1%B9%E7%9B%AE%E7%9A%84%E6%90%AD%E5%BB%BA"><span class="nav-text">项目的搭建</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%80%E5%8F%91%E7%9A%84%E6%B5%81%E7%A8%8B"><span class="nav-text">开发的流程</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE%E6%90%AD%E5%BB%BA"><span class="nav-text">实战项目搭建</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%BA%E4%BD%95%E4%B8%8D%E8%83%BD%E5%9C%A8Vue-js%E4%B8%AD%E4%BD%BF%E7%94%A8AJAX"><span class="nav-text">为何不能在Vue.js中使用AJAX</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#axios%E5%BC%82%E6%AD%A5%E8%AF%B7%E6%B1%82%E5%BA%93"><span class="nav-text">axios异步请求库</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Promise"><span class="nav-text">Promise</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%84%E7%90%86%E5%9B%9E%E8%B0%83"><span class="nav-text">处理回调</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A4%84%E7%90%86%E5%BC%82%E5%B8%B8"><span class="nav-text">处理异常</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8npm-cnpm%E5%AE%89%E8%A3%85"><span class="nav-text">使用npm&#x2F;cnpm安装</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8axios%E5%90%91%E5%90%8E%E7%AB%AF%E6%8E%A5%E5%8F%A3%E5%8F%91%E9%80%81%E8%AF%B7%E6%B1%82"><span class="nav-text">如何使用axios向后端接口发送请求</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AF%B7%E6%B1%82%E5%93%8D%E5%BA%94%E6%8B%A6%E6%88%AA"><span class="nav-text">请求响应拦截</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%BD%BF%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="nav-text">使用场景</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E7%8E%B0%E6%96%B9%E6%B3%95"><span class="nav-text">实现方法</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E8%AE%BE%E7%BD%AE%E8%87%AA%E5%AE%9A%E4%B9%89%E8%AF%B7%E6%B1%82%E5%A4%B4"><span class="nav-text">设置自定义请求头</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%BB%98%E8%AE%A4%E6%90%BA%E5%B8%A6%E4%B8%8A%E6%AC%A1%E7%9A%84cookie"><span class="nav-text">默认携带上次的cookie</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B7%BB%E5%8A%A0loading%E5%8A%A8%E7%94%BB"><span class="nav-text">添加loading动画</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BB%9F%E4%B8%80%E7%9A%84%E9%94%99%E8%AF%AF%E5%A4%84%E7%90%86"><span class="nav-text">统一的错误处理</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%B7%A8%E5%9F%9F"><span class="nav-text">跨域</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9C%A8Vue-js%E4%B8%AD%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98"><span class="nav-text">在Vue.js中解决跨域问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%9C%A8Django%E4%B8%AD%E8%A7%A3%E5%86%B3%E8%B7%A8%E5%9F%9F%E9%97%AE%E9%A2%98"><span class="nav-text">在Django中解决跨域问题</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#setting-py"><span class="nav-text">setting.py</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#VantUI"><span class="nav-text">VantUI</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Vant%E7%BB%84%E4%BB%B6%E5%BA%93"><span class="nav-text">Vant组件库</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%80%E5%A7%8B%E4%BD%BF%E7%94%A8"><span class="nav-text">开始使用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BD%AE%E6%92%AD%E5%9B%BE%E7%BB%84%E4%BB%B6%E5%BC%80%E5%8F%91"><span class="nav-text">轮播图组件开发</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4"><span class="nav-text">开发步骤</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%83%AD%E9%97%A8%E6%8E%A8%E8%8D%90%E7%BB%84%E4%BB%B6%E5%BC%80%E5%8F%91"><span class="nav-text">热门推荐组件开发</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4-1"><span class="nav-text">开发步骤</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link"><span class="nav-text"></span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%99%AF%E7%82%B9%E5%88%97%E8%A1%A8%E7%BB%84%E4%BB%B6%E5%BC%80%E5%8F%91"><span class="nav-text">景点列表组件开发</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4-2"><span class="nav-text">开发步骤</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E7%B2%BE%E9%80%89%E6%99%AF%E7%82%B9%E7%BB%84%E4%BB%B6%E5%BC%80%E5%8F%91"><span class="nav-text">精选景点组件开发</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4-3"><span class="nav-text">开发步骤</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E9%A1%B5%E9%9D%A2%E5%BA%95%E9%83%A8%E7%BB%84%E4%BB%B6%E5%BC%80%E5%8F%91"><span class="nav-text">页面底部组件开发</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4-4"><span class="nav-text">开发步骤</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A8%A1%E5%9E%8B%E8%AE%BE%E8%AE%A1"><span class="nav-text">模型设计</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E8%AE%A1%E8%BD%AE%E6%92%AD%E5%9B%BEORM%E6%A8%A1%E5%9E%8B"><span class="nav-text">设计轮播图ORM模型</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4-5"><span class="nav-text">开发步骤</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E8%AE%A1%E8%BD%AE%E6%92%AD%E5%9B%BE%E6%9F%A5%E8%AF%A2%E6%8E%A5%E5%8F%A3"><span class="nav-text">设计轮播图查询接口</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4-6"><span class="nav-text">开发步骤</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E8%AE%A1%E6%99%AF%E7%82%B9ORM%E6%A8%A1%E5%9E%8B"><span class="nav-text">设计景点ORM模型</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4-7"><span class="nav-text">开发步骤</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%AE%BE%E8%AE%A1%E6%99%AF%E7%82%B9%E5%88%97%E8%A1%A8API%E6%8E%A5%E5%8F%A3"><span class="nav-text">设计景点列表API接口</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%BC%80%E5%8F%91%E6%AD%A5%E9%AA%A4-8"><span class="nav-text">开发步骤</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%8E%A5%E5%8F%A3%E6%96%87%E6%A1%A3%E7%BC%96%E5%86%99"><span class="nav-text">接口文档编写</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%BD%AE%E6%92%AD%E5%9B%BE%E6%8E%A5%E5%8F%A3%E6%95%B0%E6%8D%AE%E8%8E%B7%E5%8F%96-%E6%8E%A5%E5%8F%A3%E8%81%94%E8%B0%83"><span class="nav-text">轮播图接口数据获取(接口联调)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4"><span class="nav-text">实现步骤</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%99%AF%E7%82%B9%E5%88%97%E8%A1%A8%E6%8E%A5%E5%8F%A3%E6%95%B0%E6%8D%AE%E8%8E%B7%E5%8F%96"><span class="nav-text">景点列表接口数据获取</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AE%9E%E7%8E%B0%E6%AD%A5%E9%AA%A4-1"><span class="nav-text">实现步骤</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link"><span class="nav-text"></span></a></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">外心人D</p>
  <div class="site-description" itemprop="description">本博客大多内容为慕课和网上博客，并非原创</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">246</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">22</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">39</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/vue-shi-zhan-xiang-mu-da-jian/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Vue实战项目搭建
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-05-16 02:09:41" itemprop="dateModified" datetime="2021-05-16T02:09:41Z">2021-05-16</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%97%85%E6%B8%B8%E7%BD%91%E9%A1%B9%E7%9B%AE/" itemprop="url" rel="index"><span itemprop="name">旅游网项目</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h3 id="项目的搭建"><a href="#项目的搭建" class="headerlink" title="项目的搭建"></a>项目的搭建</h3><ul>
<li>项目公共的配置（ajax配置、项目结构、目录等）</li>
<li>前后端通信方式（接口规范、错误码等）</li>
</ul>
<h3 id="开发的流程"><a href="#开发的流程" class="headerlink" title="开发的流程"></a>开发的流程</h3><ul>
<li>【前端】实现页面（组件）</li>
<li>【前端】使用假数据，或者是mock数据</li>
<li>【后端】模型分析，建模</li>
<li>【后端】实现接口</li>
<li>【前/后端】接口文档编写</li>
<li>【前/后端】接口联调(对接)</li>
</ul>
<h3 id="实战项目搭建"><a href="#实战项目搭建" class="headerlink" title="实战项目搭建"></a>实战项目搭建</h3><p>操作步骤</p>
<ul>
<li>第一步，使用Vue CLI 搭建项目</li>
<li>第二步，准备好静态资源（图片资源）</li>
<li>第三步，调整生产项目结构</li>
</ul>
<p>项目结构</p>
<ul>
<li>公共的样式<br><code>src/assets/common.less</code></li>
<li>公共js（工具函数、接口地址、配置文件），方便管理api请求的各种逻辑<figure class="highlight less"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 接口地址配置 对后端进行请求</span></span><br><span class="line"><span class="selector-tag">src</span>/<span class="selector-tag">utils</span>/<span class="selector-tag">apis</span><span class="selector-class">.js</span></span><br><span class="line"><span class="comment">// 常量配置</span></span><br><span class="line"><span class="selector-tag">src</span>/<span class="selector-tag">utils</span>/<span class="selector-tag">constants</span><span class="selector-class">.js</span></span><br><span class="line"><span class="comment">// 工具函数</span></span><br><span class="line"><span class="selector-tag">src</span>/<span class="selector-tag">utils</span>/<span class="selector-tag">filters</span><span class="selector-class">.js</span></span><br></pre></td></tr></tbody></table></figure>

</li>
</ul>
<p>首页拆解<br>操作步骤</p>
<ul>
<li>第一步，分析首页的结构</li>
<li>第二步，新建页面</li>
<li>第三步，新建对应组件</li>
</ul>
<p>首页组件拆分</p>
<ul>
<li>标题</li>
<li>轮播图（Banner图）</li>
<li>本周推荐</li>
<li>精选景点</li>
<li>底部导航<br>如果组件很多地方都用到过，应该放在<code>/src/component/common</code><br>如果只有某一个页面用到，应该放在<code>/src/component/home</code></li>
</ul>
<h3 id="为何不能在Vue-js中使用AJAX"><a href="#为何不能在Vue-js中使用AJAX" class="headerlink" title="为何不能在Vue.js中使用AJAX"></a>为何不能在Vue.js中使用AJAX</h3><ul>
<li>Ajax是通过浏览器后台与服务器通信的技术</li>
<li>jQuery 中的AJAX只是基于jQuery的实现</li>
<li>在Vue.js中使用jQuery不能充分利用Vue.js的特性</li>
</ul>
<h3 id="axios异步请求库"><a href="#axios异步请求库" class="headerlink" title="axios异步请求库"></a>axios异步请求库</h3><ul>
<li>基于Promise的HTTP库</li>
<li>支持Node.js和浏览器</li>
<li>浏览器：XMLHttpRequest</li>
<li>Node.js：http</li>
</ul>
<p>对axios进行全局配置可提升代码的可维护性</p>
<h3 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h3><ul>
<li>一种异步编程解决方案</li>
<li>Promise其实一直都在，只是在ES6时，才被并入标准库</li>
</ul>
<h3 id="处理回调"><a href="#处理回调" class="headerlink" title="处理回调"></a>处理回调</h3><ul>
<li><code>then</code>函数的使用<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> {</span><br><span class="line"><span class="comment">// 业务逻辑</span></span><br><span class="line">resolve(<span class="number">1</span>);</span><br><span class="line">}).then(<span class="function"><span class="params">res</span> =&gt;</span> {</span><br><span class="line"><span class="comment">// 你的代码1</span></span><br><span class="line">}) .then(<span class="function"><span class="params">res</span> =&gt;</span> {</span><br><span class="line"><span class="comment">// 你的代码2</span></span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

</li>
</ul>
<h3 id="处理异常"><a href="#处理异常" class="headerlink" title="处理异常"></a>处理异常</h3><p><code>catch</code>函数的使用</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> {</span><br><span class="line">    <span class="comment">// 业务逻辑</span></span><br><span class="line">    reject(<span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'It is my fault'</span>))</span><br><span class="line">    }) .then(<span class="function"><span class="params">res</span> =&gt;</span> {</span><br><span class="line">        <span class="comment">// 正常的逻辑代码</span></span><br><span class="line">    }).catch(<span class="function"><span class="params">err</span> =&gt;</span> {</span><br><span class="line">        <span class="comment">// 产生异常后执行的代码</span></span><br><span class="line">    })</span><br></pre></td></tr></tbody></table></figure>

<p>如何安装</p>
<ul>
<li>方式一：引用JS<br><code>&lt;script src="./axios.min.js"&gt;&lt;/script&gt;</code></li>
<li>方式二：使用npm/cnpm/yarn安装<br><code>npm install axios -S</code></li>
</ul>
<h3 id="使用npm-cnpm安装"><a href="#使用npm-cnpm安装" class="headerlink" title="使用npm/cnpm安装"></a>使用npm/cnpm安装</h3><ul>
<li><p>安装到dependencies（生产环境依赖）<br><code>npm install axios --save</code><br>或者<code>npm install axios -S</code></p>
</li>
<li><p>安装到devDependencies（开发环境依赖）<br><code>npm install axios --save-dev</code><br>或者<code>npm install axios -D</code></p>
</li>
</ul>
<h3 id="如何使用axios向后端接口发送请求"><a href="#如何使用axios向后端接口发送请求" class="headerlink" title="如何使用axios向后端接口发送请求"></a>如何使用axios向后端接口发送请求</h3><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">axios.get(url[, config])</span><br><span class="line">axios.delete(url[, config])</span><br><span class="line">axios.head(url[, config])</span><br><span class="line">axios.options(url[, config])</span><br><span class="line">axios.post(url[, data[, config]])</span><br><span class="line">axios.put(url[, data[, config]])</span><br><span class="line">axios.patch(url[, data[, config]])</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><p>GET请求</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">axios.get(<span class="string">'/user'</span>, {</span><br><span class="line">    params: {</span><br><span class="line">        ID: <span class="number">12345</span></span><br><span class="line">    }</span><br><span class="line">})</span><br><span class="line">.then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>{</span><br><span class="line">    <span class="built_in">console</span>.log(response);</span><br><span class="line">})</span><br><span class="line">.catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>{</span><br><span class="line">    <span class="built_in">console</span>.log(error);</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>POST请求</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">axios.post(<span class="string">'/user'</span>, {</span><br><span class="line">    firstName: <span class="string">'Fred'</span>,</span><br><span class="line">    lastName: <span class="string">'Flintstone'</span></span><br><span class="line">})</span><br><span class="line">.then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>{</span><br><span class="line">    <span class="built_in">console</span>.log(response);</span><br><span class="line">})</span><br><span class="line">.catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>{</span><br><span class="line">    <span class="built_in">console</span>.log(error);</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>

</li>
</ul>
<h3 id="请求响应拦截"><a href="#请求响应拦截" class="headerlink" title="请求响应拦截"></a>请求响应拦截</h3><h4 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h4><ul>
<li>设置自定义请求头</li>
<li>默认携带上次的cookie</li>
<li>添加loading动画（请求发起前显示、完成后隐藏）</li>
<li>统一的错误处理</li>
</ul>
<h4 id="实现方法"><a href="#实现方法" class="headerlink" title="实现方法"></a>实现方法</h4><ul>
<li>创建axios的实例<br><code>const ajax = axios.create(options)</code></li>
<li>常用参数<ul>
<li><code>headers</code>: 设置请求头</li>
<li><code>timeout</code>: 超时的毫秒数</li>
<li><code>data</code>: POST/PUT/PATCH请求的数据</li>
<li><code>params</code>: URL中的参数</li>
<li><code>responseType</code>: 默认为json</li>
</ul>
</li>
</ul>
<h4 id="设置自定义请求头"><a href="#设置自定义请求头" class="headerlink" title="设置自定义请求头"></a>设置自定义请求头</h4><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ajax = axios.create({</span><br><span class="line">headers: {</span><br><span class="line">source: <span class="string">'h5'</span>,</span><br><span class="line"><span class="string">'Content-Type'</span>: <span class="string">'application/x-www-form-urlencoded'</span></span><br><span class="line">}</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<h4 id="默认携带上次的cookie"><a href="#默认携带上次的cookie" class="headerlink" title="默认携带上次的cookie"></a>默认携带上次的cookie</h4><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ajax = axios.create({</span><br><span class="line">    withCredentials: <span class="literal">true</span></span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<h4 id="添加loading动画"><a href="#添加loading动画" class="headerlink" title="添加loading动画"></a>添加loading动画</h4><ul>
<li><p> 请求拦截</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">axios.interceptors.request.use(<span class="function"><span class="keyword">function</span> (<span class="params">config</span>) </span>{</span><br><span class="line"><span class="comment">// 在发送请求之前做些什么</span></span><br><span class="line"><span class="keyword">return</span> config</span><br><span class="line">}, <span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>{</span><br><span class="line"><span class="comment">// 对请求错误做些什么</span></span><br><span class="line"><span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error)</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p> 响应拦截</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">axios.interceptors.response.use(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>{</span><br><span class="line"><span class="comment">// 对响应数据做点什么</span></span><br><span class="line"><span class="keyword">return</span> response</span><br><span class="line">}, <span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>{</span><br><span class="line"><span class="comment">// 对响应错误做点什么</span></span><br><span class="line"><span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error)</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>

</li>
</ul>
<h4 id="统一的错误处理"><a href="#统一的错误处理" class="headerlink" title="统一的错误处理"></a>统一的错误处理</h4><ul>
<li>400<br>参数错误提示</li>
<li>401<br>未登录，跳转到登录页面</li>
<li>500/504<br>服务器正忙，网络异常/请求超时</li>
</ul>
<h3 id="跨域"><a href="#跨域" class="headerlink" title="跨域"></a>跨域</h3><p>前后端联调，涉及最多的就是跨域的问题，<br>出于安全考虑，浏览器要求你的网站不能执行/访问其它网站的资源</p>
<ul>
<li>如何认定为“其它的网站”：<br>通常需要遵循同源策略，即“协议、域名/主机、端口”三者都相同</li>
</ul>
<ul>
<li><p>跨域的影响</p>
<ul>
<li>浏览器本地存储无法使用<br>（Cookie、LocalStorage 和 IndexDB）</li>
<li>DOM对象 、JS 对象无法获取</li>
<li>AJAX无法使用</li>
</ul>
</li>
<li><p>跨域问题解决</p>
<ul>
<li>利用HTML标签的特性<br>script、a、iframe、img、link等</li>
<li>在前端使用代理解决</li>
<li>在服务器端解决<br>CORS(Cross-Origin Resource Sharing)——跨域资源共享，通过添加响应头信息来解决</li>
</ul>
</li>
</ul>
<h4 id="在Vue-js中解决跨域问题"><a href="#在Vue-js中解决跨域问题" class="headerlink" title="在Vue.js中解决跨域问题"></a>在Vue.js中解决跨域问题</h4><ul>
<li>添加配置文件<code>vue.config.js</code><br>添加配置项<br>参数解释</li>
<li> <code>target</code>目标地址</li>
<li> <code>changeOrigin</code>变更请求头中设置的host</li>
<li> <code>pathRewrite</code>URL重写规则<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vue.config.js</span></span><br><span class="line"><span class="comment">// Node.js里面的模块</span></span><br><span class="line"><span class="built_in">module</span>.exports = {</span><br><span class="line">  <span class="comment">// http://localhost:8080/api/test</span></span><br><span class="line">  <span class="comment">// =&gt;</span></span><br><span class="line">  <span class="comment">// http://localhost:8000/test</span></span><br><span class="line">  <span class="comment">// 在Vue.js中解决跨域问题</span></span><br><span class="line">  devServer: {</span><br><span class="line">    proxy: {</span><br><span class="line">      <span class="string">'/api'</span>: {</span><br><span class="line">        target: <span class="string">'http://django.t.mukewang.com'</span>,    <span class="comment">// 这个地址的服务器要启动才能访问 </span></span><br><span class="line">        changeOrigin: <span class="literal">true</span>,</span><br><span class="line">        pathRewrite: {</span><br><span class="line">          <span class="string">'^/api'</span>: <span class="string">''</span>   <span class="comment">// 重写的URL，空字符表示把/api字符串去掉</span></span><br><span class="line">        }</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

</li>
</ul>
<p>使用axios获取数据</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Home.vue</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> {</span><br><span class="line">  name: <span class="string">'Home'</span>,</span><br><span class="line">  components: {</span><br><span class="line">  },</span><br><span class="line">  created () {</span><br><span class="line">    <span class="comment">// ajax.get('http://django.t.mukewang.com/api/system/slider/list/?types=11').then(resp =&gt; {</span></span><br><span class="line">    <span class="comment">// 未登录访问用户信息</span></span><br><span class="line">    <span class="comment">// ajax.get('http://django.t.mukewang.com/api/accounts/user/detail/').then(resp =&gt; {</span></span><br><span class="line">    <span class="comment">// ajax.get('http://localhost:8080/api/system/slider/list/?types=11').then(resp =&gt; {</span></span><br><span class="line">    <span class="comment">// ajax.get('http://localhost:9527/hello/world/').then(resp =&gt; {</span></span><br><span class="line">    ajax.get(<span class="string">'http://localhost:8080/test/hello/world/'</span>).then(<span class="function"><span class="params">resp</span> =&gt;</span> {</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'返回的结果：'</span>, resp)</span><br><span class="line">    }).catch(<span class="function"><span class="params">err</span> =&gt;</span> {</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'请求出错：'</span>, err)</span><br><span class="line">    })</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h4 id="在Django中解决跨域问题"><a href="#在Django中解决跨域问题" class="headerlink" title="在Django中解决跨域问题"></a>在Django中解决跨域问题</h4><ul>
<li><p> 第一步：安装第三方模块 <code>django-cors-headers</code>来解决<br>`bash</p>
<blockquote>
<blockquote>
<p>pip install django-cors-headers<br>`</p>
</blockquote>
</blockquote>
</li>
<li><p> 第二步：配置django的<code>setting.py</code></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">INSTALLED_APPS = [<span class="string">'corsheaders'</span>,]</span><br><span class="line"></span><br><span class="line">MIDDLEWARE_CLASSES = [</span><br><span class="line"><span class="string">'django.middleware.security.SecurityMiddleware'</span>,</span><br><span class="line"><span class="string">'django.contrib.sessions.middleware.SessionMiddleware'</span>,</span><br><span class="line"><span class="string">'corsheaders.middleware.CorsMiddleware'</span>,</span><br><span class="line"><span class="string">'django.middleware.common.CommonMiddleware'</span>,</span><br><span class="line">]</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>第三步：添加白名单<br>`py</p>
<h1 id="setting-py"><a href="#setting-py" class="headerlink" title="setting.py"></a>setting.py</h1><p>CORS_ORIGIN_WHITELIST = (<br>‘<a target="_blank" rel="noopener" href="http://127.0.0.1:8080'">http://127.0.0.1:8080'</a>,<br>‘<a target="_blank" rel="noopener" href="http://localhost:8080'">http://localhost:8080'</a>,<br>)<br>`</p>
</li>
</ul>
<p>第五步：可选配置<br><code>setting.py</code></p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 允许哪些请求头</span></span><br><span class="line">CORS_ALLOW_HEADERS = (<span class="string">'source'</span>, <span class="string">'icode'</span>)</span><br><span class="line"><span class="comment"># 允许携带cookie</span></span><br><span class="line">CORS_ALLOW_CREDENTIALS = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 所有地址支持跨域配置</span></span><br><span class="line">CORS_ORIGIN_ALLOW_ALL = <span class="literal">True</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="VantUI"><a href="#VantUI" class="headerlink" title="VantUI"></a>VantUI</h3><ul>
<li>开源免费</li>
<li>轻量、可靠的移动端 Vue 组件库</li>
</ul>
<h4 id="Vant组件库"><a href="#Vant组件库" class="headerlink" title="Vant组件库"></a>Vant组件库</h4><ul>
<li>基础组件<br>按钮、图标、布局、提示信息等</li>
<li>表单组件<br>日历、复选框、时间选择、输入框、评分等</li>
<li>反馈组件<br>弹出框、加载、下拉菜单、消息提示、下拉刷新、滚动加载等</li>
<li>展示组件<br>进度条、倒计时、分割线、懒加载、列表等</li>
<li>导航组件<br>宫格、索引、导航栏、分页、多标签页等</li>
<li>业务组件<br>地址编辑、联系人、优惠券、提交订单、SKU选择框等</li>
</ul>
<h3 id="开始使用"><a href="#开始使用" class="headerlink" title="开始使用"></a>开始使用</h3><ul>
<li><p>第一步：安装<br><code>&gt;&gt; cnpm install vant -S</code></p>
</li>
<li><p>第二步：手动按需导入组件</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Button <span class="keyword">from</span> <span class="string">'vant/lib/button'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'vant/lib/button/style'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> {</span><br><span class="line">  name: <span class="string">'Home'</span>,</span><br><span class="line">  components: {</span><br><span class="line">    <span class="string">'v-button'</span>: Button</span><br><span class="line">    <span class="comment">// Button: Button</span></span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>第二步：导入全部组件，全局引用<br><code>main.js</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span>;</span><br><span class="line"><span class="keyword">import</span> Vant <span class="keyword">from</span> <span class="string">'vant'</span>;  <span class="comment">// VantUI组件库</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'vant/lib/index.css'</span>;</span><br><span class="line"></span><br><span class="line">Vue.use(Vant);  <span class="comment">// 把VantUI当做一个插件，在Vue中使用</span></span><br></pre></td></tr></tbody></table></figure>

</li>
</ul>
<h3 id="轮播图组件开发"><a href="#轮播图组件开发" class="headerlink" title="轮播图组件开发"></a>轮播图组件开发</h3><h4 id="开发步骤"><a href="#开发步骤" class="headerlink" title="开发步骤"></a>开发步骤</h4><ul>
<li>第一步，查找Vant中可以使用的组件</li>
<li>第二步，实现组件模板部分<br><code>\src\components\common\Banner.vue</code><br>`vue<template>
<!-- 首页的轮播图 -->
<div class="home-banner-box">
  <van-swipe class="my-swipe" :autoplay="3000" indicator-color="white">
    <van-swipe-item v-for="item in bannerList" :key="item.id">
      <img :src="item.img_url" alt="">
    </van-swipe-item>
  </van-swipe>
</div>
</template>
`
`Home.vue`
`vue
<template>
<div class="page-home">
  <!-- banner图 -->
  <banner>
</banner></div>
</template>

</li>
</ul>
<script>
// 引入组件
import Banner from '@/components/home/Banner'

export default {
  name: 'Home',
  components: {
    // banner图
    Banner,
  }
}
</script>
<p>`</p>
<ul>
<li>第三步，模型层准备数据，通过接口的方式从django服务器获取<br><code>\src\components\common\Banner.vue</code><br>`vue<script>
import { ajax } from '@/utils/ajax'
import { SystemApis } from '@/utils/apis'
export default {
data () {
  return {
    bannerList: []
  }
},
methods: {
  /**
   * 获取轮播图的数据
   */
  getDataList () {
    ajax.get(SystemApis.sliderListUrl).then(res => {
      console.log('res:', res)
      this.bannerList = res.data.objects
    })
  }
},
created () {
  // 从接口获取数据
  this.getDataList()
}
}
</script>
`</li>
<li>第四步，模拟数据，实现轮播效果</li>
</ul>
<h3 id="热门推荐组件开发"><a href="#热门推荐组件开发" class="headerlink" title="热门推荐组件开发"></a>热门推荐组件开发</h3><h4 id="开发步骤-1"><a href="#开发步骤-1" class="headerlink" title="开发步骤"></a>开发步骤</h4><ul>
<li>第一步，查找Vant中可以使用的组件</li>
<li>第二步，完成布局，实现组件模板部分<br><code>\src\components\common\Hot.vue</code><br>`vue<template>
<!-- 热门景点 -->
<div class="home-hot-box">
  <!-- 顶上导航 -->
  <van-cell title="热门推荐" icon="/static/home/hot/fire.png" is-link="" title-style="text-align:left" value="全部榜单">
  <!-- // 顶上导航 -->
  <!-- 景点列表 -->
  <div class="box-main">
    <a href="#" class="hot-item" v-for="item in dataList" :key="item.id">
      <div class="img">
        <span></span>
        <img :src="item.main_img" alt="">
      </div>
      <!-- ellipsis 省略号 意思是超过一定长度变成省略号 -->
      <h5 class="van-ellipsis"></h5>
      <div class="line-price">
        <span class="price">￥</span>起
      </div>
    </a>
  </div>
  <!-- //景点列表 -->
</van-cell></div>
</template>
`
`Home.vue`
`vue
<template>
<div class="page-home">
  <!-- 热门推荐景点 -->
  <hot>
</hot></div>
</template>
<script>
// 引入组件
import Hot from '@/components/home/Hot'

</li>
</ul>
<p>export default {<br>  name: ‘Home’,<br>  components: {<br>    // 热门推荐景点<br>    Hot,<br>  }<br>}<br></script><br>`<p></p>
<ul>
<li><p>第三步，模型层准备数据<br><code>\src\components\common\Hot.vue</code><br>`vue</p>
<script>
import { ajax } from '@/utils/ajax'
import { SightApis } from '@/utils/apis'
export default {
data () {
  return {
    dataList: []
  }
},
methods: {
  /**
   * 查热门景点
   */
  getDataList () {
    ajax.get(SightApis.sightListUrl, {
      params: {
        is_hot: 1
      }
    }).then(({ data }) => {
      this.dataList = data.objects
    })
  }
},
created () {
  // 查询获取接口数据
  this.getDataList()
  // this.dataList = [
  //   {id: 1, img: '/static/home/hot/h1.jpg', name: '景点名称', price: 65},
  //   {id: 2, img: '/static/home/hot/h2.jpg', name: '景点名称景点名称', price: 65},
  //   {id: 3, img: '/static/home/hot/h3.jpg', name: '景点名称', price: 65},
}
}
</script>
<p>`</p>
</li>
<li><p>第四步，添加假数据，实现效果</p>
</li>
</ul>
<h3 id="景点列表组件开发"><a href="#景点列表组件开发" class="headerlink" title="景点列表组件开发"></a>景点列表组件开发</h3><h4 id="开发步骤-2"><a href="#开发步骤-2" class="headerlink" title="开发步骤"></a>开发步骤</h4><ul>
<li>第一步，分析组件的复用情况</li>
<li>第二步，新建组件文件，实现组件内容<br><code>\src\components\common\ListSight.vue</code><br>`vue<template>
<!-- 精选景点 -->
<div class="home-fine-box">
  <!-- 顶上导航 -->
  <van-cell title="精选景点" icon="location-o" is-link="" title-style="text-align:left" value="更多">
  <!-- // 顶上导航 -->
  <!-- 景点的列表 -->
  <div class="box-main">
    <!-- `src\components\common\ListSight.vue`子组件的 -->
    <sight-item v-for="item in dataList" :key="item.id" :item="item">&gt;
  </sight-item></div>
  <!-- //景点的列表 -->
</van-cell></div>
</template>
`</li>
<li>第三步，设置props,从父组件传递数据<br><code>\src\components\common\ListSight.vue</code><br>`vue<script>
export default {
props: ['item']
}
</script>
`</li>
</ul>
<h3 id="精选景点组件开发"><a href="#精选景点组件开发" class="headerlink" title="精选景点组件开发"></a>精选景点组件开发</h3><h4 id="开发步骤-3"><a href="#开发步骤-3" class="headerlink" title="开发步骤"></a>开发步骤</h4><ul>
<li>第一步，查找Vant中可以使用的组件</li>
<li>第二步，完成布局，实现组件模板部分</li>
</ul>
<p><code>\src\components\common\Fine.vue</code><br><code>vue &lt;template&gt;   &lt;!-- 精选景点 --&gt;   &lt;div class="home-fine-box"&gt;     &lt;!-- 顶上导航 --&gt;     &lt;van-cell       title="精选景点"       icon="location-o"       is-link       title-style="text-align:left"       value="更多" /&gt;     &lt;!-- // 顶上导航 --&gt;     &lt;!-- 景点的列表 --&gt;     &lt;div class="box-main"&gt;       &lt;!-- </code>src\components\common\ListSight.vue<code>子组件的 --&gt;       &lt;sight-item v-for="item in dataList"         :key="item.id"         :item="item"/&gt;&gt;     &lt;/div&gt;     &lt;!-- //景点的列表 --&gt;   &lt;/div&gt; &lt;/template&gt; </code><br><code>Home.vue</code><br>`vue<br><template><br>  <div class="page-home"><br>    <!-- 精选景点 --><br>    <fine><br>  </fine></div><br></template></p>
<script>
// 引入组件
import Fine from '@/components/home/Fine'

export default {
  name: 'Home',
  components: {
    // 精选景点
    Fine,
  }
}
</script>
<p>`</p>
<ul>
<li><p>第三步，模型层准备数据,从父组件传递数据<br><code>\src\components\common\Fine.vue</code><br>`vue</p>
<script>
import { ajax } from '@/utils/ajax'
import { SightApis } from '@/utils/apis'
import SightItem from '@/components/common/ListSight'
export default {
components: {
  SightItem
},
data () {
  return {
    dataList: []
  }
},
methods: {
  /**
   * 查精选景点
   */
  getDataList () {
    ajax.get(SightApis.sightListUrl, {
      params: {
        is_top: 1
      }
    }).then(({ data }) => {
      this.dataList = data.objects
    })
  }
},
created () {
  this.getDataList()
  // this.dataList = [
  //   {id: 1, name: '景点名称', score: 5, price: 98},
  //   {id: 2, name: '景点名称', score: 4.5, price: 98},
  //   {id: 3, name: '景点名称', score: 4, price: 98},
  // ]
}
}
</script>
<p>`</p>
</li>
<li><p>第四步，添加假数据，实现效果</p>
</li>
</ul>
<h3 id="页面底部组件开发"><a href="#页面底部组件开发" class="headerlink" title="页面底部组件开发"></a>页面底部组件开发</h3><h4 id="开发步骤-4"><a href="#开发步骤-4" class="headerlink" title="开发步骤"></a>开发步骤</h4><ul>
<li>第一步，查找Vant中可以使用的组件</li>
<li>第二步，完成布局，实现组件模板部分<br><code>\src\components\common\Footer.vue</code><br>`vue<template>
<!-- 底部导航（公共组件） -->
<div>
  <van-tabbar v-model="active">
    <van-tabbar-item name="home" icon="wap-home-o">首页</van-tabbar-item>
    <van-tabbar-item name="search" icon="search">搜索</van-tabbar-item>
    <van-tabbar-item name="mine" icon="user-o">我的</van-tabbar-item>
  </van-tabbar>
</div>
</template>
`
`Home.vue`
`vue
<template>
<div class="page-home">
  <!-- 热门推荐景点 -->
  <hot>
</hot></div>
</template>
<script>
// 引入组件
import TripFooter from '@/components/common/Footer'

</li>
</ul>
<p>export default {<br>  name: ‘Home’,<br>  components: {<br>    // 底部导航<br>    TripFooter<br>  }<br>}<br></script><br>`<p></p>
<ul>
<li>第三步，模型层准备数据<br><code>\src\components\common\Footer.vue</code><br>`vue<script>
export default {
data () {
  return {
    active: 'home'
  }
}
}
</script>
`</li>
<li>第四步，模拟从不同的菜单进入效果</li>
</ul>
<h3 id="模型设计"><a href="#模型设计" class="headerlink" title="模型设计"></a>模型设计</h3><ul>
<li>系统模块（公共的、可服用）：轮播图、用户反馈</li>
<li>景点模块：景点、景点详情、景点评论</li>
<li>用户模块：用户、用户详细信息、登录历史</li>
<li>订单模块：订单、订单明细、支付相关</li>
</ul>
<h3 id="设计轮播图ORM模型"><a href="#设计轮播图ORM模型" class="headerlink" title="设计轮播图ORM模型"></a>设计轮播图ORM模型</h3><h4 id="开发步骤-5"><a href="#开发步骤-5" class="headerlink" title="开发步骤"></a>开发步骤</h4><ul>
<li><p>第一步，分析并设计数据库模型<br>创建app<br><code>py python manage.py startapp system </code></p>
</li>
<li><p>第二步，完成ORM模型编码<br><code>system/model.py</code><br>`py<br>from django.db import models</p>
</li>
</ul>
<p>class Slider(models.Model):<br>    name = models.CharField(‘名称’, max_length=32)<br>    desc = models.CharField(‘描述’, max_length=32, null=True, blank=True)<br>    types = models.SmallIntegerField(‘展现的位置’, default=10)<br>    img = models.ImageField(‘图片地址’, max_length=255, upload_to=’%Y%m/slider’)<br>    reorder = models.SmallIntegerField(‘排序字段’, default=0, help_text=’数字越大越靠前’)<br>    start_time = models.DateTimeField(‘生效开始时间’, null=True, blank=True)<br>    end_time = models.CharField(‘生效结束时间’, null=True, blank=True)<br>    target_url = models.CharField(‘跳转的地址’, max_length=255, null=True, blank=True)<br>    is_valid = models.BooleanField(‘是否有效’, default=True)<br>    created_at = models.DateTimeField(‘创建时间’, auto_now_add=True)<br>    updated_at = models.DateTimeField(‘修改时间’, auto_now=True)</p>
<pre><code>class Meta:
    db_table = 'system_slider'
    ordering = ['-reorder']
</code></pre>
<p><code> </code>system/setting.py<code> </code>py<br>INSTALLED_APPS = [‘system.apps.SystemConfig’,]<br>`</p>
<ul>
<li>第三步，检测ORM模型<br><code>bash python manage.py check </code> </li>
<li>第四步，模型同步<br><code>bash python manage.py makemigrations python manage.py migrate </code>  </li>
</ul>
<h3 id="设计轮播图查询接口"><a href="#设计轮播图查询接口" class="headerlink" title="设计轮播图查询接口"></a>设计轮播图查询接口</h3><h4 id="开发步骤-6"><a href="#开发步骤-6" class="headerlink" title="开发步骤"></a>开发步骤</h4><ul>
<li>第一步，设计接口返回标准<ul>
<li>定义接口的返回结构</li>
<li>接口的错误信息约定</li>
</ul>
</li>
<li>第二步，编写接口代码<br><code>system/views.py</code><br>`python<br>from django import http<br>from django.http import HttpResponse<br>from django.shortcuts import render</li>
</ul>
<p>from system.models import Slider</p>
<p>def slider_list(request):<br>    “”” 轮播图接口<br>    {<br>        “meta”: {},<br>        “objects”: []<br>    }<br>    “””<br>    data = {<br>        ‘meta’: {</p>
<pre><code>    },
    'objects': []
}
queryset = Slider.objects.filter(is_valid=True)
for item in queryset:
    data['objects'].append({
        'id': item.id,
        'img_url': item.img.url,
        'target_url': item.target_url,
        'name': item.name
    })
# return HttpResponse(data)
return http.JsonResponse(data)
</code></pre>
<p>`</p>
<p><code>system/url.py</code><br>`python<br>from django.urls import path</p>
<p>from system import views</p>
<p>urlpatterns = [<br>    path(‘slider/list/‘, views.slider_list, name=”slider_list”),<br>]<br><code>   </code>trip/url.py<code> </code>python<br>from django.urls import path, include</p>
<p>urlpatterns = [<br>    path(‘admin/‘, admin.site.urls),<br>    # 系统模块<br>    path(‘system/‘, include(‘system.urls’)),<br>]<br>` </p>
<ul>
<li>第三步，模拟HTTP请求，测试验证接口</li>
</ul>
<h3 id="设计景点ORM模型"><a href="#设计景点ORM模型" class="headerlink" title="设计景点ORM模型"></a>设计景点ORM模型</h3><h4 id="开发步骤-7"><a href="#开发步骤-7" class="headerlink" title="开发步骤"></a>开发步骤</h4><ul>
<li>第一步，分析并设计模型<br>景点简单信息、景点详细信息<br><code>py python manage.py startapp sight </code></li>
<li>第二步，完成ORM模型编码<br><code>sight/model.py</code><br>`py<br>from django.db import models</li>
</ul>
<p>class Sight(models.Model):<br>    “”” 景点基础信息 “””</p>
<pre><code>name = models.CharField('名称', max_length=64)
desc = models.CharField('描述', max_length=256)
main_img = models.ImageField('主图', upload_to='%Y%m/sight/', max_length=256)
banner_img = models.ImageField('详情主图', upload_to='%Y%m/sight/', max_length=256)
content = models.TextField('详细')
score = models.FloatField('评分', default=5)
min_price = models.FloatField('最低价格', default=0)
province = models.CharField('省份', max_length=32)
city = models.CharField('市区', max_length=32)
area = models.CharField('区/县', max_length=32, null=True)
town = models.CharField('乡镇', max_length=32, null=True)

is_top = models.BooleanField('是否为精选景点', default=False)
is_hot = models.BooleanField('是否为热门景点', default=False)

is_valid = models.BooleanField('是否有效', default=True)
created_at = models.DateTimeField('创建时间', auto_now_add=True)
updated_at = models.DateTimeField('修改时间', auto_now=True)

class Meta:
    db_table ='sight'
    ordering = ['-updated_at']
</code></pre>
<p><code> </code>sight/setting.py<code> </code>py<br>INSTALLED_APPS = [‘sight.apps.SightConfig’,]<br>`</p>
<ul>
<li>第三步，检测ORM模型<br><code>bash python manage.py check </code>  </li>
<li>第四步，模型同步<br><code>bash python manage.py makemigrations python manage.py migrate </code></li>
</ul>
<h3 id="设计景点列表API接口"><a href="#设计景点列表API接口" class="headerlink" title="设计景点列表API接口"></a>设计景点列表API接口</h3><h4 id="开发步骤-8"><a href="#开发步骤-8" class="headerlink" title="开发步骤"></a>开发步骤</h4><ul>
<li>第一步，设计接口返回内容及字段</li>
<li>第二步，编写接口代码（查数据、分页）<br><code>sight/views.py</code><br>`python<br>from django import http<br>from django.db.models import Q<br>from django.shortcuts import render<br>from django.views.generic import ListView</li>
</ul>
<p>from sight.models import Sight</p>
<p>class SightListView(ListView):<br>    “”” 景点列表 “””<br>    # 每页放5条数据<br>    paginate_by = 5</p>
<pre><code>def get_queryset(self):
    """ 重写查询方法 """
    query = Q(is_valid=True)
    # 1. 热门景点
    is_hot = self.request.GET.get('is_hot', None)
    if is_hot:
        query = query &amp; Q(is_hot=True)
    # 2. 精选景点
    is_top = self.request.GET.get('is_top', None)
    if is_top:
        query = query &amp; Q(is_top=True)
    # TODO 3. 景点名称搜索
    queryset = Sight.objects.filter(query)
    return queryset

def render_to_response(self, context, **response_kwargs):
    page_obj = context['page_obj']
    data = {
        'meta': {
            'total_count': page_obj.paginator.count,
            'page_count': page_obj.paginator.num_pages,
            'current_page': page_obj.number,
        },
        'objects': []
    }
    for item in page_obj.object_list:
        data['objects'].append({
            'id': item.id,
            'name': item.name,
            'main_img': item.main_img.url,
            'score': item.score,
            'province': item.province,
            'min_price': item.min_price,
            'city': item.city,
            # TODO 评论数量暂时无法获取
            'comment_count': 0
        })
    return http.JsonResponse(data)
</code></pre>
<p>`</p>
<p><code>sight/url.py</code><br>`python<br>from django.urls import path</p>
<p>from system import views</p>
<p>urlpatterns = [<br>    # 景点列表接口<br>    path(‘sight/list/‘, views.SightListView.as_view(), name=”sight_list”),<br>]<br><code>   </code>trip/url.py<code> </code>python<br>from django.urls import path, include</p>
<p>urlpatterns = [<br>    path(‘admin/‘, admin.site.urls),<br>    # 景点相关的URL<br>    path(‘sight/‘, include(‘sight.urls’))<br>]<br>` </p>
<ul>
<li>第三步，模拟HTTP请求，测试验证接口<br><code>bash python manage.py runserver </code></li>
</ul>
<h3 id="接口文档编写"><a href="#接口文档编写" class="headerlink" title="接口文档编写"></a>接口文档编写</h3><ul>
<li>第一步，学习Markdown语法，可以生成html结构的文档</li>
<li>第二步，编写文档公共部分</li>
<li>第三步，编写接口文档</li>
</ul>
<h3 id="轮播图接口数据获取-接口联调"><a href="#轮播图接口数据获取-接口联调" class="headerlink" title="轮播图接口数据获取(接口联调)"></a>轮播图接口数据获取(接口联调)</h3><h4 id="实现步骤"><a href="#实现步骤" class="headerlink" title="实现步骤"></a>实现步骤</h4><ul>
<li>第一步，阅读接口文档</li>
<li>第二步，配置接口地址<br><code>src\utils\apis.js</code><br>`js<br>/**</li>
</ul>
<ul>
<li>存放项目中所有的接口地址，当是<code>/api</code>开头，nginx把它转发给wsgi对应的内容进行处理，就会处理django的内容</li>
<li>/<br>const apiHost = ‘<a target="_blank" rel="noopener" href="http://localhost:8080/api'">http://localhost:8080/api'</a> // win上用<br>// const apiHost = ‘/api’ // linux服务器上用<br>/**</li>
<li>用户账户相关的接口</li>
<li>/<br>const AccountsApis = {<br>loginUrl: ‘/‘,<br>logoutUrl: ‘’<br>}</li>
</ul>
<p>/**</p>
<ul>
<li>系统模块的接口</li>
<li>/<br>const SystemApis = {<br>// 轮播图列表<br>sliderListUrl: apiHost + ‘/system/slider/list/‘<br>}</li>
</ul>
<p>export {<br>  AccountsApis,<br>  SystemApis<br>}</p>
<p><code> </code>vue.config.js<code> </code>js<br>// Node.js里面的模块<br>module.exports = {<br>  // <a target="_blank" rel="noopener" href="http://localhost:8080/api/system/slider/list/">http://localhost:8080/api/system/slider/list/</a><br>  // =&gt;<br>  // <a target="_blank" rel="noopener" href="http://127.0.0.1:8080/system/slider/list/">http://127.0.0.1:8080/system/slider/list/</a><br>  // 在Vue.js中解决跨域问题<br>  devServer: {<br>    proxy: {<br>      ‘/api’: {  // 从/api开头 代理到目标地址<br>        target: ‘<a target="_blank" rel="noopener" href="http://127.0.0.1:8000/'">http://127.0.0.1:8000/'</a>,  // 这个地址的服务器要启动才能访问<br>        changeOrigin: true,<br>        pathRewrite: {<br>          ‘^/api’: ‘’   //  重写URL，空字符表示把/api字符串去掉<br>        }<br>      }<br>    }<br>  }<br>}<br>`</p>
<ul>
<li>第三步，在组件中使用axios获取数据<br><code>src/components/home/Bannaer</code><br>`js<br>import { ajax } from ‘@/utils/ajax’<br>import { SystemApis } from ‘@/utils/apis’<br>export default {<br>data () {<br>  return {<pre><code>bannerList: []
</code></pre>
  }<br>},<br>methods: {<br>  /**<ul>
<li>获取轮播图的数据</li>
<li>/<br>getDataList () {<br>ajax.get(SystemApis.sliderListUrl).then(res =&gt; {<br>  console.log(‘res:’, res)<br>  this.bannerList = res.data.objects<br>})<br>}<br>},<br>created () {<br>// 从接口获取数据<br>this.getDataList()<br>}<br>}<br>`</li>
</ul>
</li>
</ul>
<p>django项目的<code>trip/setting.py</code><br><code>py STATIC_URL = '/static/'  # 静态文件的搜索地址 MEDIA_URL = 'http://localhost:8080/' </code></p>
<ul>
<li>第四步，将数据设置到模型层<br>Vue组件<code>Banner.vue</code>的模板里的数据<code>img_id</code>和<code>img_url</code>是调用django的视图<code>system/view.py</code>里面的<br>`vue<template>
<!-- 首页的轮播图 -->
<div class="home-banner-box">
  <van-swipe class="my-swipe" :autoplay="3000" indicator-color="white">
    <van-swipe-item v-for="item in bannerList" :key="item.id">
      <img :src="item.img_url" alt="">
    </van-swipe-item>
  </van-swipe>
</div>
</template>
`

</li>
</ul>
<h3 id="景点列表接口数据获取"><a href="#景点列表接口数据获取" class="headerlink" title="景点列表接口数据获取"></a>景点列表接口数据获取</h3><h4 id="实现步骤-1"><a href="#实现步骤-1" class="headerlink" title="实现步骤"></a>实现步骤</h4><ul>
<li>第一步，阅读接口文档</li>
<li>第二步，配置接口地址<br><code>src\utils\apis.js</code><br>`js<br>/**</li>
</ul>
<ul>
<li>景点模块</li>
<li>/<br>const SightApis = {<br>// 景点列表<br>sightListUrl: apiHost + ‘/sight/sight/list/‘<br>}</li>
</ul>
<p>export {<br>  SightApis<br>}</p>
<p><code> </code>vue.config.js<code> </code>js<br>`</p>
<ul>
<li>第三步，使用axios获取数据<br>`js<br>methods: {<br>  /**<ul>
<li>查热门景点</li>
<li>/<br>getDataList () {<br>ajax.get(SightApis.sightListUrl, {<br>  params: {<pre><code>is_hot: 1
</code></pre>
  }<br>}).then(({ data }) =&gt; {<br>  this.dataList = data.objects<br>})<br>}<br>}<br>`</li>
</ul>
</li>
<li>第四步，将数据设置到模型层，<br>Vue组件<code>Hot.vue</code>的模板里的数据<code>main_img</code>和<code>name</code>和<code>min_price</code>是调用django的视图<code>sight/view.py</code>里面的<br>`vue<template>
<!-- 热门景点 -->
<div class="home-hot-box">
  <!-- 顶上导航 -->
  <van-cell title="热门推荐" icon="/static/home/hot/fire.png" is-link="" title-style="text-align:left" value="全部榜单">
  <!-- // 顶上导航 -->
  <!-- 景点列表 -->
  <div class="box-main">
    <a href="#" class="hot-item" v-for="item in dataList" :key="item.id">
      <div class="img">
        <span></span>
        <img :src="item.main_img" alt="">
      </div>
      <!-- ellipsis 省略号 意思是超过一定长度变成省略号 -->
      <h5 class="van-ellipsis"></h5>
      <div class="line-price">
        <span class="price">￥</span>起
      </div>
    </a>
  </div>
  <!-- //景点列表 -->
</van-cell></div>
</template>
`

</li>
</ul>
<p>Vue组件<code>Fine.vue</code>的模板里的数据<code>is_top</code>和<code>name</code>和<code>min_price</code>是调用django的视图<code>sight/view.py</code>里面的<br>`vue</p>
<script>
import SightItem from '@/components/common/ListSight'
export default {
  components: {
    SightItem
  },
  data () {
    return {
      dataList: []
    }
  },
  methods: {
    /**
     * 查精选景点
     */
    getDataList () {
      ajax.get(SightApis.sightListUrl, {
        params: {
          is_top: 1
        }
      }).then(({ data }) => {
        this.dataList = data.objects
      })
    }
  },
  created () {
    this.getDataList()
    // this.dataList = [
    //   {id: 1, name: '景点名称', score: 5, price: 98},
    //   {id: 2, name: '景点名称', score: 4.5, price: 98},
    //   {id: 3, name: '景点名称', score: 4, price: 98},
    // ]
  }
}
</script>
<p>`</p>
<p><code>src\components\common\ListSight.vue</code>的<code>name</code>和<code>score</code>是调用<code>sight/view.py</code><br><code>vue &lt;template&gt;   &lt;a href="#" class="sight-item"&gt;     &lt;img :src="item.main_img" :alt="item.name"&gt;     &lt;div class="right"&gt;       &lt;h5&gt;{{ item.name }}&lt;/h5&gt;       &lt;van-rate v-model="item.score" readonly/&gt;       &lt;div class="tips"&gt;{{ item.comment_count }}人点评 | 100%满意&lt;/div&gt;       &lt;div class="tips light"&gt;{{ item.province }} - {{ item.city }}&lt;/div&gt;       &lt;div class="line-price"&gt;￥ {{ item.min_price }} 起&lt;/div&gt;     &lt;/div&gt;   &lt;/a&gt; &lt;/template&gt; </code></p>
</li></ul></li></ul><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Vue/" rel="tag"># Vue</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2020/08/21/flask/" rel="prev" title="flask">
                  <i class="fa fa-chevron-left"></i> flask
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2020/08/21/os-mo-kuai/" rel="next" title="OS模块">
                  OS模块 <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>





<script src="/js/comments.js"></script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">外心人D</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
