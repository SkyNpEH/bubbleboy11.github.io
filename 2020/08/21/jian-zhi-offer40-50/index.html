<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.0.2">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<meta name="hexo-config" content="{&quot;hostname&quot;:&quot;bubbleboy11.github.io&quot;,&quot;root&quot;:&quot;/&quot;,&quot;images&quot;:&quot;/images&quot;,&quot;scheme&quot;:&quot;Muse&quot;,&quot;version&quot;:&quot;8.3.0&quot;,&quot;exturl&quot;:false,&quot;sidebar&quot;:{&quot;position&quot;:&quot;left&quot;,&quot;display&quot;:&quot;post&quot;,&quot;padding&quot;:18,&quot;offset&quot;:12},&quot;copycode&quot;:true,&quot;bookmark&quot;:{&quot;enable&quot;:false,&quot;color&quot;:&quot;#222&quot;,&quot;save&quot;:&quot;auto&quot;},&quot;fancybox&quot;:false,&quot;mediumzoom&quot;:false,&quot;lazyload&quot;:false,&quot;pangu&quot;:false,&quot;comments&quot;:{&quot;style&quot;:&quot;tabs&quot;,&quot;active&quot;:null,&quot;storage&quot;:true,&quot;lazyload&quot;:false,&quot;nav&quot;:null},&quot;motion&quot;:{&quot;enable&quot;:true,&quot;async&quot;:false,&quot;transition&quot;:{&quot;post_block&quot;:&quot;fadeIn&quot;,&quot;post_header&quot;:&quot;fadeInDown&quot;,&quot;post_body&quot;:&quot;fadeInDown&quot;,&quot;coll_header&quot;:&quot;fadeInLeft&quot;,&quot;sidebar&quot;:&quot;fadeInUp&quot;}},&quot;prism&quot;:false,&quot;i18n&quot;:{&quot;placeholder&quot;:&quot;搜索...&quot;,&quot;empty&quot;:&quot;没有找到任何搜索结果：${query}&quot;,&quot;hits_time&quot;:&quot;找到 ${hits} 个搜索结果（用时 ${time} 毫秒）&quot;,&quot;hits&quot;:&quot;找到 ${hits} 个搜索结果&quot;}}">
<meta name="description" content="字符串比较大小就是字典序的大小字符串的比较是通过 内置函数 ord() 获得每个字符的 Unicode 编码进行大小比较 单个字符常见ASCII码的大小规则：0～9　&lt;　A～Z　&lt;　a～z。1）数字比字母要小。如 “7”&lt;“F”；2）数字0比数字9要小，并按0到9顺序递增。3）字母A比字母Z要小，并按A到Z顺序递增。4）同个字母的大写字母比小写字母要小32。如“A”&lt;“a”">
<meta property="og:type" content="article">
<meta property="og:title" content="剑指offer40 -50">
<meta property="og:url" content="https://bubbleboy11.github.io/2020/08/21/jian-zhi-offer40-50/index.html">
<meta property="og:site_name" content="外心人D的博客">
<meta property="og:description" content="字符串比较大小就是字典序的大小字符串的比较是通过 内置函数 ord() 获得每个字符的 Unicode 编码进行大小比较 单个字符常见ASCII码的大小规则：0～9　&lt;　A～Z　&lt;　a～z。1）数字比字母要小。如 “7”&lt;“F”；2）数字0比数字9要小，并按0到9顺序递增。3）字母A比字母Z要小，并按A到Z顺序递增。4）同个字母的大写字母比小写字母要小32。如“A”&lt;“a”">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2020-08-20T16:21:41.000Z">
<meta property="article:modified_time" content="2021-06-27T08:15:24.341Z">
<meta property="article:author" content="外心人D">
<meta property="article:tag" content="Leetcode">
<meta property="article:tag" content="剑指offer">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://bubbleboy11.github.io/2020/08/21/jian-zhi-offer40-50/">



<meta name="hexo-config-page" content="{&quot;sidebar&quot;:&quot;&quot;,&quot;isHome&quot;:false,&quot;isPost&quot;:true,&quot;lang&quot;:&quot;zh-CN&quot;}">
<meta name="hexo-config-calendar" content="">
<script data-pjax src="/js/load-config.js"></script>
  <title>剑指offer40 -50 | 外心人D的博客</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="外心人D的博客" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism.css" type="text/css"></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">外心人D的博客</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%AF%94%E8%BE%83%E5%A4%A7%E5%B0%8F%E5%B0%B1%E6%98%AF%E5%AD%97%E5%85%B8%E5%BA%8F%E7%9A%84%E5%A4%A7%E5%B0%8F"><span class="nav-text">字符串比较大小就是字典序的大小</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#179-%E6%9C%80%E5%A4%A7%E6%95%B0"><span class="nav-text">179. 最大数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%91%E6%8C%87-Offer-45-%E6%8A%8A%E6%95%B0%E7%BB%84%E6%8E%92%E6%88%90%E6%9C%80%E5%B0%8F%E7%9A%84%E6%95%B0"><span class="nav-text">剑指 Offer 45. 把数组排成最小的数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#386-%E5%AD%97%E5%85%B8%E5%BA%8F%E6%8E%92%E6%95%B0"><span class="nav-text">386. 字典序排数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#%E5%89%91%E6%8C%87-Offer-19-%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%8C%B9%E9%85%8D"><span class="nav-text">剑指 Offer 19. 正则表达式匹配</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8A%A8%E6%80%81%E8%A7%84%E5%88%92%E8%A7%A3%E6%9E%90%EF%BC%9A"><span class="nav-text">动态规划解析：</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">外心人D</p>
  <div class="site-description" itemprop="description">本博客大多内容为慕课和网上博客，并非原创</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">311</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">25</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">40</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/jian-zhi-offer40-50/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          剑指offer40 -50
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-06-27 08:15:24" itemprop="dateModified" datetime="2021-06-27T08:15:24Z">2021-06-27</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">数据结构与算法</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h2 id="字符串比较大小就是字典序的大小"><a href="#字符串比较大小就是字典序的大小" class="headerlink" title="字符串比较大小就是字典序的大小"></a>字符串比较大小就是字典序的大小</h2><p>字符串的比较是通过 内置函数 ord() 获得每个字符的 Unicode 编码进行大小比较</p>
<p>单个字符<br>常见ASCII码的大小规则：<code>0～9　&lt;　A～Z　&lt;　a～z</code>。<br>1）数字比字母要小。如 “7”&lt;“F”；<br>2）数字0比数字9要小，并按0到9顺序递增。<br>3）字母A比字母Z要小，并按A到Z顺序递增。<br>4）同个字母的大写字母比小写字母要小32。如“A”&lt;“a” 。</p>
<p>多个字符<br>按位进行字符比对，从字符串的第一个字符开始比较，谁的ASCII码大谁就大。<br>只有首字符相同、再去比较下一个字符，以此类推。如果都相同则相等</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">'xnjilhntm'</span>==<span class="string">'xnjilhntm'</span>)   <span class="comment"># True</span></span><br><span class="line">print(<span class="string">'xnjilhntm'</span>&lt;<span class="string">'xnjilhntz'</span>)  <span class="comment"># True</span></span><br><span class="line">print(<span class="string">'abbbbbbb'</span>&gt;<span class="string">'b'</span>)  <span class="comment"># False</span></span><br><span class="line">print(<span class="string">''</span>&gt;<span class="string">'a'</span>)  <span class="comment"># False</span></span><br><span class="line">print(<span class="string">'A'</span>&gt;<span class="string">'a'</span>)  <span class="comment"># False</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">'3'</span> &gt; <span class="string">'20'</span> &gt; <span class="string">'100'</span>)  <span class="comment"># True</span></span><br><span class="line">print(<span class="string">'20'</span> &lt; <span class="string">'200'</span>)  <span class="comment"># True</span></span><br><span class="line">print(max([<span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>]))  <span class="comment"># 3</span></span><br><span class="line">print(max([<span class="string">'31'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>]))  <span class="comment"># 31</span></span><br><span class="line">print(max([<span class="string">'13'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>]))  <span class="comment"># 3</span></span><br><span class="line">print(max([<span class="string">'10'</span>, <span class="string">'11'</span>, <span class="string">'12'</span>]))  <span class="comment"># 12</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="179-最大数"><a href="#179-最大数" class="headerlink" title="179. 最大数"></a>179. 最大数</h2><p>给定一组非负整数 nums，重新排列它们每个数字的顺序（每个数字不可拆分）使之组成一个最大的整数。</p>
<p>注意：输出结果可能非常大，所以你需要返回一个字符串而不是整数。</p>
<p>示例 1：</p>
<figure class="highlight lsl"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入：nums = [<span class="number">10</span>,<span class="number">2</span>]</span><br><span class="line">输出：<span class="string">"210"</span></span><br></pre></td></tr></tbody></table></figure>
<p>示例 2：</p>
<figure class="highlight lsl"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入：nums = [<span class="number">3</span>,<span class="number">30</span>,<span class="number">34</span>,<span class="number">5</span>,<span class="number">9</span>]</span><br><span class="line">输出：<span class="string">"9534330"</span></span><br></pre></td></tr></tbody></table></figure>
<p>示例 3：</p>
<figure class="highlight lsl"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入：nums = [<span class="number">1</span>]</span><br><span class="line">输出：<span class="string">"1"</span></span><br></pre></td></tr></tbody></table></figure>
<p>示例 4：</p>
<figure class="highlight lsl"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入：nums = [<span class="number">10</span>]</span><br><span class="line">输出：<span class="string">"10"</span></span><br></pre></td></tr></tbody></table></figure>

<p>想法<br>为了构建最大数字，希望越高位的数字越大越好。</p>
<p>设计一个类似从高位开始的基数排序。但在处理不同位长数的排序时，我发现很难给出一个统一的大小判别规律，例如962,96,9的最优排序是996962，而162,16,1的最优排序是162161。因此这个思路就只能毙掉了</p>
<p>算法<br>首先，将每个整数变成字符串。然后进行排序。<br>如果仅按降序排序，有相同的开头数字的时候会出现问题。<br>比方说，样例 2 按降序排序得到的数字是 95343303 ，<br>然而交换 3 和 30 的位置可以得到正确答案 9534330 。</p>
<p>例如962,96,9962,96,9的最优排序是996962996962,<br>而162,16,1162,16,1的最优排序是162161162161。</p>
<p>因此，每一对数在排序的比较过程中，比较两种连接顺序哪一种更好。<br>可以证明这样的做法是正确的：</p>
<p>假设（不是一般性），某一对整数 a 和 b ，的比较结果是 a 应该在 b 前面，<br>这意味着 a⌢b&gt;b⌢a ，其中 ⌢ 表示连接。<br>如果排序结果是错的，说明存在一个 c ， b 在 c 前面且 c 在 a 的前面。<br>这产生了矛盾，因为 a⌢b&gt;b⌢a 和 b⌢c&gt;c⌢b 意味着 a⌢c&gt;c⌢a 。<br>换言之，我们的自定义比较方法保证了传递性，所以这样子排序是对的。</p>
<p>一旦数组排好了序，最“重要”的数字会在最前面。<br>有一个需要注意的情况是如果数组只包含 0 ，我们直接返回结果 0 即可。<br>否则，我们用排好序的数组形成一个字符串并返回。</p>
<p>反证法：<br>假设存在一个最大序列不满足该排序规则，<br>那么至少存在两个数字的顺序不按上述传递性的定义排列，<br>如……s2s1…….，其中s2s1 &lt; s1s2。接下来，其他字符串的位置不变，<br>按照传递性定义，将s2和s1交换位置后，<br>可证明……s1s2…… &gt; ……s2s1……，这与假设不符，<br>即……s2s1…….并不是最大序列，所以最优序列必定满足上述传递性的定义。</p>
<p>已知：s1应该在s2前边，s2应该在s3前边；<br>求证：s1应该在s3前边。<br>证明：<br>假设“s3在s1前面”成立，则结合已知“s2应该在s3前边”，推出“s2在s1前面”，与已知“s1应该在s2前边”矛盾，故假设不成立，得证。</p>
<ul>
<li><p>时间复杂度：O(nlgn)<br>尽管我们在比较函数中做了一些额外的工作，但是这只是一个常数因子。</p>
</li>
<li><p>空间复杂度：O(n)<br>用了 O(n) 的额外空间去保存 nums 的副本。<br>尽管我们就地进行了一些额外的工作，但最后返回的数组需要 O(n) 的空间。<br>因此，需要的额外空间与 nums 大小成线性关系。</p>
</li>
</ul>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">```key```仅仅支持接受一个参数的函数，该函数用于从从每个被排序元素中提取一个比较键(例如，key=str.lower)。对列表中每个项对应的键计算一次，并返回另一个用以排序的值的可调用对象用于整个排序过程。</span><br><span class="line">None的默认值意味着列表项是直接排序的，不需要计算单独的键值。就无法实现两个参数之间的对比</span><br><span class="line">这里传入一个类名，生成的实际上是这个类对象。</span><br><span class="line"></span><br><span class="line">&gt;```sorted()```在对元素进行默认排序是从低到高时会用到小于号&lt;</span><br><span class="line"></span><br><span class="line">经历如下过程：</span><br><span class="line">- 从元素a(用a指代待排序列表中的元素)中提取比较键：LargerNumKey(a)类对象</span><br><span class="line">- 比较这些类对象的大小，&lt;调用LargerNumKey类的自定义的富比较函数__lt__进行排序. </span><br><span class="line">这样就实现了按自定义排序规则进行排序。</span><br><span class="line"></span><br><span class="line">```py</span><br><span class="line">from typing import List</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class LargerNumKey(str):</span><br><span class="line">    # LargerNumKey类继承了字符串str类，数组中所有元素类型改为字符串</span><br><span class="line">    # 所以可以直接使用类名作为函数</span><br><span class="line">    def __lt__(x, y):</span><br><span class="line">        """重写了富比较方法"""</span><br><span class="line">        # x 就是 self, 正常点的写法 就是 __lt__(self, y)</span><br><span class="line">        # self 只是惯例，可以叫其他名字</span><br><span class="line">        # 本题根据官方题解的字符排列传导性，</span><br><span class="line">        # x + y &gt; y + x 等价于 x 必须排在 y 的前面，即compare函数返回 -1</span><br><span class="line">        # x + y &lt; y + x 等价于 y 必须排在 x 的前面，即compare函数返回 1</span><br><span class="line">        return x + y &gt; y + x</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class Solution:</span><br><span class="line">    def largestNumber(self, nums: List[int]) -&gt; str:</span><br><span class="line">        # key指向一个类，利用了类的实例化生成类对象用作比较键。</span><br><span class="line">        # sorted(map(str, nums), key=LargerNumKey) 比较的是字符串大小，我之前想的是根据 __lt__(x, y) 返回的布尔值比较大小。</span><br><span class="line">        largest_num = ''.join(sorted(map(str, nums), key=LargerNumKey))</span><br><span class="line">        # If, after being sorted, the largest number is `0`, the entire number is zero.</span><br><span class="line">        return '0' if largest_num[0] == '0' else largest_num</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == "__main__":</span><br><span class="line">    arr = [10, 3, 20]</span><br><span class="line">    s = Solution()</span><br><span class="line">    print(s.largestNumber(arr))  # 32010</span><br><span class="line">    print(s.largestNumber([824, 8247]) == '8248247')</span><br><span class="line">    print(s.largestNumber([0, 0]) == '0')</span><br><span class="line">    print(s.largestNumber([1, 1, 1]) == '111')</span><br><span class="line">    print(s.largestNumber([3, 30, 34, 5, 9]) == "9534330")</span><br><span class="line">    print(s.largestNumber([10, 2]) == '210')</span><br><span class="line">    print(s.largestNumber([0, 2]) == '20')</span><br><span class="line">    print(s.largestNumber([1]) == '1')</span><br><span class="line">    print(s.largestNumber([0]) == '0')</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight sqf"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">arr = [<span class="number">10</span>, <span class="number">3</span>, <span class="number">20</span>]</span><br><span class="line">key=LargerNumKey继承 <span class="built_in">str</span> 的，把int变成<span class="built_in">str</span></span><br><span class="line">x 就是 self</span><br><span class="line"></span><br><span class="line">开始执行<span class="built_in">sort</span>()</span><br><span class="line">默认排序是从低到高，两个元素比较用到小于号&lt;，调用<span class="variable">__lt__</span>(x, y)</span><br><span class="line"></span><br><span class="line"><span class="variable">__lt__</span>(<span class="string">'3'</span>, <span class="string">'10'</span>)</span><br><span class="line">x = <span class="string">'3'</span> y = <span class="string">'10'</span>  </span><br><span class="line"><span class="string">'3'</span> + <span class="string">'10'</span> &gt; <span class="string">'10'</span> + <span class="string">'3'</span>  </span><br><span class="line">返回<span class="literal">True</span></span><br><span class="line">所以 <span class="string">'3'</span> &lt; <span class="string">'10'</span>为 <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="variable">__lt__</span>(<span class="string">'20'</span>, <span class="string">'3'</span>)</span><br><span class="line">x = <span class="string">'20'</span> y = <span class="string">'3'</span>  </span><br><span class="line"><span class="string">'20'</span> + <span class="string">'3'</span> &gt; <span class="string">'3'</span> + <span class="string">'20'</span>  </span><br><span class="line">返回<span class="literal">False</span></span><br><span class="line">所以 <span class="string">'20'</span> &lt; <span class="string">'3'</span>为 <span class="literal">False</span></span><br><span class="line">即<span class="string">'3'</span> &lt; <span class="string">'20'</span>为 <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="variable">__lt__</span>(<span class="string">'20'</span>, <span class="string">'10'</span>)</span><br><span class="line">x = <span class="string">'20'</span> y = <span class="string">'10'</span>  </span><br><span class="line"><span class="string">'20'</span> + <span class="string">'10'</span> &gt; <span class="string">'10'</span> + <span class="string">'20'</span>  </span><br><span class="line">返回<span class="literal">True</span></span><br><span class="line">所以 <span class="string">'20'</span> &lt; <span class="string">'10'</span>为 <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">所以<span class="string">"10"</span>, <span class="string">"3"</span>, <span class="string">"20"</span>的从小到大的顺序为[<span class="string">"3"</span>, <span class="string">"20"</span>, <span class="string">"10"</span>]</span><br><span class="line">largest_num = <span class="string">''</span>.<span class="built_in">join</span>([<span class="string">"3"</span>, <span class="string">"20"</span>, <span class="string">"10"</span>]) = <span class="string">'32010'</span></span><br><span class="line">largest_num[<span class="number">0</span>] == <span class="string">'3'</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">StrLt</span>(<span class="params">str</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__lt__</span>(<span class="params">self, y</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self + y &gt; y + self</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">largestNumber</span>(<span class="params">self, nums: List[int]</span>) -&gt; str:</span></span><br><span class="line"></span><br><span class="line">        nums.sort(key=StrLt)</span><br><span class="line">        res = <span class="string">""</span>.join(map(str, nums))</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"0"</span> <span class="keyword">if</span> res[<span class="number">0</span>] == <span class="string">"0"</span> <span class="keyword">else</span> res</span><br></pre></td></tr></tbody></table></figure>

<p>把sorted的reverse参数设置为True，排序的顺序是大到小。<br>__lt__方法的返回值和小于的原意一样，<br>可以直接用&lt;、&gt;来比较两个类实例的大小关系，<br>也可以将类传入sorted和sort函数的key参数中，用于类元素组成的序列等的排序。</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LargerNumKey</span>(<span class="params">str</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__lt__</span>(<span class="params">x, y</span>):</span></span><br><span class="line">        <span class="keyword">return</span> x + y &lt; y + x</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">largestNumber</span>(<span class="params">self, nums</span>):</span></span><br><span class="line">        largest_num = <span class="string">''</span>.join(</span><br><span class="line">            sorted(map(str, nums), key=LargerNumKey, reverse=<span class="literal">True</span>))</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'0'</span> <span class="keyword">if</span> largest_num[<span class="number">0</span>] == <span class="string">'0'</span> <span class="keyword">else</span> largest_num</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LargerNumKey</span>(<span class="params">str</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__gt__</span>(<span class="params">x, y</span>):</span></span><br><span class="line">        <span class="keyword">return</span> x + y &gt; y + x</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">largestNumber</span>(<span class="params">self, nums</span>):</span></span><br><span class="line">        largest_num = <span class="string">''</span>.join(</span><br><span class="line">            sorted(map(str, nums), key=LargerNumKey, reverse=<span class="literal">True</span>))</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'0'</span> <span class="keyword">if</span> largest_num[<span class="number">0</span>] == <span class="string">'0'</span> <span class="keyword">else</span> largest_num</span><br></pre></td></tr></tbody></table></figure>

<p>法二<br>不再让LargerNumKey类去继承str类，<br>这个函数的比较实现依赖传入参数value的类型，只要value类型支持‘+’和比较运算符，这个函数就能正常工作。</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">LargerNumKey</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, value</span>):</span></span><br><span class="line">        self.value = value</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__lt__</span>(<span class="params">self, other</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.value + other.value &gt; other.value + self.value</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">largestNumber</span>(<span class="params">self, nums</span>):</span></span><br><span class="line">        ans = <span class="string">''</span>.join(sorted(map(str, nums), key=LargerNumKey))</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'0'</span> <span class="keyword">if</span> ans[<span class="number">0</span>] == <span class="string">'0'</span> <span class="keyword">else</span> ans</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">largestNumber</span>(<span class="params">self, nums: List[int]</span>) -&gt; str:</span></span><br><span class="line">        <span class="class"><span class="keyword">class</span> <span class="title">cmp_large</span>:</span></span><br><span class="line">            <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, value</span>):</span></span><br><span class="line">                self.value = str(value)</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="keyword">def</span> <span class="title">__lt__</span>(<span class="params">self, other</span>):</span></span><br><span class="line">                <span class="keyword">return</span> self.value + other.value &gt; other.value + self.value</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="keyword">def</span> <span class="title">__gt__</span>(<span class="params">self, other</span>):</span></span><br><span class="line">                <span class="keyword">return</span> self.value + other.value &lt; other.value + self.value</span><br><span class="line"></span><br><span class="line">            <span class="function"><span class="keyword">def</span> <span class="title">__eq__</span>(<span class="params">self, other</span>):</span></span><br><span class="line">                <span class="keyword">return</span> self.value + other.value == other.value + self.value</span><br><span class="line"></span><br><span class="line">        res = [cmp_large(value) <span class="keyword">for</span> value <span class="keyword">in</span> nums]</span><br><span class="line">        ans = <span class="string">""</span>.join(a.value <span class="keyword">for</span> a <span class="keyword">in</span> sorted(res))</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'0'</span> <span class="keyword">if</span> ans[<span class="number">0</span>] == <span class="string">'0'</span> <span class="keyword">else</span> ans</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">largestNumber</span>(<span class="params">self, nums: List[int]</span>) -&gt; str:</span></span><br><span class="line">        <span class="class"><span class="keyword">class</span> <span class="title">large_num</span>(<span class="params">str</span>):</span></span><br><span class="line">            <span class="function"><span class="keyword">def</span> <span class="title">__lt__</span>(<span class="params">self, other</span>):</span></span><br><span class="line">                <span class="keyword">return</span> self + other &gt; other + self</span><br><span class="line"></span><br><span class="line">        largest_num = <span class="string">""</span>.join(sorted(map(str, nums), key=large_num))</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'0'</span> <span class="keyword">if</span> largest_num[<span class="number">0</span>] == <span class="string">'0'</span> <span class="keyword">else</span> largest_num</span><br></pre></td></tr></tbody></table></figure>

<p>假设a,b,c分别有m,n,k位数<br>ab &gt; ba =&gt; a * 10^n + b &gt; b * 10^m+ a<br>bc &gt; cb =&gt; b * 10^k + c &gt; c * 10^n + b)<br>可以推出: a * 10^k + c &gt; c * 10^m + a =&gt; ac &gt; ca<br>a=123 b=34，m=3,n=2<br>ab=12334=123*10^2+34;</p>
<p>法三：<br>cmp_to_key 函数，接收比较函数cmp(x, y) 接受两个参数用于比较 2 个对象</p>
<ul>
<li>返回1，是 x &gt; y，</li>
<li>返回-1，表示 x &lt; y，</li>
<li>返回0，表示 x == y</li>
</ul>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">largestNumber</span>(<span class="params">self, nums: List[int]</span>) -&gt; str:</span></span><br><span class="line">        <span class="keyword">from</span> functools <span class="keyword">import</span> cmp_to_key</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">cmp</span>(<span class="params">x, y</span>):</span></span><br><span class="line">            <span class="keyword">if</span> x + y &gt; y + x:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">            <span class="keyword">elif</span> x + y &lt; y + x:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        ans = <span class="string">""</span>.join(sorted(map(str, nums), key=cmp_to_key(cmp)))</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'0'</span> <span class="keyword">if</span> ans[<span class="number">0</span>] == <span class="string">'0'</span> <span class="keyword">else</span> ans</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">nums = [<span class="number">3</span>, <span class="number">20</span>]</span><br><span class="line"><span class="function"><span class="title">cmp</span><span class="params">(x, y)</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">cmp</span><span class="params">(<span class="string">'20'</span>, <span class="string">'3'</span>)</span></span></span><br><span class="line"><span class="string">'20'</span> + <span class="string">'3'</span> &lt; <span class="string">'3'</span> + <span class="string">'20'</span></span><br><span class="line"><span class="string">'203'</span> &lt; <span class="string">'320'</span></span><br><span class="line">return <span class="number">1</span></span><br><span class="line"><span class="string">'20'</span> &gt; <span class="string">'3'</span> </span><br><span class="line"><span class="string">'3'</span> &lt; <span class="string">'20'</span></span><br></pre></td></tr></tbody></table></figure>


<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">largestNumber</span>(<span class="params">self, nums: List[int]</span>) -&gt; str:</span></span><br><span class="line">        <span class="keyword">from</span> functools <span class="keyword">import</span> cmp_to_key</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">cmp</span>(<span class="params">a, b</span>):</span>  <span class="comment"># eg.30&lt;3</span></span><br><span class="line">            <span class="keyword">if</span> a + b &lt; b + a:  <span class="comment"># 30+3&lt;3+30-&gt;-1</span></span><br><span class="line">                <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">            <span class="keyword">elif</span> a + b &gt; b + a:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        res = <span class="string">''</span>.join(</span><br><span class="line">            sorted(map(str, nums), key=cmp_to_key(cmp), reverse=<span class="literal">True</span>))</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'0'</span> <span class="keyword">if</span> res[<span class="number">0</span>] == <span class="string">'0'</span> <span class="keyword">else</span> res</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">nums = [<span class="number">3</span>, <span class="number">20</span>]</span><br><span class="line"><span class="function"><span class="title">cmp</span><span class="params">(x, y)</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">cmp</span><span class="params">(<span class="string">'3'</span>, <span class="string">'20'</span>)</span></span></span><br><span class="line"><span class="string">'3'</span> + <span class="string">'20'</span> &gt; <span class="string">'20'</span> + <span class="string">'3'</span></span><br><span class="line"><span class="string">'320'</span> &gt; <span class="string">'203'</span></span><br><span class="line">return <span class="number">1</span></span><br><span class="line"><span class="string">'3'</span> &gt; <span class="string">'20'</span> </span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">nums = [<span class="number">3</span>, <span class="number">20</span>]</span><br><span class="line"><span class="function"><span class="title">cmp</span><span class="params">(x, y)</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">cmp</span><span class="params">(<span class="string">'3'</span>, <span class="string">'20'</span>)</span></span></span><br><span class="line"><span class="string">'3'</span> + <span class="string">'20'</span> &gt; <span class="string">'20'</span> + <span class="string">'3'</span></span><br><span class="line">return <span class="number">1</span></span><br><span class="line"><span class="string">'3'</span> &gt; <span class="string">'20'</span> </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">cmp</span><span class="params">(<span class="string">'10'</span>, <span class="string">'3'</span>)</span></span></span><br><span class="line"><span class="string">'10'</span> + <span class="string">'3'</span> &lt; <span class="string">'3'</span> + <span class="string">'10'</span></span><br><span class="line">return -<span class="number">1</span></span><br><span class="line"><span class="string">'10'</span> &lt; <span class="string">'3'</span> </span><br><span class="line"><span class="string">'3'</span> &gt; <span class="string">'10'</span> </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">cmp</span><span class="params">(<span class="string">'10'</span>, <span class="string">'20'</span>)</span></span></span><br><span class="line"><span class="string">'10'</span> + <span class="string">'20'</span> &lt; <span class="string">'20'</span> + <span class="string">'10'</span></span><br><span class="line">return -<span class="number">1</span></span><br><span class="line"><span class="string">'10'</span> &lt; <span class="string">'20'</span> </span><br><span class="line"><span class="string">'20'</span> &gt; <span class="string">'10'</span> </span><br></pre></td></tr></tbody></table></figure>

<p>如果是int对象比较大小，一般用 x - y来返回，这样就可以很形象的体现两者之间的位置关系了。<br>把数字转换成字符串。然后需要定义一种比较两个数的规则，<br>即把数字m和n拼接为mn，nm，只需要按照字符串大小的比较。</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">largestNumber</span>(<span class="params">self, nums</span>):</span></span><br><span class="line">        <span class="keyword">from</span> functools <span class="keyword">import</span> cmp_to_key</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">str_cmp</span>(<span class="params">a, b</span>):</span></span><br><span class="line">            <span class="keyword">return</span> int(a + b) - int(b + a)</span><br><span class="line"></span><br><span class="line">        strs = [str(i) <span class="keyword">for</span> i <span class="keyword">in</span> nums]</span><br><span class="line">        strs.sort(key=cmp_to_key(str_cmp), reverse=<span class="literal">True</span>)</span><br><span class="line">        <span class="keyword">return</span> str(int(<span class="string">''</span>.join(strs)))</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">strs = [<span class="string">'10'</span>, <span class="string">'3'</span>, <span class="string">'20'</span>]</span><br><span class="line"><span class="function"><span class="title">cmp</span><span class="params">(<span class="string">'3'</span>, <span class="string">'20'</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">int</span><span class="params">(a + b)</span></span> - int(<span class="selector-tag">b</span> + a)</span><br><span class="line"><span class="function"><span class="title">int</span><span class="params">(<span class="string">'3'</span> + <span class="string">'20'</span>)</span></span> - int(<span class="string">'20'</span> + <span class="string">'3'</span>)</span><br><span class="line"><span class="number">320</span> - <span class="number">203</span> = <span class="number">117</span></span><br><span class="line"><span class="string">'3'</span> &gt; <span class="string">'20'</span> </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">cmp</span><span class="params">(<span class="string">'10'</span>, <span class="string">'3'</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">int</span><span class="params">(<span class="string">'10'</span> + <span class="string">'3'</span>)</span></span> - int(<span class="string">'3'</span> + <span class="string">'10'</span>)</span><br><span class="line"><span class="number">103</span> - <span class="number">310</span> = -<span class="number">207</span> </span><br><span class="line"><span class="string">'10'</span> &lt; <span class="string">'3'</span> </span><br><span class="line"><span class="string">'3'</span> &gt; <span class="string">'10'</span> </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="title">cmp</span><span class="params">(<span class="string">'10'</span>, <span class="string">'20'</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">int</span><span class="params">(<span class="string">'10'</span> + <span class="string">'20'</span>)</span></span> - int(<span class="string">'20'</span> + <span class="string">'10'</span>)</span><br><span class="line"><span class="number">1020</span> - <span class="number">2010</span> = -<span class="number">990</span></span><br><span class="line"><span class="string">'10'</span> &lt; <span class="string">'20'</span> </span><br><span class="line"><span class="string">'20'</span> &gt; <span class="string">'10'</span> </span><br><span class="line"></span><br><span class="line">-<span class="number">990</span> &lt; -<span class="number">207</span> &lt; <span class="number">117</span></span><br><span class="line">strs = [<span class="string">'3'</span>, <span class="string">'20'</span>, <span class="string">'10'</span>]</span><br></pre></td></tr></tbody></table></figure>

<p>返回大于0的值代表x&gt;y，令x排在y后面</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">largestNumber</span>(<span class="params">self, nums: List[int]</span>) -&gt; str:</span></span><br><span class="line">        <span class="keyword">from</span> functools <span class="keyword">import</span> cmp_to_key</span><br><span class="line">        <span class="comment"># 比较两个数xy和yx的大小</span></span><br><span class="line">        key = cmp_to_key(<span class="keyword">lambda</span> x, y: int(y + x) - int(x + y))</span><br><span class="line">        <span class="comment"># lstrip() 方法: 截掉字符串左边的空格或指定字符  0012-&gt;12</span></span><br><span class="line">        res = <span class="string">''</span>.join(sorted(map(str, nums), key=key)).lstrip(<span class="string">'0'</span>)</span><br><span class="line">        <span class="keyword">return</span> res <span class="keyword">or</span> <span class="string">'0'</span></span><br></pre></td></tr></tbody></table></figure>

<p>冒泡<br>把需要判断的两个连续的字符串连起来，直接比较大小，然后根据比较的大小来决定需不需要做交换。</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">largestNumber</span>(<span class="params">self, nums: List[int]</span>) -&gt; str:</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(nums)):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">0</span>,len(nums)-i<span class="number">-1</span>):</span><br><span class="line">                <span class="keyword">if</span> str(nums[j]) + str(nums[j+<span class="number">1</span>]) &lt; str(nums[j+<span class="number">1</span>])+ str(nums[j]):</span><br><span class="line">                    nums[j] ,nums[j+<span class="number">1</span>] =nums[j+<span class="number">1</span>], nums[j]</span><br><span class="line">        res=<span class="string">""</span>.join(str(i) <span class="keyword">for</span> i <span class="keyword">in</span> nums)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"0"</span> <span class="keyword">if</span> nums[<span class="number">0</span>]==<span class="number">0</span> <span class="keyword">else</span> res</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>(<span class="params">object</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">largestNumber</span>(<span class="params">self, nums</span>):</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(nums)):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(len(nums) - i - <span class="number">1</span>):</span><br><span class="line">                <span class="keyword">if</span> str(nums[j]) + str(nums[j + <span class="number">1</span>]) &gt; str(nums[j + <span class="number">1</span>]) + str(nums[j]):</span><br><span class="line">                    nums[j], nums[j + <span class="number">1</span>] = nums[j + <span class="number">1</span>], nums[j]</span><br><span class="line">        s = <span class="string">''</span></span><br><span class="line">        <span class="keyword">if</span> nums[<span class="number">-1</span>] == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span>(<span class="string">'0'</span>)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> nums:</span><br><span class="line">            s = str(i) + s</span><br><span class="line">        <span class="keyword">return</span> s</span><br></pre></td></tr></tbody></table></figure>

<p>本质是排序算法，只是在判断大小的地方，把直接通过数学&lt;、&gt;的地方改成compare函数；<br>快速排序实现</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>(<span class="params">object</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">largestNumber</span>(<span class="params">self, nums</span>):</span></span><br><span class="line">        self.quickSort(nums, <span class="number">0</span>, len(nums) - <span class="number">1</span>)</span><br><span class="line">        <span class="comment"># 边界case</span></span><br><span class="line">        <span class="keyword">if</span> nums[<span class="number">0</span>] == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">"0"</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>.join((str(n) <span class="keyword">for</span> n <span class="keyword">in</span> nums))</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">quickSort</span>(<span class="params">self, nums, L, R</span>):</span></span><br><span class="line">        <span class="keyword">if</span> L &lt; R:</span><br><span class="line">            p = self.partition(nums, L, R)</span><br><span class="line">            self.quickSort(nums, L, p - <span class="number">1</span>)</span><br><span class="line">            self.quickSort(nums, p + <span class="number">1</span>, R)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">partition</span>(<span class="params">self, nums, L, R</span>):</span></span><br><span class="line">        plv = nums[L]</span><br><span class="line"></span><br><span class="line">        i = L + <span class="number">1</span></span><br><span class="line">        j = R</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> i &lt;= j:</span><br><span class="line">            <span class="keyword">if</span> self.custom_compare(nums[i], plv) == <span class="number">-1</span>:</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> self.custom_compare(nums[j], plv) == <span class="number">1</span>:</span><br></pre></td></tr></tbody></table></figure>

<hr>
<h2 id="剑指-Offer-45-把数组排成最小的数"><a href="#剑指-Offer-45-把数组排成最小的数" class="headerlink" title="剑指 Offer 45. 把数组排成最小的数"></a>剑指 Offer 45. 把数组排成最小的数</h2><p><strong>输入一个非负整数数组，把数组里所有数字拼接起来排成一个数，打印能拼接出的所有数字中最小的一个。</strong></p>
<blockquote>
<p>输出结果可能非常大，所以你需要返回一个字符串而不是整数<br>拼接起来的数字可能会有前导 0，最后结果不需要去掉前导 0</p>
</blockquote>
<p>示例 1:</p>
<figure class="highlight angelscript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入: [<span class="number">10</span>,<span class="number">2</span>]</span><br><span class="line">输出: <span class="string">"102"</span></span><br></pre></td></tr></tbody></table></figure>

<p>示例 2:</p>
<figure class="highlight angelscript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入: [<span class="number">3</span>,<span class="number">30</span>,<span class="number">34</span>,<span class="number">5</span>,<span class="number">9</span>]</span><br><span class="line">输出: <span class="string">"3033459"</span></span><br></pre></td></tr></tbody></table></figure>

<p>本题的“数字”指的就是每个元素整体</p>
<p>放数字的顺序肯定是先放第一位(最左边一位)最小的元素，如果第一位相等，比较第二位….，以此类推。<br>排列大小比较和字符串大小有点区别，比如 3 和 30，明显 30 排在前面比较好，</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(ord(<span class="string">"3"</span> &gt; <span class="string">"30"</span>))  <span class="comment"># TypeError: ord() expected a character, but string of length 2 found</span></span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight 1c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">字典序方法</span><br><span class="line"><span class="string">"330"</span> &gt; <span class="string">"303"</span></span><br><span class="line"><span class="string">"3"</span> + <span class="string">"30"</span> &gt; <span class="string">"30"</span> + <span class="string">"3"</span></span><br><span class="line"><span class="string">"3"</span> &gt; <span class="string">"30"</span></span><br></pre></td></tr></tbody></table></figure>

<p>解题思路：</p>
<ul>
<li><p>此题求拼接起来的 “最小数字” ，本质上是一个排序问题。</p>
</li>
<li><p>排序判断规则： 设 nums 任意两数字的字符串格式 x 和 y ，则</p>
<ul>
<li>若拼接字符串 x + y &gt; y + x ，则 x &gt; y ；</li>
<li>反之，若 x + y &lt; y + x ，则 x &lt; y ；<br>不能加等于，要执行严格弱序，编译器发现相等会反序参数调用。也就是说a compare b和b compare a的结果必须是相反的。  </li>
</ul>
</li>
<li><p>根据以上规则，套用任何排序方法对 nums 执行排序即可。</p>
</li>
</ul>
<p>算法流程：</p>
<ol>
<li>初始化： 字符串列表 strs ，保存各数字的字符串格式；</li>
<li>列表排序： 应用以上 “排序判断规则” ，对 strs 执行排序；</li>
<li>返回值： 拼接 strs 中的所有字符串，并返回。</li>
</ol>
<p>复杂度分析：<br>时间复杂度 O(NlogN) ： N 为最终返回值的字符数量（ strs 列表的长度 ≤ N ）；使用快排或内置函数的平均时间复杂度为 O(NlogN) ，最差为 O(N^2) 。<br>空间复杂度 O(N) ： 字符串列表 strs 占用线性大小的额外空间。</p>
<p>法一<br>快速排序：</p>
<ul>
<li>需修改快速排序函数中的排序判断规则。字符串大小（字典序）对比的实现方法：</li>
</ul>
<p>跟 l 还是 r 比取决于我们把哪个元素看作”哨兵“，跟 l 比也可以，<br>如果要用 l ，哨兵 i, j 的移动先后顺序也要对换<br>因为最后要把 strs[i], strs[l] 交换，因此要保证 ``strs[i] &gt; strs[l]` （和 r 的情况正好相反），这样交换后才符合快排定义。</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minNumber</span>(<span class="params">self, nums: List[int]</span>) -&gt; str:</span></span><br><span class="line"></span><br><span class="line">        arr = [str(i) <span class="keyword">for</span> i <span class="keyword">in</span> nums]</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">quick_sort</span>(<span class="params">left, right</span>):</span></span><br><span class="line">            <span class="keyword">if</span> left &gt;= right: <span class="keyword">return</span> </span><br><span class="line">            low, high = left, right</span><br><span class="line">            target = arr[left]</span><br><span class="line"></span><br><span class="line">            <span class="keyword">while</span> left &lt; right:</span><br><span class="line">                <span class="keyword">while</span> left &lt; right <span class="keyword">and</span> arr[right] + target &gt;= target + arr[right] : right -= <span class="number">1</span></span><br><span class="line">                arr[left] = arr[right]</span><br><span class="line">                <span class="keyword">while</span> left &lt; right <span class="keyword">and</span> arr[left] + target &lt;= target + arr[left]: left += <span class="number">1</span></span><br><span class="line">                arr[right] = arr[left]</span><br><span class="line">            </span><br><span class="line">            arr[left] = target</span><br><span class="line">            quick_sort(low, left<span class="number">-1</span>)</span><br><span class="line">            quick_sort(right+<span class="number">1</span>, high)</span><br><span class="line"></span><br><span class="line">        quick_sort(<span class="number">0</span>, len(arr)<span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">''</span>.join(arr)</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> List</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minNumber</span>(<span class="params">self, nums: List[int]</span>) -&gt; str:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">fast_sort</span>(<span class="params">l, r</span>):</span></span><br><span class="line">            <span class="keyword">if</span> l &gt;= r: <span class="keyword">return</span></span><br><span class="line">            i, j = l, r</span><br><span class="line">            <span class="keyword">while</span> i &lt; j:</span><br><span class="line">                <span class="keyword">while</span> strs[j] + strs[l] &gt;= strs[l] + strs[j] <span class="keyword">and</span> i &lt; j:</span><br><span class="line">                    j -= <span class="number">1</span>  <span class="comment"># 先移动 j</span></span><br><span class="line">                <span class="keyword">while</span> strs[i] + strs[l] &lt;= strs[l] + strs[i] <span class="keyword">and</span> i &lt; j:</span><br><span class="line">                    i += <span class="number">1</span></span><br><span class="line">                strs[i], strs[j] = strs[j], strs[i]</span><br><span class="line">            strs[i], strs[l] = strs[l], strs[i]</span><br><span class="line">            fast_sort(l, i - <span class="number">1</span>)</span><br><span class="line">            fast_sort(i + <span class="number">1</span>, r)</span><br><span class="line"></span><br><span class="line">        strs = [str(num) <span class="keyword">for</span> num <span class="keyword">in</span> nums]</span><br><span class="line">        fast_sort(<span class="number">0</span>, len(strs) - <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">''</span>.join(strs)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    solution = Solution()</span><br><span class="line">    nums1 = [<span class="number">10</span>, <span class="number">2</span>]</span><br><span class="line">    nums2 = [<span class="number">3</span>, <span class="number">30</span>, <span class="number">34</span>, <span class="number">5</span>, <span class="number">9</span>]</span><br><span class="line">    print(solution.minNumber(nums1))  <span class="comment"># 102</span></span><br><span class="line">    <span class="comment"># print(solution.minNumber(nums2))  # 3033459</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight lsl"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">nums = [<span class="number">3</span>, <span class="number">30</span>, <span class="number">34</span>, <span class="number">5</span>, <span class="number">9</span>]</span><br><span class="line">strs = ['<span class="number">3</span>', '<span class="number">30</span>', '<span class="number">34</span>', '<span class="number">5</span>', '<span class="number">9</span>']</span><br><span class="line">fast_sort(<span class="number">0</span>, len(strs) - <span class="number">1</span>)</span><br><span class="line">fast_sort(<span class="number">0</span>, <span class="number">5</span> - <span class="number">1</span>)</span><br><span class="line">fast_sort(<span class="number">0</span>, <span class="number">4</span>)</span><br><span class="line">i = l = <span class="number">0</span>, j = r = <span class="number">4</span></span><br><span class="line">strs[j] + strs[l] &gt;= strs[l] + strs[j] and i &lt; j</span><br><span class="line">strs[<span class="number">4</span>] + strs[<span class="number">0</span>] &gt; strs[<span class="number">0</span>] + strs[<span class="number">4</span>] and <span class="number">0</span> &lt; <span class="number">4</span></span><br><span class="line">'<span class="number">9</span>' + '<span class="number">3</span>' &gt; '<span class="number">3</span>' + '<span class="number">9</span>' and <span class="number">0</span> &lt; <span class="number">4</span></span><br><span class="line">j = j - <span class="number">1</span> = <span class="number">4</span> - <span class="number">1</span> = <span class="number">0</span> = <span class="number">3</span></span><br><span class="line">strs[<span class="number">3</span>] + strs[<span class="number">0</span>] &gt; strs[<span class="number">0</span>] + strs[<span class="number">3</span>] and <span class="number">0</span> &lt; <span class="number">3</span></span><br><span class="line">'<span class="number">5</span>' + '<span class="number">3</span>' &gt; '<span class="number">3</span>' + '<span class="number">5</span>' and <span class="number">0</span> &lt; <span class="number">3</span></span><br><span class="line">j = j - <span class="number">1</span> = <span class="number">3</span> - <span class="number">1</span> = <span class="number">0</span> = <span class="number">2</span></span><br><span class="line">strs[<span class="number">2</span>] + strs[<span class="number">0</span>] &gt; strs[<span class="number">0</span>] + strs[<span class="number">2</span>] and <span class="number">0</span> &lt; <span class="number">2</span></span><br><span class="line">'<span class="number">34</span>' + '<span class="number">3</span>' &gt; '<span class="number">3</span>' + '<span class="number">34</span>' and <span class="number">0</span> &lt; <span class="number">2</span></span><br><span class="line">j = j - <span class="number">1</span> = <span class="number">2</span> - <span class="number">1</span> = <span class="number">0</span> = <span class="number">1</span></span><br><span class="line">strs[<span class="number">1</span>] + strs[<span class="number">0</span>] &lt; strs[<span class="number">0</span>] + strs[<span class="number">1</span>] and <span class="number">0</span> &lt; <span class="number">1</span></span><br><span class="line">'<span class="number">30</span>' + '<span class="number">3</span>' &lt; '<span class="number">3</span>' + '<span class="number">30</span>' and <span class="number">0</span> &lt; <span class="number">1</span></span><br><span class="line">i = i + <span class="number">1</span> = <span class="number">0</span> + <span class="number">1</span> = j </span><br><span class="line">strs[i], strs[j] = strs[j], strs[i]</span><br><span class="line">strs[<span class="number">1</span>], strs[<span class="number">1</span>] = strs[<span class="number">1</span>], strs[<span class="number">1</span>]</span><br><span class="line">跳出循环</span><br><span class="line">strs[i], strs[l] = strs[l], strs[i]</span><br><span class="line">strs[<span class="number">1</span>], strs[<span class="number">0</span>] = strs[<span class="number">0</span>], strs[<span class="number">1</span>]</span><br><span class="line">strs = ['<span class="number">30</span>', '<span class="number">3</span>', '<span class="number">34</span>', '<span class="number">5</span>', '<span class="number">9</span>']</span><br><span class="line"></span><br><span class="line">fast_sort(l, i - <span class="number">1</span>)</span><br><span class="line">fast_sort(<span class="number">0</span>, <span class="number">1</span> - <span class="number">1</span>)</span><br><span class="line">fast_sort(<span class="number">0</span>, <span class="number">0</span>)</span><br><span class="line">i = <span class="number">0</span> = j</span><br><span class="line">return</span><br><span class="line"></span><br><span class="line">fast_sort(i + <span class="number">1</span>, r)</span><br><span class="line">fast_sort(<span class="number">1</span> + <span class="number">1</span>, <span class="number">4</span>)</span><br><span class="line">fast_sort(<span class="number">2</span>, <span class="number">4</span>)</span><br><span class="line">i = l = <span class="number">2</span>, j = r = <span class="number">4</span></span><br><span class="line">strs[j] + strs[l] &gt;= strs[l] + strs[j] and i &lt; j</span><br><span class="line">strs[<span class="number">4</span>] + strs[<span class="number">2</span>] &gt; strs[<span class="number">2</span>] + strs[<span class="number">4</span>] and <span class="number">2</span> &lt; <span class="number">4</span></span><br><span class="line">'<span class="number">9</span>' + '<span class="number">34</span>' &gt; '<span class="number">34</span>' + '<span class="number">9</span>' and <span class="number">2</span> &lt; <span class="number">4</span></span><br><span class="line">j = j - <span class="number">1</span> = <span class="number">4</span> - <span class="number">1</span> = <span class="number">0</span> = <span class="number">3</span></span><br><span class="line">strs[<span class="number">3</span>] + strs[<span class="number">2</span>] &gt; strs[<span class="number">2</span>] + strs[<span class="number">3</span>] and <span class="number">2</span> &lt; <span class="number">3</span></span><br><span class="line">'<span class="number">5</span>' + '<span class="number">34</span>' &gt; '<span class="number">34</span>' + '<span class="number">5</span>' and <span class="number">2</span> &lt; <span class="number">3</span></span><br><span class="line">j = j - <span class="number">1</span> = <span class="number">3</span> - <span class="number">1</span> = <span class="number">0</span> = <span class="number">2</span> = i</span><br><span class="line">strs[i], strs[j] = strs[j], strs[i]</span><br><span class="line">strs[<span class="number">2</span>], strs[<span class="number">2</span>] = strs[<span class="number">2</span>], strs[<span class="number">2</span>]</span><br><span class="line">跳出循环</span><br><span class="line">strs[i], strs[l] = strs[l], strs[i]</span><br><span class="line">strs[<span class="number">2</span>], strs[<span class="number">2</span>] = strs[<span class="number">2</span>], strs[<span class="number">2</span>]</span><br><span class="line">strs = ['<span class="number">30</span>', '<span class="number">3</span>', '<span class="number">34</span>', '<span class="number">5</span>', '<span class="number">9</span>']</span><br><span class="line"></span><br><span class="line">fast_sort(l, i - <span class="number">1</span>)</span><br><span class="line">fast_sort(<span class="number">2</span>, <span class="number">2</span> - <span class="number">1</span>)</span><br><span class="line">fast_sort(<span class="number">2</span>, <span class="number">1</span>)</span><br><span class="line">return</span><br><span class="line"></span><br><span class="line">fast_sort(i + <span class="number">1</span>, r)</span><br><span class="line">fast_sort(<span class="number">2</span> + <span class="number">1</span>, <span class="number">4</span>)</span><br><span class="line">fast_sort(<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">i = l = <span class="number">3</span>, j = r = <span class="number">4</span></span><br><span class="line">strs[j] + strs[l] &gt;= strs[l] + strs[j] and i &lt; j</span><br><span class="line">strs[<span class="number">4</span>] + strs[<span class="number">3</span>] &gt; strs[<span class="number">3</span>] + strs[<span class="number">4</span>] and <span class="number">3</span> &lt; <span class="number">4</span></span><br><span class="line">'<span class="number">9</span>' + '<span class="number">5</span>' &gt; '<span class="number">5</span>' + '<span class="number">9</span>' and <span class="number">3</span> &lt; <span class="number">4</span></span><br><span class="line">j = j - <span class="number">1</span> = <span class="number">4</span> - <span class="number">1</span> = <span class="number">0</span> = <span class="number">3</span> = i</span><br><span class="line">strs[i], strs[j] = strs[j], strs[i]</span><br><span class="line">strs[<span class="number">3</span>], strs[<span class="number">3</span>] = strs[<span class="number">3</span>], strs[<span class="number">3</span>]</span><br><span class="line">跳出循环</span><br><span class="line">strs[i], strs[l] = strs[l], strs[i]</span><br><span class="line">strs[<span class="number">3</span>], strs[<span class="number">3</span>] = strs[<span class="number">3</span>], strs[<span class="number">3</span>]</span><br><span class="line">strs = ['<span class="number">30</span>', '<span class="number">3</span>', '<span class="number">34</span>', '<span class="number">5</span>', '<span class="number">9</span>']</span><br><span class="line"></span><br><span class="line">fast_sort(i + <span class="number">1</span>, r)</span><br><span class="line">fast_sort(<span class="number">3</span> + <span class="number">1</span>, <span class="number">4</span>)</span><br><span class="line">fast_sort(<span class="number">4</span>, <span class="number">4</span>)</span><br><span class="line">reuturn</span><br><span class="line"></span><br><span class="line">return ''.join(strs) = '<span class="number">3303459</span>'</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight lsl"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">nums = [<span class="number">10</span>, <span class="number">2</span>]</span><br><span class="line">strs = ['<span class="number">10</span>', '<span class="number">2</span>']</span><br><span class="line">fast_sort(<span class="number">0</span>, len(strs) - <span class="number">1</span>)</span><br><span class="line">fast_sort(<span class="number">0</span>, <span class="number">2</span> - <span class="number">1</span>)</span><br><span class="line">fast_sort(<span class="number">0</span>, <span class="number">1</span>)</span><br><span class="line">i = l = <span class="number">0</span>, j = r = <span class="number">1</span></span><br><span class="line">strs[j] + strs[l] &gt;= strs[l] + strs[j] and i &lt; j</span><br><span class="line">strs[<span class="number">1</span>] + strs[<span class="number">0</span>] &gt; strs[<span class="number">0</span>] + strs[<span class="number">1</span>] and <span class="number">0</span> &lt; <span class="number">1</span></span><br><span class="line">'<span class="number">2</span>' + '<span class="number">10</span>' &gt; '<span class="number">10</span>' + '<span class="number">2</span>' and <span class="number">0</span> &lt; <span class="number">1</span></span><br><span class="line">j = j - <span class="number">1</span> = <span class="number">1</span> - <span class="number">1</span> = <span class="number">0</span> = i</span><br><span class="line"></span><br><span class="line">strs[j] + strs[l] &gt;= strs[l] + strs[j] and i &lt; j</span><br><span class="line">strs[<span class="number">1</span>] + strs[<span class="number">0</span>] &gt;= strs[<span class="number">0</span>] + strs[<span class="number">1</span>] and <span class="number">0</span> &lt; <span class="number">1</span></span><br><span class="line">j = j - <span class="number">1</span> = <span class="number">1</span> - <span class="number">1</span> = <span class="number">0</span> = i</span><br><span class="line">strs[i], strs[j] = strs[j], strs[i]</span><br><span class="line">strs[<span class="number">0</span>], strs[<span class="number">0</span>] = strs[<span class="number">0</span>], strs[<span class="number">0</span>]</span><br><span class="line">j = <span class="number">0</span> = i</span><br><span class="line"></span><br><span class="line">strs[i], strs[j] = strs[j], strs[i]</span><br><span class="line">strs[<span class="number">0</span>], strs[<span class="number">0</span>] = strs[<span class="number">0</span>], strs[<span class="number">0</span>]</span><br><span class="line">跳出循环</span><br><span class="line">strs[i], strs[l] = strs[l], strs[i]</span><br><span class="line">strs[<span class="number">0</span>], strs[<span class="number">0</span>] = strs[<span class="number">0</span>], strs[<span class="number">0</span>]</span><br><span class="line">strs = ['<span class="number">10</span>', '<span class="number">2</span>']</span><br><span class="line"></span><br><span class="line">fast_sort(l, i - <span class="number">1</span>)</span><br><span class="line">fast_sort(<span class="number">0</span>, <span class="number">0</span> - <span class="number">1</span>)</span><br><span class="line">fast_sort(<span class="number">0</span>, <span class="number">-1</span>)</span><br><span class="line">i = l = <span class="number">0</span> &gt; j = r = <span class="number">-1</span></span><br><span class="line">return</span><br><span class="line"></span><br><span class="line">fast_sort(i + <span class="number">1</span>, r)</span><br><span class="line">fast_sort(<span class="number">0</span> + <span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">fast_sort(<span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">i = l = <span class="number">1</span> = j = r </span><br><span class="line">return</span><br><span class="line"></span><br><span class="line">return ''.join(strs) = '<span class="number">102</span>'</span><br></pre></td></tr></tbody></table></figure>

<p>本文排序规则的传递性证明：</p>
<figure class="highlight angelscript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">字符串 xy &lt; yx , yz &lt; zy ，需证明 xz &lt; zx 一定成立。</span><br><span class="line"></span><br><span class="line">设十进制数 x, y, z 分别有 a, b, c 位，则有：</span><br><span class="line">（左边是字符串拼接，右边是十进制数计算，两者等价）</span><br><span class="line">xy = x * <span class="number">10</span>^b + y </span><br><span class="line">yx = y * <span class="number">10</span>^a + x</span><br><span class="line"></span><br><span class="line">则 xy &lt; yx 可转化为：</span><br><span class="line">x * <span class="number">10</span>^b + y &lt; y * <span class="number">10</span>^a + x</span><br><span class="line">x (<span class="number">10</span>^b - <span class="number">1</span>) &lt; y (<span class="number">10</span>^a - <span class="number">1</span>)</span><br><span class="line">x / (<span class="number">10</span>^a - <span class="number">1</span>) &lt; y / (<span class="number">10</span>^b - <span class="number">1</span>)     ①</span><br><span class="line"></span><br><span class="line">同理， 可将 yz &lt; zy 转化为：</span><br><span class="line">y / (<span class="number">10</span>^b - <span class="number">1</span>) &lt; z / (<span class="number">10</span>^c - <span class="number">1</span>)     ②</span><br><span class="line"></span><br><span class="line">将 ① ② 合并，整理得：</span><br><span class="line">x / (<span class="number">10</span>^a - <span class="number">1</span>) &lt; y / (<span class="number">10</span>^b - <span class="number">1</span>) &lt; z / (<span class="number">10</span>^c - <span class="number">1</span>)</span><br><span class="line">x / (<span class="number">10</span>^a - <span class="number">1</span>) &lt; z / (<span class="number">10</span>^c - <span class="number">1</span>)</span><br><span class="line">x (<span class="number">10</span>^c - <span class="number">1</span>) &lt; z (<span class="number">10</span>^a - <span class="number">1</span>)</span><br><span class="line">x * <span class="number">10</span>^c + z &lt; z * <span class="number">10</span>^a + x</span><br><span class="line">∴  可推出 xz &lt; zx ，传递性证毕</span><br></pre></td></tr></tbody></table></figure>

<p>跟 l 还是 r 比取决于我们把哪个元素看作”哨兵“，跟 r 比也可以，<br>如果要用 r ，哨兵 i, j 的移动先后顺序也要对换<br>因为最后要把 strs[i], strs[r] 交换，因此要保证 ``strs[i] &gt; strs[r]` （和 l 的情况正好相反），这样交换后才符合快排定义。</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minNumber</span>(<span class="params">self, nums: List[int]</span>) -&gt; str:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">fast_sort</span>(<span class="params">l , r</span>):</span></span><br><span class="line">            <span class="keyword">if</span> l &gt;= r: <span class="keyword">return</span></span><br><span class="line">            i, j = l, r</span><br><span class="line">            <span class="keyword">while</span> i &lt; j:</span><br><span class="line">                <span class="keyword">while</span> strs[i] + strs[r] &lt;= strs[r] + strs[i] <span class="keyword">and</span> i &lt; j:</span><br><span class="line">                    i += <span class="number">1</span>  <span class="comment"># 先移动 i</span></span><br><span class="line">                <span class="keyword">while</span> strs[j] + strs[r] &gt;= strs[r] + strs[j] <span class="keyword">and</span> i &lt; j: </span><br><span class="line">                    j -= <span class="number">1</span></span><br><span class="line">                strs[i], strs[j] = strs[j], strs[i]</span><br><span class="line">            strs[i], strs[r] = strs[r], strs[i]</span><br><span class="line">            fast_sort(l, i - <span class="number">1</span>)</span><br><span class="line">            fast_sort(i + <span class="number">1</span>, r)</span><br><span class="line">        </span><br><span class="line">        strs = [str(num) <span class="keyword">for</span> num <span class="keyword">in</span> nums]</span><br><span class="line">        fast_sort(<span class="number">0</span>, len(strs) - <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">''</span>.join(strs)</span><br></pre></td></tr></tbody></table></figure>

<p>函数 A 内部 定义 函数B ，则 B 的用途就是让 A 去调用的。函数 A 外，是无法访问函数 B 的，可以运行以下代码理解：</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minNumber</span>(<span class="params">self, nums: List[int]</span>) -&gt; str:</span></span><br><span class="line">        strs = [str(num) <span class="keyword">for</span> num <span class="keyword">in</span> nums]</span><br><span class="line">        fast_sort(<span class="number">0</span>, len(strs) - <span class="number">1</span>) <span class="comment"># 报错 not defined</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">''</span>.join(strs)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">fast_sort</span>(<span class="params">l , r</span>):</span></span><br><span class="line">            <span class="keyword">if</span> l &gt;= r: <span class="keyword">return</span></span><br><span class="line">            i, j = l, r</span><br><span class="line">            <span class="keyword">while</span> i &lt; j:</span><br><span class="line">                <span class="keyword">while</span> strs[j] + strs[l] &gt;= strs[l] + strs[j] <span class="keyword">and</span> i &lt; j: j -= <span class="number">1</span></span><br><span class="line">                <span class="keyword">while</span> strs[i] + strs[l] &lt;= strs[l] + strs[i] <span class="keyword">and</span> i &lt; j: i += <span class="number">1</span></span><br><span class="line">                strs[i], strs[j] = strs[j], strs[i]</span><br><span class="line">            strs[i], strs[l] = strs[l], strs[i]</span><br><span class="line">            fast_sort(l, i - <span class="number">1</span>)</span><br><span class="line">            fast_sort(i + <span class="number">1</span>, r)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br></pre></td></tr></tbody></table></figure>

<p>内置函数：<br>需定义排序规则：<br>Python 定义在函数 sort_rule(x, y) 中；<br>本题可以转化为排序问题，因此我们要定义一个“有效的排序规则”，然后按照这个排序规则、使用任意排序方法，将数组排序~<br>3.8 新版功能.<br><code>functools.cmp_to_key(func)</code><br>将(旧式的)比较函数转换为新式的 key function . 在类似于 sorted() ， min() ， max() ， heapq.nlargest() ， heapq.nsmallest() ， itertools.groupby() 等函数的 key 参数中使用。此函数主要用作将 Python 2 程序转换至新版的转换工具，以保持对比较函数的兼容。</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> functools</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minNumber</span>(<span class="params">self, nums: List[int]</span>) -&gt; str:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">sort_rule</span>(<span class="params">x, y</span>):</span></span><br><span class="line">            a, b = x + y, y + x</span><br><span class="line">            <span class="keyword">if</span> a &gt; b: <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> a &lt; b: <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        strs = [str(num) <span class="keyword">for</span> num <span class="keyword">in</span> nums]</span><br><span class="line">        strs.sort(key=functools.cmp_to_key(sort_rule))</span><br><span class="line">        <span class="keyword">return</span> <span class="string">''</span>.join(strs)</span><br></pre></td></tr></tbody></table></figure>


<p>key 指向这个cmpSmaller ，然后sorted调用过程中，会强制转换类型 将原先的 str 字符串类型改为 这个 cmpSmaller 类型，然后排序的时候，就会调用这个 重写 的 <strong>lt</strong> 方法，从而使用了自定义的 排序规则，得到了最终结果。</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">cmpSmaller</span>(<span class="params">str</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__lt__</span>(<span class="params">self, y</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self + y &lt; y + self  <span class="comment"># 字符串拼接比较(两两比较)</span></span><br><span class="line">    <span class="comment"># 按由小到大来排列</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minNumber</span>(<span class="params">self, nums: List[int]</span>) -&gt; str:</span></span><br><span class="line">        res=sorted(map(str, nums),key=cmpSmaller)</span><br><span class="line">        smallest = <span class="string">''</span>.join(res)</span><br><span class="line">        <span class="keyword">return</span> smallest</span><br></pre></td></tr></tbody></table></figure>


<p>冒泡</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>(<span class="params">object</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">minNumber</span>(<span class="params">self, nums: List[int]</span>) -&gt; str:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> nums:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(nums)):</span><br><span class="line">            nums[i] = str(nums[i])</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(nums)):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(i+<span class="number">1</span>,len(nums)):</span><br><span class="line">                <span class="keyword">if</span> nums[i] + nums[j] &gt; nums[j] + nums[i]:</span><br><span class="line">                    nums[i], nums[j] = nums[j], nums[i]</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">return</span> <span class="string">''</span>.join(nums)</span><br></pre></td></tr></tbody></table></figure>

<hr>
<h2 id="386-字典序排数"><a href="#386-字典序排数" class="headerlink" title="386. 字典序排数"></a>386. 字典序排数</h2><p><strong>给定一个整数&nbsp;n, 返回从&nbsp;1&nbsp;到&nbsp;n&nbsp;的字典顺序。</strong></p>
<p>例如，<br>给定 n =13，返回 [1,10,11,12,13,2,3,4,5,6,7,8,9] 。</p>
<p>例子是1在10之前<br>数字最高位是以1-9开头的，<br>给你一个数字1，把这个数字开头的，并且不大于n的所有数字按照位数由低到高依次排列<br>给你一个数字2，把这个数字开头的，并且不大于n的所有数字按照位数由低到高依次排列<br>当两个数字最高位相同的时候，就需要比较其次高位，比较方式与最高位的比较方式是一致的，也就是递归下去。（这是我的理解，可能有点不太准确）</p>
<p>将n个数按照一定的顺序构建成树，然后从左到右对每棵树进行dfs就行了</p>
<figure class="highlight angelscript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">                    root</span><br><span class="line">            /           |            |          \  </span><br><span class="line">            <span class="number">1</span>            <span class="number">2</span>            <span class="number">3</span>    ...     <span class="number">9</span></span><br><span class="line">        /      \       \ </span><br><span class="line">      <span class="number">10</span>        <span class="number">11</span>    </span><br><span class="line">   /  |   \     /  |  |  \ </span><br><span class="line"><span class="number">100</span>  <span class="number">101</span>   <span class="number">109</span> <span class="number">110</span></span><br></pre></td></tr></tbody></table></figure>

<p>时间复杂度: O(N)，使用了递归，时间复杂度为进入递归函数的次数，我们遍历了每一个结点<br>空间复杂度: O(1)</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> typing <span class="keyword">import</span> List</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lexicalOrder</span>(<span class="params">self, n: int</span>) -&gt; List[int]:</span></span><br><span class="line">        res = []</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">cur</span>):</span>  <span class="comment"># N叉树 深度优先搜索 对每棵树进行dfs cur为根结点</span></span><br><span class="line">            <span class="keyword">if</span> cur &gt; n:</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            res.append(cur)</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">10</span>):  <span class="comment"># 遍历0 ~ 9</span></span><br><span class="line">                dfs(cur * <span class="number">10</span> + j)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">10</span>):  <span class="comment"># 遍历1 ~ 9</span></span><br><span class="line">            dfs(i)</span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">s = Solution()</span><br><span class="line">print(s.lexicalOrder(<span class="number">13</span>))</span><br><span class="line"><span class="comment"># [1, 10, 11, 12, 13, 2, 3, 4, 5, 6, 7, 8, 9]</span></span><br><span class="line">print(s.lexicalOrder(<span class="number">0</span>))  <span class="comment"># []</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight angelscript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br></pre></td><td class="code"><pre><span class="line">n = <span class="number">13</span></span><br><span class="line">res = []</span><br><span class="line"></span><br><span class="line">i = <span class="number">1</span></span><br><span class="line">dfs(<span class="number">1</span>)</span><br><span class="line">    cur = <span class="number">1</span> &lt; n = <span class="number">13</span></span><br><span class="line">    res.append(cur)</span><br><span class="line">    res= [<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">    j = <span class="number">0</span></span><br><span class="line">    dfs(cur * <span class="number">10</span> + j)</span><br><span class="line">    dfs(<span class="number">1</span> * <span class="number">10</span> + <span class="number">0</span>)</span><br><span class="line">    dfs(<span class="number">10</span>)</span><br><span class="line">        cur = <span class="number">10</span> &lt; n = <span class="number">13</span></span><br><span class="line">        res.append(cur)</span><br><span class="line">        res= [<span class="number">1</span>, <span class="number">10</span>]</span><br><span class="line">        j = <span class="number">0</span></span><br><span class="line">        dfs(cur * <span class="number">10</span> + j)</span><br><span class="line">        dfs(<span class="number">10</span> * <span class="number">10</span> + <span class="number">0</span>)</span><br><span class="line">        dfs(<span class="number">100</span>)</span><br><span class="line">            cur = <span class="number">100</span> &gt; n = <span class="number">13</span></span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        j = <span class="number">1</span></span><br><span class="line">        dfs(cur * <span class="number">10</span> + j)</span><br><span class="line">        dfs(<span class="number">10</span> * <span class="number">10</span> + <span class="number">1</span>)</span><br><span class="line">        dfs(<span class="number">101</span>)</span><br><span class="line">            cur = <span class="number">101</span> &gt; n = <span class="number">13</span></span><br><span class="line">            <span class="keyword">return</span>        </span><br><span class="line">        ....</span><br><span class="line">        j = <span class="number">9</span></span><br><span class="line">        dfs(cur * <span class="number">10</span> + <span class="number">9</span>)</span><br><span class="line">        dfs(<span class="number">10</span> * <span class="number">10</span> + <span class="number">9</span>)</span><br><span class="line">        dfs(<span class="number">109</span>)</span><br><span class="line">            cur = <span class="number">109</span> &gt; n = <span class="number">13</span></span><br><span class="line">            <span class="keyword">return</span>               </span><br><span class="line"></span><br><span class="line">    j = <span class="number">1</span></span><br><span class="line">    dfs(cur * <span class="number">10</span> + j)</span><br><span class="line">    dfs(<span class="number">1</span> * <span class="number">10</span> + <span class="number">1</span>)</span><br><span class="line">    dfs(<span class="number">11</span>)</span><br><span class="line">        cur = <span class="number">11</span> &lt; n = <span class="number">13</span></span><br><span class="line">        res.append(cur)</span><br><span class="line">        res= [<span class="number">1</span>, <span class="number">10</span>, <span class="number">11</span>]</span><br><span class="line">        j = <span class="number">0</span></span><br><span class="line">        dfs(cur * <span class="number">10</span> + j)</span><br><span class="line">        dfs(<span class="number">11</span> * <span class="number">10</span> + <span class="number">0</span>)</span><br><span class="line">        dfs(<span class="number">110</span>)</span><br><span class="line">            cur = <span class="number">110</span> &gt; n = <span class="number">13</span></span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        j = <span class="number">1</span></span><br><span class="line">        dfs(cur * <span class="number">10</span> + j)</span><br><span class="line">        dfs(<span class="number">11</span> * <span class="number">10</span> + <span class="number">1</span>)</span><br><span class="line">        dfs(<span class="number">111</span>)</span><br><span class="line">            cur = <span class="number">111</span> &gt; n = <span class="number">13</span></span><br><span class="line">            <span class="keyword">return</span>  </span><br><span class="line">        ....</span><br><span class="line">        j = <span class="number">9</span></span><br><span class="line">        dfs(cur * <span class="number">10</span> + <span class="number">9</span>)</span><br><span class="line">        dfs(<span class="number">11</span> * <span class="number">10</span> + <span class="number">9</span>)</span><br><span class="line">        dfs(<span class="number">119</span>)</span><br><span class="line">            cur = <span class="number">119</span> &gt; n = <span class="number">13</span></span><br><span class="line">            <span class="keyword">return</span>      </span><br><span class="line"></span><br><span class="line">    j = <span class="number">2</span></span><br><span class="line">    dfs(cur * <span class="number">10</span> + j)</span><br><span class="line">    dfs(<span class="number">1</span> * <span class="number">10</span> + <span class="number">2</span>)</span><br><span class="line">    dfs(<span class="number">12</span>)</span><br><span class="line">        cur = <span class="number">12</span> &lt; n = <span class="number">13</span></span><br><span class="line">        res.append(cur)</span><br><span class="line">        res= [<span class="number">1</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>]</span><br><span class="line">        j = <span class="number">0</span></span><br><span class="line">        dfs(cur * <span class="number">10</span> + j)</span><br><span class="line">        dfs(<span class="number">12</span> * <span class="number">10</span> + <span class="number">0</span>)</span><br><span class="line">        dfs(<span class="number">120</span>)</span><br><span class="line">            cur = <span class="number">120</span> &gt; n = <span class="number">13</span></span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        j = <span class="number">1</span></span><br><span class="line">        dfs(cur * <span class="number">10</span> + j)</span><br><span class="line">        dfs(<span class="number">12</span> * <span class="number">10</span> + <span class="number">1</span>)</span><br><span class="line">        dfs(<span class="number">121</span>)</span><br><span class="line">            cur = <span class="number">121</span> &gt; n = <span class="number">13</span></span><br><span class="line">            <span class="keyword">return</span>  </span><br><span class="line">        ....</span><br><span class="line">        j = <span class="number">9</span></span><br><span class="line">        dfs(cur * <span class="number">10</span> + <span class="number">9</span>)</span><br><span class="line">        dfs(<span class="number">12</span> * <span class="number">10</span> + <span class="number">9</span>)</span><br><span class="line">        dfs(<span class="number">129</span>)</span><br><span class="line">            cur = <span class="number">129</span> &gt; n = <span class="number">13</span></span><br><span class="line">            <span class="keyword">return</span>  </span><br><span class="line"></span><br><span class="line">    j = <span class="number">3</span></span><br><span class="line">    dfs(cur * <span class="number">10</span> + j)</span><br><span class="line">    dfs(<span class="number">1</span> * <span class="number">10</span> + <span class="number">3</span>)</span><br><span class="line">    dfs(<span class="number">13</span>)</span><br><span class="line">        cur = <span class="number">13</span> = n</span><br><span class="line">        res.append(cur)</span><br><span class="line">        res= [<span class="number">1</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>]</span><br><span class="line">        j = <span class="number">0</span></span><br><span class="line">        dfs(cur * <span class="number">10</span> + j)</span><br><span class="line">        dfs(<span class="number">13</span> * <span class="number">10</span> + <span class="number">0</span>)</span><br><span class="line">        dfs(<span class="number">130</span>)</span><br><span class="line">            cur = <span class="number">130</span> &gt; n = <span class="number">13</span></span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        j = <span class="number">1</span></span><br><span class="line">        dfs(cur * <span class="number">10</span> + j)</span><br><span class="line">        dfs(<span class="number">13</span> * <span class="number">10</span> + <span class="number">1</span>)</span><br><span class="line">        dfs(<span class="number">131</span>)</span><br><span class="line">            cur = <span class="number">131</span> &gt; n = <span class="number">13</span></span><br><span class="line">            <span class="keyword">return</span>  </span><br><span class="line"></span><br><span class="line">        ....</span><br><span class="line"></span><br><span class="line">        j = <span class="number">9</span></span><br><span class="line">        dfs(cur * <span class="number">10</span> + <span class="number">9</span>)</span><br><span class="line">        dfs(<span class="number">13</span> * <span class="number">10</span> + <span class="number">9</span>)</span><br><span class="line">        dfs(<span class="number">139</span>)</span><br><span class="line">            cur = <span class="number">139</span> &gt; n = <span class="number">13</span></span><br><span class="line">            <span class="keyword">return</span>  </span><br><span class="line"></span><br><span class="line">    j = <span class="number">4</span></span><br><span class="line">    dfs(cur * <span class="number">10</span> + j)</span><br><span class="line">    dfs(<span class="number">1</span> * <span class="number">10</span> + <span class="number">4</span>)</span><br><span class="line">    dfs(<span class="number">14</span>)</span><br><span class="line">        cur = <span class="number">14</span> &gt; n = <span class="number">13</span></span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    j = <span class="number">5</span></span><br><span class="line">    dfs(cur * <span class="number">10</span> + j)</span><br><span class="line">    dfs(<span class="number">1</span> * <span class="number">10</span> + <span class="number">5</span>)</span><br><span class="line">    dfs(<span class="number">15</span>)</span><br><span class="line">        cur = <span class="number">15</span> &gt; n = <span class="number">13</span></span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    j = <span class="number">9</span></span><br><span class="line">    dfs(cur * <span class="number">10</span> + j)</span><br><span class="line">    dfs(<span class="number">1</span> * <span class="number">10</span> + <span class="number">9</span>)</span><br><span class="line">    dfs(<span class="number">19</span>)</span><br><span class="line">        cur = <span class="number">19</span> &gt; n = <span class="number">13</span></span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">i = <span class="number">2</span></span><br><span class="line">dfs(<span class="number">2</span>)</span><br><span class="line">    cur = <span class="number">2</span> &lt; n = <span class="number">13</span></span><br><span class="line">    res.append(cur)</span><br><span class="line">    res= [<span class="number">1</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>, <span class="number">13</span>, <span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">    j = <span class="number">0</span></span><br><span class="line">    dfs(cur * <span class="number">10</span> + j)</span><br><span class="line">    dfs(<span class="number">2</span> * <span class="number">10</span> + <span class="number">0</span>)</span><br><span class="line">    dfs(<span class="number">20</span>)</span><br><span class="line">        cur = <span class="number">20</span> &gt; n = <span class="number">13</span></span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">i = <span class="number">3</span></span><br><span class="line">dfs(<span class="number">3</span>)</span><br><span class="line">    cur = <span class="number">3</span> &lt; n = <span class="number">13</span></span><br><span class="line">    res.append(cur)</span><br><span class="line">    res= [<span class="number">1</span>, <span class="number">10</span>, <span class="number">11</span>, <span class="number">13</span>, <span class="number">12</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"></span><br><span class="line">    j = <span class="number">0</span></span><br><span class="line">    dfs(cur * <span class="number">10</span> + j)</span><br><span class="line">    dfs(<span class="number">3</span> * <span class="number">10</span> + <span class="number">0</span>)</span><br><span class="line">    dfs(<span class="number">30</span>)</span><br><span class="line">        cur = <span class="number">30</span> &gt; n = <span class="number">13</span></span><br><span class="line">        <span class="keyword">return</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lexicalOrder</span>(<span class="params">self, n: int</span>) -&gt; List[int]:</span></span><br><span class="line">        self.n, self.res = n, []</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">cur</span>):</span> </span><br><span class="line">            <span class="keyword">if</span> cur &gt; self.n: <span class="keyword">return</span> </span><br><span class="line">            self.res.append(cur)</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>):</span><br><span class="line">                dfs(<span class="number">10</span> * cur + i)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,<span class="number">10</span>):</span><br><span class="line">            dfs(i)</span><br><span class="line">        <span class="keyword">return</span> self.res</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lexicalOrder</span>(<span class="params">self, n: int</span>) -&gt; List[int]:</span></span><br><span class="line">        <span class="keyword">return</span> sorted(range(<span class="number">1</span>, n+<span class="number">1</span>), key=str) </span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lexicalOrder</span>(<span class="params">self, n: int</span>) -&gt; List[int]:</span></span><br><span class="line">        <span class="keyword">return</span> sorted(list(range(<span class="number">1</span>,n+<span class="number">1</span>)),key=<span class="keyword">lambda</span> x:str(x))</span><br></pre></td></tr></tbody></table></figure>

<hr>
<h2 id="剑指-Offer-19-正则表达式匹配"><a href="#剑指-Offer-19-正则表达式匹配" class="headerlink" title="剑指 Offer 19. 正则表达式匹配"></a>剑指 Offer 19. 正则表达式匹配</h2><p><strong>请实现一个函数用来匹配包含<code>'. '</code>和<code>'*'</code>的正则表达式。模式中的字符<code>'.'</code>表示任意一个字符，而<code>'*'</code>表示它前面的字符可以出现任意次（含0次）。在本题中，匹配是指字符串的所有字符匹配整个模式。例如，字符串<code>"aaa"</code>与模式<code>"a.a"</code>和<code>"ab*ac*a"</code>匹配，但与<code>"aa.a"</code>和<code>"ab*a"</code>均不匹配。</strong></p>
<p>示例 1:</p>
<figure class="highlight makefile"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">输入:</span></span><br><span class="line">s = <span class="string">"aa"</span></span><br><span class="line">p = <span class="string">"a"</span></span><br><span class="line"><span class="section">输出: false</span></span><br><span class="line"><span class="section">解释: "a" 无法匹配 "aa" 整个字符串。</span></span><br></pre></td></tr></tbody></table></figure>

<p>示例 2:</p>
<figure class="highlight smalltalk"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">输入:</span><br><span class="line">s = <span class="comment">"aa"</span></span><br><span class="line">p = <span class="comment">"a*"</span></span><br><span class="line">输出: <span class="keyword">true</span></span><br><span class="line">解释: 因为 <span class="string">'*'</span> 代表可以匹配零个或多个前面的那一个元素, 在这里前面的元素就是 <span class="string">'a'</span>。因此，字符串 <span class="comment">"aa"</span> 可被视为 <span class="string">'a'</span> 重复了一次。</span><br></pre></td></tr></tbody></table></figure>

<p>示例 3:</p>
<figure class="highlight makefile"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">输入:</span></span><br><span class="line">s = <span class="string">"ab"</span></span><br><span class="line">p = <span class="string">".*"</span></span><br><span class="line"><span class="section">输出: true</span></span><br><span class="line"><span class="section">解释: ".*" 表示可匹配零个或多个（'*'）任意字符（'.'）。</span></span><br></pre></td></tr></tbody></table></figure>

<p>示例 4:</p>
<figure class="highlight smalltalk"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">输入:</span><br><span class="line">s = <span class="comment">"aab"</span></span><br><span class="line">p = <span class="comment">"c*a*b"</span></span><br><span class="line">输出: <span class="keyword">true</span></span><br><span class="line">解释: 因为 <span class="string">'*'</span> 表示零个或多个，这里 <span class="string">'c'</span> 为 <span class="number">0</span> 个, <span class="string">'a'</span> 被重复一次。因此可以匹配字符串 <span class="comment">"aab"</span>。</span><br></pre></td></tr></tbody></table></figure>
<p>示例 5:</p>
<figure class="highlight makefile"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">输入:</span></span><br><span class="line">s = <span class="string">"mississippi"</span></span><br><span class="line">p = <span class="string">"mis*is*p*."</span></span><br><span class="line"><span class="section">输出: false</span></span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>s 可能为空，且只包含从 a-z 的小写字母。</li>
<li>p 可能为空，且只包含从 a-z 的小写字母以及字符 . 和 <em>，无连续的 ‘</em>‘。</li>
</ul>
<p>解题思路：</p>
<blockquote>
<p>设 s 的长度为 n ， p 的长度为 m ；将 s 的第 i 个字符记为 s_i ，p 的第 j 个字符记为 p_j ，将 s 的前 i 个字符组成的子字符串记为 s[:i] , 同理将 p 的前 j 个字符组成的子字符串记为 p[:j] 。</p>
</blockquote>
<blockquote>
<p>因此，本题可转化为求 s[:n] 是否能和 p[:m] 匹配。</p>
</blockquote>
<p>总体思路是从 s[:1] 和 p[:1] 是否能匹配开始判断，每轮添加一个字符并判断是否能匹配，直至添加完整个字符串 s 和 p 。展开来看，假设 s[:i] 与 p[:j] 可以匹配，那么下一状态有两种：</p>
<ol>
<li>添加一个字符 s_{i+1} 后是否能匹配？</li>
<li>添加字符 p_{j+1} 后是否能匹配？</li>
</ol>
<p>因此，本题的状态共有 m×n 种，应定义状态矩阵 dp ，dp[i][j] 代表 s[:i] 与 p[:j] 是否可以匹配。</p>
<p>做好状态定义，接下来就是根据 「<code>普通字符</code>」 , 「<code>.</code>」 , 「<code>*</code>」三种字符的功能定义，分析出动态规划的转移方程。</p>
<h3 id="动态规划解析："><a href="#动态规划解析：" class="headerlink" title="动态规划解析："></a>动态规划解析：</h3><ul>
<li><p>状态定义： 设动态规划矩阵 <code>dp</code> ， <code>dp[i][j]</code> 代表字符串 <code>s</code> 的前 <code>i</code> 个字符和 <code>p</code> 的前 <code>j</code> 个字符能否匹配。</p>
</li>
<li><p>转移方程： 需要注意，由于 <code>dp[0][0]</code> 代表的是空字符的状态， 因此 <code>dp[i][j]</code> 对应的添加字符是 <code>s[i - 1]</code> 和 <code>p[j - 1]</code> 。</p>
</li>
</ul>
<p>当 <code>p[j - 1] = '*'</code> 时， dp[i][j] 在当以下任一情况为 truetrue 时等于 truetrue ：</p>
<p>dp[i][j - 2]： 即将字符组合 p[j - 2] * 看作出现 0 次时，能否匹配；<br>dp[i][j - 1]： 即将字符组合 p[j - 2] * 看作出现 1 次时，能否匹配；<br>dp[i - 1][j] 且 s[i - 1] = p[j - 2]: 即让字符 p[j - 2] 多出现 1 次时，能否匹配；<br>dp[i - 1][j] 且 p[j - 2] = ‘.’: 即让字符 ‘.’ 多出现 1 次时，能否匹配；<br>当 p[j - 1] != ‘*’ 时， dp[i][j] 在当以下任一情况为 truetrue 时等于 truetrue ：</p>
<p>dp[i - 1][j - 1] 且 s[i - 1] = p[j - 1]： 即让字符 p[j - 1] 多出现一次时，能否匹配；<br>dp[i - 1][j - 1] 且 p[j - 1] = ‘.’： 即将字符 . 看作字符 s[i - 1] 时，能否匹配；<br>初始化： 需要先初始化 dp 矩阵首行，以避免状态转移时索引越界。</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">```dp[0][j] = dp[0][j - 2]``` 且 ```p[j - 1] = '*'```： 首行 s 为空字符串，因此当 p 的偶数位为 * 时才能够匹配（即让 p 的奇数位出现 0 次，保持 p 是空字符串）。因此，循环遍历字符串 p ，步长为 2（即只看偶数位）。</span><br><span class="line"></span><br><span class="line">- 返回值： ```dp``` 矩阵右下角字符，代表字符串 s 和 p 能否匹配。</span><br><span class="line"></span><br><span class="line">时间复杂度 O(MN) ： 其中 M, N 分别为 ```s``` 和 ```p``` 的长度，状态转移需遍历整个 ```dp``` 矩阵。</span><br><span class="line">空间复杂度 O(MN) ： 状态矩阵 ```dp``` 使用 O(MN) 的额外空间。</span><br><span class="line"></span><br><span class="line">```py</span><br><span class="line">class Solution:</span><br><span class="line">    def isMatch(self, s: str, p: str) -&gt; bool:</span><br><span class="line">        m, n = len(s) + 1, len(p) + 1</span><br><span class="line">        dp = [[False] * n for _ in range(m)]</span><br><span class="line">        dp[0][0] = True</span><br><span class="line">        # 初始化首行</span><br><span class="line">        for j in range(2, n, 2):</span><br><span class="line">            dp[0][j] = dp[0][j - 2] and p[j - 1] == '*'</span><br><span class="line">        # 状态转移</span><br><span class="line">        for i in range(1, m):</span><br><span class="line">            for j in range(1, n):</span><br><span class="line">                if p[j - 1] == '*':</span><br><span class="line">                    if dp[i][j - 2]:</span><br><span class="line">                        dp[i][j] = True  # 1.</span><br><span class="line">                    elif dp[i][j - 1]:</span><br><span class="line">                        dp[i][j] = True  # 2.</span><br><span class="line">                    elif dp[i - 1][j] and s[i - 1] == p[j - 2]:</span><br><span class="line">                        dp[i][j] = True  # 3.</span><br><span class="line">                    elif dp[i - 1][j] and p[j - 2] == '.':</span><br><span class="line">                        dp[i][j] = True  # 4.</span><br><span class="line">                else:</span><br><span class="line">                    if dp[i - 1][j - 1] and s[i - 1] == p[j - 1]:</span><br><span class="line">                        dp[i][j] = True  # 1.</span><br><span class="line">                    elif dp[i - 1][j - 1] and p[j - 1] == '.':</span><br><span class="line">                        dp[i][j] = True  # 2.</span><br><span class="line">        return dp[-1][-1]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == '__main__':</span><br><span class="line">    solution = Solution()</span><br><span class="line">    nums1 = 'aaa'</span><br><span class="line">    nums2 = 'ab*.*'</span><br><span class="line">    print(solution.isMatch(nums1, nums2))  # True</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line">s = 'aaa'</span><br><span class="line">p = 'ab<span class="emphasis">*.*</span>'</span><br><span class="line">m = len(s) + 1 = 4</span><br><span class="line">n = len(p) + 1 = 6</span><br><span class="line"></span><br><span class="line"><span class="emphasis">_ = 0</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">dp = [</span></span><br><span class="line"><span class="emphasis">    [False, False, False, False, False, False, False, False], </span></span><br><span class="line"><span class="emphasis">    [False, False, False, False, False, False, False, False], </span></span><br><span class="line"><span class="emphasis">    [False, False, False, False, False, False, False, False], </span></span><br><span class="line"><span class="emphasis">    [False, False, False, False, False, False, False, False] </span></span><br><span class="line"><span class="emphasis">    ]</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">dp[<span class="string">0</span>][<span class="symbol">0</span>] = True</span></span><br><span class="line"><span class="emphasis">dp = [</span></span><br><span class="line"><span class="emphasis">    [True, False, False, False, False, False, False, False], </span></span><br><span class="line"><span class="emphasis">    [False, False, False, False, False, False, False, False], </span></span><br><span class="line"><span class="emphasis">    [False, False, False, False, False, False, False, False], </span></span><br><span class="line"><span class="emphasis">    [False, False, False, False, False, False, False, False] </span></span><br><span class="line"><span class="emphasis">    ]</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">j = 2   </span></span><br><span class="line"><span class="emphasis">dp[<span class="string">0</span>][<span class="symbol">j</span>] = dp[<span class="string">0</span>][<span class="symbol">j - 2</span>]</span></span><br><span class="line"><span class="emphasis">dp[<span class="string">0</span>][<span class="symbol">2</span>] = dp[<span class="string">0</span>][<span class="symbol">2 - 2</span>]</span></span><br><span class="line"><span class="emphasis">dp[<span class="string">0</span>][<span class="symbol">2</span>] = dp[<span class="string">0</span>][<span class="symbol">0</span>]</span></span><br><span class="line"><span class="emphasis">p[j - 1] == '*'</span></span><br><span class="line"><span class="emphasis">p[2 - 1] == '*'</span></span><br><span class="line"><span class="emphasis">p[1] == '*'</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">j = 4</span></span><br><span class="line"><span class="emphasis">dp[<span class="string">0</span>][<span class="symbol">4</span>] = dp[<span class="string">0</span>][<span class="symbol">4 - 2</span>]</span></span><br><span class="line"><span class="emphasis">dp[<span class="string">0</span>][<span class="symbol">4</span>] = dp[<span class="string">0</span>][<span class="symbol">2</span>]</span></span><br><span class="line"><span class="emphasis">p[j - 1] == '*'</span></span><br><span class="line"><span class="emphasis">p[4 - 1] == '*'</span></span><br><span class="line"><span class="emphasis">p[3] == '*'</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">i = 1</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">    j = 1</span></span><br><span class="line"><span class="emphasis">    p[j - 1] == p[1 - 1] == p[0] = 'a' != '*'</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">    dp[<span class="string">i - 1</span>][<span class="symbol">j - 1</span>] = dp[<span class="string">1 - 1</span>][<span class="symbol">1 - 1</span>]  = dp[<span class="string">0</span>][<span class="symbol">0</span>] = True</span></span><br><span class="line"><span class="emphasis">    s[i - 1] = s[1 - 1] == s[0] = 'a' = p[1 - 1] = p[0]</span></span><br><span class="line"><span class="emphasis">    dp[<span class="string">i</span>][<span class="symbol">j</span>] = dp[<span class="string">1</span>][<span class="symbol">1</span>] = True</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">    dp = [</span></span><br><span class="line"><span class="emphasis">        [True, False, False, False, False, False, False, False], </span></span><br><span class="line"><span class="emphasis">        [False, True, False, False, False, False, False, False], </span></span><br><span class="line"><span class="emphasis">        [False, False, False, False, False, False, False, False], </span></span><br><span class="line"><span class="emphasis">        [False, False, False, False, False, False, False, False] </span></span><br><span class="line"><span class="emphasis">        ]</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">    j = 2</span></span><br><span class="line"><span class="emphasis">    p[j - 1] == p[2 - 1] == p[1] = 'b' != '*'</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">    dp[<span class="string">i - 1</span>][<span class="symbol">j - 1</span>] = dp[<span class="string">1 - 1</span>][<span class="symbol">2 - 1</span>]  = dp[<span class="string">0</span>][<span class="symbol">1</span>] = True</span></span><br><span class="line"><span class="emphasis">    s[i - 1] = s[1 - 1] == s[0] = 'a' != p[2 - 1] = p[1] = 'b'</span></span><br><span class="line"><span class="emphasis">    False</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">    dp[<span class="string">i - 1</span>][<span class="symbol">j - 1</span>] = dp[<span class="string">1 - 1</span>][<span class="symbol">2 - 1</span>] = dp[<span class="string">0</span>][<span class="symbol">1</span>] = False</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">    j = 3</span></span><br><span class="line"><span class="emphasis">    p[j - 1] == p[3 - 1] == p[2] = '*'</span></span><br><span class="line"><span class="emphasis">    dp[<span class="string">i</span>][<span class="symbol">j - 2</span>] = dp[<span class="string">1</span>][<span class="symbol">3 - 2</span>] = dp[<span class="string">1</span>][<span class="symbol">1</span>] = True</span></span><br><span class="line"><span class="emphasis">    dp[<span class="string">i</span>][<span class="symbol">j</span>] = dp[<span class="string">1</span>][<span class="symbol">3</span>] = True</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">    dp = [</span></span><br><span class="line"><span class="emphasis">        [True, False, False, False, False, False, False, False], </span></span><br><span class="line"><span class="emphasis">        [False, True, False, True, False, False, False, False], </span></span><br><span class="line"><span class="emphasis">        [False, False, False, False, False, False, False, False], </span></span><br><span class="line"><span class="emphasis">        [False, False, False, False, False, False, False, False] </span></span><br><span class="line"><span class="emphasis">        ]</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">    j = 4</span></span><br><span class="line"><span class="emphasis">    p[j - 1] == p[4 - 1] == p[3] = '.' != '*'</span></span><br><span class="line"><span class="emphasis">    dp[<span class="string">i - 1</span>][<span class="symbol">j - 1</span>] = dp[<span class="string">1 - 1</span>][<span class="symbol">4 - 1</span>] = dp[<span class="string">0</span>][<span class="symbol">3</span>] = False</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">    j = 5</span></span><br><span class="line"><span class="emphasis">    p[j - 1] == p[5 - 1] == p[4] = '*'</span></span><br><span class="line"><span class="emphasis">    dp[<span class="string">i</span>][<span class="symbol">j - 2</span>] = dp[<span class="string">1</span>][<span class="symbol">5 - 2</span>] = dp[<span class="string">1</span>][<span class="symbol">3</span>] = True</span></span><br><span class="line"><span class="emphasis">    dp[<span class="string">i</span>][<span class="symbol">j</span>] = dp[<span class="string">1</span>][<span class="symbol">5</span>] = True</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">    dp = [</span></span><br><span class="line"><span class="emphasis">        [True, False, False, False, False, False], </span></span><br><span class="line"><span class="emphasis">        [False, True, False, True, False, True], </span></span><br><span class="line"><span class="emphasis">        [False, False, False, False, False, False], </span></span><br><span class="line"><span class="emphasis">        [False, False, False, False, False, False] </span></span><br><span class="line"><span class="emphasis">        ]</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">i = 2</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">    j = 1</span></span><br><span class="line"><span class="emphasis">    p[j - 1] == p[1 - 1] == p[0] = 'a' != '*'</span></span><br><span class="line"><span class="emphasis">    dp[<span class="string">i - 1</span>][<span class="symbol">j - 1</span>] = dp[<span class="string">2 - 1</span>][<span class="symbol">1 - 1</span>]  = dp[<span class="string">1</span>][<span class="symbol">0</span>] = False</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">    j = 2</span></span><br><span class="line"><span class="emphasis">    p[j - 1] == p[2 - 1] == p[1] = 'b' != '*'</span></span><br><span class="line"><span class="emphasis">    dp[<span class="string">i - 1</span>][<span class="symbol">j - 1</span>] = dp[<span class="string">2 - 1</span>][<span class="symbol">2 - 1</span>]  = dp[<span class="string">1</span>][<span class="symbol">1</span>] = True</span></span><br><span class="line"><span class="emphasis">    s[i - 1] = s[2 - 1] = s[1] = 'a' != p[j - 1] = p[2 - 1] = p[1] = 'b'</span></span><br><span class="line"><span class="emphasis">    False</span></span><br><span class="line"><span class="emphasis">    p[j - 1] = p[2 - 1] = p[1] = 'b' != '.'</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">    j = 3</span></span><br><span class="line"><span class="emphasis">    dp[<span class="string">i</span>][<span class="symbol">j - 2</span>] = dp[<span class="string">2</span>][<span class="symbol">3 - 2</span>] = dp[<span class="string">2</span>][<span class="symbol">1</span>] = False</span></span><br><span class="line"><span class="emphasis">    dp[<span class="string">i</span>][<span class="symbol">j - 1</span>] = dp[<span class="string">2</span>][<span class="symbol">3 - 1</span>] = dp[<span class="string">2</span>][<span class="symbol">2</span>] = False</span></span><br><span class="line"><span class="emphasis">    dp[<span class="string">i - 1</span>][<span class="symbol">j</span>] = dp[<span class="string">2 - 1</span>][<span class="symbol">3</span>] = dp[<span class="string">1</span>][<span class="symbol">3</span>] = False</span></span><br><span class="line"><span class="emphasis"></span></span><br></pre></td></tr></tbody></table></figure>

<p>利用布尔运算实现简短长度</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isMatch</span>(<span class="params">self, s: str, p: str</span>) -&gt; bool:</span></span><br><span class="line">        m, n = len(s) + <span class="number">1</span>, len(p) + <span class="number">1</span></span><br><span class="line">        dp = [[<span class="literal">False</span>] * n <span class="keyword">for</span> _ <span class="keyword">in</span> range(m)]</span><br><span class="line">        dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="literal">True</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">2</span>, n, <span class="number">2</span>):</span><br><span class="line">            dp[<span class="number">0</span>][j] = dp[<span class="number">0</span>][j - <span class="number">2</span>] <span class="keyword">and</span> p[j - <span class="number">1</span>] == <span class="string">'*'</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, m):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> range(<span class="number">1</span>, n):</span><br><span class="line">                dp[i][j] = dp[i][j - <span class="number">2</span>] <span class="keyword">or</span> dp[i][j - <span class="number">1</span>] <span class="keyword">or</span> dp[i - <span class="number">1</span>][j] <span class="keyword">and</span> (s[i - <span class="number">1</span>] == p[j - <span class="number">2</span>] <span class="keyword">or</span> p[j - <span class="number">2</span>] == <span class="string">'.'</span>) \</span><br><span class="line">                           <span class="keyword">if</span> p[j - <span class="number">1</span>] == <span class="string">'*'</span> <span class="keyword">else</span> \</span><br><span class="line">                           dp[i - <span class="number">1</span>][j - <span class="number">1</span>] <span class="keyword">and</span> (p[j - <span class="number">1</span>] == <span class="string">'.'</span> <span class="keyword">or</span> s[i - <span class="number">1</span>] == p[j - <span class="number">1</span>])</span><br><span class="line">        <span class="keyword">return</span> dp[<span class="number">-1</span>][<span class="number">-1</span>]</span><br></pre></td></tr></tbody></table></figure><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/Leetcode/" rel="tag"># Leetcode</a>
              <a href="/tags/%E5%89%91%E6%8C%87offer/" rel="tag"># 剑指offer</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2020/08/21/leetcode-sql/" rel="prev" title="leetcode sql">
                  <i class="fa fa-chevron-left"></i> leetcode sql
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2020/08/21/vue/" rel="next" title="HTML">
                  HTML <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>





<script src="/js/comments.js"></script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">外心人D</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
