<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.0.2">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<meta name="hexo-config" content="{&quot;hostname&quot;:&quot;bubbleboy11.github.io&quot;,&quot;root&quot;:&quot;/&quot;,&quot;images&quot;:&quot;/images&quot;,&quot;scheme&quot;:&quot;Muse&quot;,&quot;version&quot;:&quot;8.3.0&quot;,&quot;exturl&quot;:false,&quot;sidebar&quot;:{&quot;position&quot;:&quot;left&quot;,&quot;display&quot;:&quot;post&quot;,&quot;padding&quot;:18,&quot;offset&quot;:12},&quot;copycode&quot;:true,&quot;bookmark&quot;:{&quot;enable&quot;:false,&quot;color&quot;:&quot;#222&quot;,&quot;save&quot;:&quot;auto&quot;},&quot;fancybox&quot;:false,&quot;mediumzoom&quot;:false,&quot;lazyload&quot;:false,&quot;pangu&quot;:false,&quot;comments&quot;:{&quot;style&quot;:&quot;tabs&quot;,&quot;active&quot;:null,&quot;storage&quot;:true,&quot;lazyload&quot;:false,&quot;nav&quot;:null},&quot;motion&quot;:{&quot;enable&quot;:true,&quot;async&quot;:false,&quot;transition&quot;:{&quot;post_block&quot;:&quot;fadeIn&quot;,&quot;post_header&quot;:&quot;fadeInDown&quot;,&quot;post_body&quot;:&quot;fadeInDown&quot;,&quot;coll_header&quot;:&quot;fadeInLeft&quot;,&quot;sidebar&quot;:&quot;fadeInUp&quot;}},&quot;prism&quot;:false,&quot;i18n&quot;:{&quot;placeholder&quot;:&quot;搜索...&quot;,&quot;empty&quot;:&quot;没有找到任何搜索结果：${query}&quot;,&quot;hits_time&quot;:&quot;找到 ${hits} 个搜索结果（用时 ${time} 毫秒）&quot;,&quot;hits&quot;:&quot;找到 ${hits} 个搜索结果&quot;}}">
<meta name="description" content="本博客大多内容为慕课和网上博客，并非原创">
<meta property="og:type" content="website">
<meta property="og:title" content="外心人D的博客">
<meta property="og:url" content="https://bubbleboy11.github.io/page/8/index.html">
<meta property="og:site_name" content="外心人D的博客">
<meta property="og:description" content="本博客大多内容为慕课和网上博客，并非原创">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="外心人D">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://bubbleboy11.github.io/page/8/">



<meta name="hexo-config-page" content="{&quot;sidebar&quot;:&quot;&quot;,&quot;isHome&quot;:true,&quot;isPost&quot;:false,&quot;lang&quot;:&quot;zh-CN&quot;}">
<meta name="hexo-config-calendar" content="">
<script data-pjax src="/js/load-config.js"></script>
  <title>外心人D的博客</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="外心人D的博客" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism.css" type="text/css"></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">外心人D的博客</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">外心人D</p>
  <div class="site-description" itemprop="description">本博客大多内容为慕课和网上博客，并非原创</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">214</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">20</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">36</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/wsgi/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/wsgi/" class="post-title-link" itemprop="url">WSGI</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-04-25 08:18:41" itemprop="dateModified" datetime="2021-04-25T08:18:41Z">2021-04-25</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/web/" itemprop="url" rel="index"><span itemprop="name">web</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>WSGI(Web Server Gateway Interface (pep3333) web服务器网关接口<br>为什么Flask/Django都可以运行部署在 uwsgi / gunicorn 之上？<br>存在意义：是 Python的 web server 跟 web application 或者 web 框架 之间定义的一种交互规范。，因为有了规范之后，如果遵守这个规范就，能让任意的Python Web框架运行在 web server上，这就是所说的WSGI。所有的web 应用都可以跑在实现相同的WSGI服务器上。</p>
<p>PEP 3333 - Python Web服务器网关接口：web服务器和Python web应用程序或框架之间拟议的标准接口，以促进跨各种web服务器的web应用程序可移植性。</p>
<p>出现的意义：解决 Python Web Server 乱象 mod_python，CGI，FastCGI等</p>
<p>Web框架致力于如何生成HTML代码，而Web服务器用于处理和响应HTTP请求。<br>Web框架和Web服务器之间的通信，需要一套双方都遵守的接口协议。WSGI协议就是用来统一这两者的接口的。<br>解决的问题：描述了Web Server (Gunicorn / uWSGI)如何与 web框架(Flask/Django)交互，Web框架如何处理请求</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install uwsgi</span><br></pre></td></tr></tbody></table></figure>





<p>2.WSGI规范定义</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">application</span>(<span class="params">environ, start_response</span>)</span></span><br></pre></td></tr></tbody></table></figure>
<p>① application 就是 WSGI app，一个可调用对象</p>
<p>② 参数：<br>     environ：一个包含 WSGI 环境信息的字典，由 WSGI 服务器提供，常见的 key 有 PATH_INFO，QUERY_STRING等</p>
<pre><code> start_response：生成 WSGI 响应的回调函数，接收两个参数，status 和 headers
</code></pre>
<p>③ 函数返回响应体的可迭代对象 </p>
<p>编写一个简单兼容 WSGI 的 web应用并运行</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">myapp</span>(<span class="params">environ, start_response</span>):</span></span><br><span class="line">    print(environ[<span class="string">'QUERY_STRING'</span>])  <span class="comment"># 打印环境变量参数, 建议打印出来这个字典看看有哪些参数</span></span><br><span class="line">    status = <span class="string">'200 OK'</span>  <span class="comment"># 定义状态码</span></span><br><span class="line">    headers = [(<span class="string">'Content-Type'</span>, <span class="string">'text/html; charset=utf8'</span>)]  <span class="comment"># 返回的响应头</span></span><br><span class="line"></span><br><span class="line">    start_response(status, headers)  <span class="comment"># 调用回调函数</span></span><br><span class="line">    <span class="keyword">return</span> [<span class="string">b'&lt;h1&gt;Hello World&lt;/h1&gt;'</span>]  <span class="comment"># 返回可迭代对象，同时返回字节</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="keyword">from</span> wsgiref.simple_server <span class="keyword">import</span> make_server  <span class="comment"># 引入 web server</span></span><br><span class="line">    httpd = make_server(<span class="string">'127.0.0.1'</span>, <span class="number">8888</span>, myapp)  <span class="comment"># 设置server IP/端口号等</span></span><br><span class="line">    httpd.serve_forever()  <span class="comment"># 启动server</span></span><br></pre></td></tr></tbody></table></figure>

<p>运行WSGI Server (Web Server)代码后，在浏览器访问 127.0.0.1:8888 ,网页返回Hello World。</p>
<p>到这里没有使用任何框架就实现了一个简单的 web 应用。</p>
<p>3). web server(WSGI 服务器) 把 HTTP参数信息通过 environ 传递给框架<br>在浏览器输入 <a target="_blank" rel="noopener" href="http://127.0.0.1:6666/?name=ipython">http://127.0.0.1:6666/?name=ipython</a></p>
<p>命令端窗口返回内容</p>
<figure class="highlight accesslog"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">name=ipython</span><br><span class="line"><span class="number">127.0.0.1</span> - - <span class="string">[19/Dec/2020 18:06:31]</span> <span class="string">"<span class="keyword">GET</span> /?name=ipython HTTP/1.1"</span> <span class="number">200</span> <span class="number">20</span></span><br><span class="line"></span><br><span class="line"><span class="number">127.0.0.1</span> - - <span class="string">[19/Dec/2020 18:06:32]</span> <span class="string">"<span class="keyword">GET</span> /favicon.ico HTTP/1.1"</span> <span class="number">200</span> <span class="number">20</span></span><br></pre></td></tr></tbody></table></figure>
<p>平常在使用web框架的时候，可以通过web框架提供的一些函数获取到用户信息，如查询字符串。其实这个就是框架去把这个一些请求的信息，从environment ( environ )里面拿出来之后给你。</p>
<p>3). 使用Tornado的时候，可以去初始化一个application，然后启动这个application</p>
<pre class=" language-python"><code class="language-python"><span class="token keyword">class</span> <span class="token class-name">Application</span><span class="token punctuation">(</span>object<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">__init__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> routers<span class="token punctuation">,</span> <span class="token operator">**</span>kwargs<span class="token punctuation">)</span><span class="token punctuation">:</span>
        self<span class="token punctuation">.</span>routers <span class="token operator">=</span> routers
        
    <span class="token comment" spellcheck="true"># 把定义的可调用对象放入类的call方法，实现WSGI的规定</span>
    <span class="token keyword">def</span> <span class="token function">__call__</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> environ<span class="token punctuation">,</span> start_response<span class="token punctuation">)</span><span class="token punctuation">:</span>  
        <span class="token keyword">try</span><span class="token punctuation">:</span>
            request <span class="token operator">=</span> Request<span class="token punctuation">(</span>environ<span class="token punctuation">)</span>
            callback<span class="token punctuation">,</span> args <span class="token operator">=</span> routers<span class="token punctuation">.</span>match<span class="token punctuation">(</span>request<span class="token punctuation">.</span>path<span class="token punctuation">)</span>
            response <span class="token operator">=</span> callback<span class="token punctuation">(</span>request<span class="token punctuation">,</span> <span class="token operator">*</span>args<span class="token punctuation">)</span>
        <span class="token keyword">except</span> NotFoundError<span class="token punctuation">:</span>
            response <span class="token operator">=</span> Response<span class="token punctuation">(</span><span class="token string">"&lt;h1>Not found&lt;/h1>"</span><span class="token punctuation">,</span> status<span class="token operator">=</span><span class="token number">404</span><span class="token punctuation">)</span>
        start_response<span class="token punctuation">(</span>response<span class="token punctuation">.</span>status<span class="token punctuation">,</span> response<span class="token punctuation">.</span>headers<span class="token punctuation">.</span>items<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token keyword">return</span> iter<span class="token punctuation">(</span>response<span class="token punctuation">)</span>
</code></pre>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/xss/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/xss/" class="post-title-link" itemprop="url">XSS(Cross Site Scripting)</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-04-02 12:24:45" itemprop="dateModified" datetime="2021-04-02T12:24:45Z">2021-04-02</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Markdown/" itemprop="url" rel="index"><span itemprop="name">Markdown</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="XSS-Cross-Site-Scripting-跨站脚本。因为CSS名字被层叠样式表给占用，所以就改成XSS。"><a href="#XSS-Cross-Site-Scripting-跨站脚本。因为CSS名字被层叠样式表给占用，所以就改成XSS。" class="headerlink" title="XSS Cross Site Scripting, 跨站脚本。因为CSS名字被层叠样式表给占用，所以就改成XSS。"></a>XSS Cross Site Scripting, 跨站脚本。因为CSS名字被层叠样式表给占用，所以就改成XSS。</h3><p>实施XSS攻击需要具备两个条件：<br>　　一、需要向web页面注入恶意代码；<br>　　二、这些恶意代码能够被浏览器成功的执行。<br>当我们的用户访问一个站点的时候，在渲染页面的时候，恶意用户将代码植入到提供给其他用户使用的页面中，出现了一些我们没有预期到的脚本的指令，这些指令是恶意的，未经转义的恶意代码输出到其他用户的浏览器被执行，这样就是产生了xss攻击。用户浏览页面的时候嵌入页面中的脚本( js )会被执行，攻击用户。</p>
<p>为什么能盗取获取用户的信息，比如cookie，删除用户本地的一些东西<br>通过document.cookie把这个Cookie发送到攻击者的服务器上，这样他就能拿到用户的cookie可以想干嘛就干嘛。</p>
<pre><code>   XSS攻击主要分为两类：反射型(非持久型)，存储型(持久型)。反射型攻击方式就是把可以执行的 js脚本放到URL参数里面。存储型的攻击方式通过评论的这种方式，加载评论的时候把它写入到评论里面，它被后台存储之后，用户再打开的时候就会执行评论里面的脚本。

    (1) .评论框中输入script 代码&lt;script&gt;alert('hello')&lt;/script&gt;, 一段未经转义过的 JS 代码被插入到页面之后，其他用户浏览的时候也会去执行它。
    如果是黑客它插一段JS代码，把用户cookie的值发送到指定的服务器上，这样他就能拿到用户的cookie值想干嘛就可以干嘛。
     我们知道HTTP协议它是没有状态，所以很多网站是通过Cookie去识别用户的，一旦黑客获取到你这个cookie就相当于拥有了你的账户就可以随便使用你这个账号了。这是个什么类型的 xss? 这个是把提交的脚本插入到数据库里面，所以这个是存储型的攻击方式。

    (2).有一些后端它是通过URL参数来去获取的，有时候会把脚本放入URL参数里面。如：http://test.com/xss/example.php?name=&lt;script&gt;alert(" hey! ")&lt;/script&gt;，然后通过邮件方式发送给用户，诱导用户去点击，这就是非存储形式的 XSS。
</code></pre>
<p>2.XSS利用 js的危害<br>盗用用户 cookie，获取敏感信息<br>利用用户私人账号执行一些违法操作，比如盗取个人或者商业资料，执行一些隐私操作<br>甚至可以在一些访问量很大的网站上实现DDoS攻击</p>
<p>3.如何防范 XSS？<br>  不要相信用户的任何输入，因为只要是用户的输入都有可能被黑客精心的构造来去做一些不好的事。</p>
<p>过滤(针对用户的输入和URL中参数)。针对敏感标签<script>、<img>、<a>等把它过滤掉，假如都没有script标签了也就没有办法执行 JS 代码了。</p>
<p>转义。对常见符号( “&amp;”, “&lt;” and “&gt;”)转义，现在很多模板引擎已经实现自动转义，不需要手动实现这个功能。 (python3 html.escape)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> html</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>html.escape(<span class="string">&#x27;&lt;script&gt;&#x27;</span>) <span class="comment"># 转义操作</span></span><br><span class="line"><span class="string">&#x27;&amp;lt;script&amp;gt;&#x27;</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>html.unescape(html.escape(<span class="string">&#x27;&lt;script&gt;&#x27;</span>)) <span class="comment"># 反转义操作</span></span><br><span class="line"><span class="string">&#x27;&lt;script&gt;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>设置HttpOnly 禁止浏览器JS脚本访问和操作 Document.cookie。这个时候也就没办法使用JS脚本搞破坏了。浏览器禁止js 脚本访问和修改 cookie。但是发送给当前域名的请求里依然是有这个 cookie 的，后端可以通过 cookie 里的信息识别用户。</p>
</script></p><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/assert/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/assert/" class="post-title-link" itemprop="url">python assert</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-04-02 12:24:45" itemprop="dateModified" datetime="2021-04-02T12:24:45Z">2021-04-02</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p><code>assert condition, message</code><br>condition为True时，程序继续运行，下一个语句会被执行<br>condition为False时将会抛出AssertionError异常，该异常的信息为message</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">divide</span>(<span class="params">num1, num2</span>):</span></span><br><span class="line">    <span class="keyword">assert</span> num2 != <span class="number">0</span>, <span class="string">"Divisor cannot be zero"</span></span><br><span class="line">    <span class="keyword">return</span> num1 / num2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        a2 = divide(<span class="number">12</span>, <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">except</span> AssertionError <span class="keyword">as</span> e:</span><br><span class="line">        print(e)</span><br><span class="line">    <span class="comment"># Divisor cannot be zero</span></span><br></pre></td></tr></tbody></table></figure>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/b-tree/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/b-tree/" class="post-title-link" itemprop="url">HTML</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-04-02 12:24:46" itemprop="dateModified" datetime="2021-04-02T12:24:46Z">2021-04-02</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Markdown/" itemprop="url" rel="index"><span itemprop="name">Markdown</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>查找结构进化史<br>线性查找：一个一个去找，实际上是全表扫描，优点实现简单；缺点查找太慢。<br>二分查找：需要有序结构；优点实现简单；缺点要求是有序的，插入特别慢。<br>哈希(Hash):优点查询快；缺点占用空间，不太适合存储大规模的数据<br>二叉查找树(Binary Search Tree)：优点插入和查询很快(log(n))；缺点无法存储大规模数据，复杂度退化(二叉查找树只往一边增长，退化成线性结构)，<br>树型查找结构，如二叉搜索树、平衡树、多路平衡查找树。）<br>平衡树:解决bst退化的问题,树是平衡的;节点非常多的时候,依然树高很高<br>多路查找树：一个父亲多个孩子节点(度)；节点过多树高不会特别深( 树的查找跟树高成正比 )<br>多路平衡查找树(B-Tree)：(每个结点最多 m (m&gt;=2) )个孩子，称为m 阶或者度，当度超的时候会执行分裂操作，该B-Tree称为m阶的多路平衡查找树。<br>叶结点具有相同的深度<br>结点中的数据 key 从到右是递增的。<br>B-Tree没有办法实现范围查找<br>一个结点可以有多个孩子，每个节点 key 从左到右都是递增的。<br>阶就是包含最大孩子个数，如结点(25,30,31,35)，该B-Tree是一颗4阶多路平衡查找树。</p>
<p>B+树 是 B-Tree的变形<br>只在叶子结点带有指向记录的指针。<br>B+树只在叶子结点存储数据，其它非叶子结点可以存储更过孩子(对B-Tree的优化)。</p>
<p>叶子结点通过指针相连。叶子结点里面有从左到右指针，它是一个双向指针，通过这个指针就可以非常方便实现范围查询。</p>
<p>是不是树的度越多越好呢？<br>如果树的阶越高，树高就会越小，因为每个孩子结点越多整体的树高就越小。不是每个结点的阶越大就越好，硬盘是以块来存储的，内存的基本管理单位是页，实际上阶是根据磁盘块大小来去确定的，主要是根据操作系统管理硬件有关。为了让操作系统更好的来去读取和缓存数据，以磁盘块的大小来确定B+树，一个磁盘块可以存储多少的孩子也就是多少阶。</p>
<p>MySQL索引的原理<br>Mysql 实际使用的 B+Tree作为索引的数据结构。<br>MySQL索引是用一种叫做聚簇索引的数据结构实现的<br>聚簇索引是一种数据存储方式，它实际上是在同一个结构中保存了B+树索引和数据行，<br>InnoDB表是按照聚簇索引组织的（类似于Oracle的索引组织表）。</p>
<p>B+ 树是一种树数据结构，是一个n叉排序树，每个节点通常有多个孩子，一棵B+树包含根节点、内部节点和叶子节点。根节点可能是一个叶子节点，也可能是一个包含两个或两个以上孩子节点的节点。<br>B+ 树通常用于数据库和操作系统的文件系统中。NTFS, ReiserFS, NSS, XFS, JFS, ReFS 和BFS等文件系统都在使用B+树作为元数据索引。<br>B+ 树的特点是能够保持数据稳定有序，其插入与修改拥有较稳定的对数时间复杂度。B+ 树元素自底向上插入。<br>InnoDB通过主键聚簇数据，如果没有定义主键，会选择一个唯一的非空索引代替，如果没有这样的索引，会隐式定义个主键作为聚簇索引。</p>
<p>对于普通的堆组织表来说（右图），表数据和索引是分别存储的，主键索引和二级索引存储上没有任何区别。<br>而对于聚簇索引表来说（左图），表数据是和主键一起存储的，主键索引的叶结点存储行数据，二级索引的叶结点存储行的主键值。<br>聚簇索引表最大限度地提高了I/O密集型应用的性能，但它也有以下几个限制：</p>
<p>1）插入速度严重依赖于插入顺序，按照主键的顺序插入是最快的方式，否则将会出现页分裂，严重影响性能。因此，对于InnoDB表，我们一般都会定义一个自增的ID列为主键。<br>2）更新主键的代价很高，因为将会导致被更新的行移动。因此，对于InnoDB表，我们一般定义主键为不可更新。<br>3）二级索引访问需要两次索引查找，第一次找到主键值，第二次根据主键值找到行数据。<br>二级索引的叶节点存储的是主键值，而不是行指针，这是为了减少当出现行移动或数据页分裂时二级索引的维护工作，但会让二级索引占用更多的空间。</p>
<p>MyISAM索引实现？<br>MyISAM存储引擎使用B+Tree作为索引结构，叶节点的data域存放的是数据记录的地址。MyISAM的索引方式也叫做非聚簇索引的，之所以这么称呼是为了与InnoDB的聚簇索引区分。</p>
<p>MyISAM索引与InnoDB索引的区别？<br>InnoDB索引是聚簇索引，MyISAM索引是非聚簇索引。<br>InnoDB的主键索引的叶子节点存储着行数据，因此主键索引非常高效。<br>MyISAM索引的叶子节点存储的是行数据地址，需要再寻址一次才能得到数据。<br>InnoDB非主键索引的叶子节点存储的是主键和其他带索引的列数据，因此查询时做到覆盖索引会非常高效。</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/call/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/call/" class="post-title-link" itemprop="url">HTML</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-04-02 12:24:45" itemprop="dateModified" datetime="2021-04-02T12:24:45Z">2021-04-02</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Markdown/" itemprop="url" rel="index"><span itemprop="name">Markdown</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>模拟可调用对象</p>
<figure class="highlight plain"><figcaption><span>args...])``` 此方法会在实例作为一个函数被“调用”时被调用；如果定义了此方法，则 ```x(arg1, arg2, ...)``` 就相当于 ```x.__call__(arg1, arg2, ...)``` 的快捷方式。 也就是说在类被实例化成对象后，对象可以像函数一样被调用。</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">我们可以将它们作为输入传递到其他的函数/方法中并调用它们,正如我们调用一个正常的函数那样。而类中的call()函数的意义正在于此.为了将一个类实例当作函数调用,我们需要再类中事先call()方法.假设x是X类的一个实例.调用x.__call__(1,2)等同于调用x(1,2).这个实例本身在这里相当于一个函数.</span><br><span class="line"></span><br><span class="line">下述用例可以通过，这里我定义了__call__方法，如果sorted函数生效时调用了__call__方法，那上述写法一定会出错。</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line">class LargerNumKey:</span><br><span class="line">    def __init__(self, value):</span><br><span class="line">        self.value = value</span><br><span class="line"></span><br><span class="line">    def __lt__(self, other):</span><br><span class="line">        return self.value + other.value &gt; other.value + self.value</span><br><span class="line"></span><br><span class="line">    def __call__(self, *args, **kwargs):</span><br><span class="line">        print('call')</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">class Solution:</span><br><span class="line">    def largestNumber(self, nums):</span><br><span class="line">        ans = ''.join(sorted(map(str, nums), key=LargerNumKey))</span><br><span class="line">        return '0' if ans[0] == '0' else ans</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == "__main__":</span><br><span class="line">    arr = [10, 3, 20]</span><br><span class="line">    sl = Solution()</span><br><span class="line">    l = LargerNumKey(3)</span><br><span class="line">    l1 = l()</span><br><span class="line">    print(l == l1)</span><br><span class="line">    print(sl.largestNumber(arr))</span><br><span class="line">    # call</span><br><span class="line">    # False</span><br><span class="line">    # 32010</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight angelscript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arr = [<span class="number">10</span>, <span class="number">3</span>, <span class="number">20</span>]</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/dango-auth/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/dango-auth/" class="post-title-link" itemprop="url">django-auth</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-04-02 12:24:45" itemprop="dateModified" datetime="2021-04-02T12:24:45Z">2021-04-02</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/django/" itemprop="url" rel="index"><span itemprop="name">django</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="django-auth模块"><a href="#django-auth模块" class="headerlink" title="django-auth模块"></a>django-auth模块</h3><p>django-auth用户认证组件(重点)<br>实现用户注册、登录及权限验证，<br>通过取表单数据跟数据库对应表存储的值做比对<br>用于判断当前的用户是否合法，并跳转到登陆成功或失败页面。<br>功能主要有：</p>
<h3 id="自带用户认证授权系统"><a href="#自带用户认证授权系统" class="headerlink" title="自带用户认证授权系统"></a>自带用户认证授权系统</h3><ul>
<li>用户：记录用户的登录账号密码等信息，        </li>
<li>权限：用户是否有权限访问某一资源（执行操作）</li>
<li>组：对多个用户进行权限管理<br>登录密码：加密后的密码存储<br>自带后台管理</li>
</ul>
<h4 id="安装及配置"><a href="#安装及配置" class="headerlink" title="安装及配置"></a>安装及配置</h4><p><code>setting.py</code></p>
<ul>
<li><p>第一步：INSTALLED_APPS安装应用</p>
<ul>
<li><code>django.contrib.auth</code></li>
<li><code>django.contrib.contenttypes</code><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INSTALLED_APPS = [</span><br><span class="line">    <span class="string">'django.contrib.auth'</span>,</span><br><span class="line">    <span class="string">'django.contrib.contenttypes'</span>,</span><br><span class="line">]</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
</li>
<li><p>第二步：MIDDLEWARE中间件配置</p>
<ul>
<li><code>SessionMiddleware</code>  用户登录</li>
<li><code>AuthenticationMiddleware</code> 用户在不同url对应的视图之间切换<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">MIDDLEWARE = [</span><br><span class="line">    <span class="string">'django.contrib.sessions.middleware.SessionMiddleware'</span>,</span><br><span class="line">    <span class="string">'django.contrib.auth.middleware.AuthenticationMiddleware'</span>,</span><br><span class="line">]</span><br></pre></td></tr></tbody></table></figure>
</li>
</ul>
</li>
<li><p>第三步：migrate同步模型到数据库</p>
</li>
<li><p>用户模型</p>
</li>
<li><p>用户认证、登录、退出等<br>分为两种用户</p>
<ul>
<li>游客(AnonymousUser )</li>
<li>注册用户（User） </li>
</ul>
</li>
</ul>
<p>User常用属性</p>
<figure class="highlight plain"><figcaption><span>对应ORM的模型或数据库中的一条记录</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">属性    描述</span><br><span class="line">```username```    用户名</span><br><span class="line">```password```    登录密码</span><br><span class="line">email    电子邮箱</span><br><span class="line">```is_staff```    是否为内部员工，true可以登录django后台管理系统</span><br><span class="line">```is_active```    是否为激活用户，true可以登录系统</span><br><span class="line">```is_superuser```    是否为超级管理员，可以在线管理所有的数据表</span><br><span class="line">```is_authenticated```    用户是否已登录的只读属性</span><br><span class="line">```is_anonymous```    用户登录是否已失效的只读属性</span><br><span class="line">```last_login```    最后登录时间</span><br><span class="line">```date_joined```    注册时间</span><br><span class="line">```groups```    用户组多对多关系</span><br><span class="line">```user_permissions```    用户权限多对多关系</span><br><span class="line"></span><br><span class="line">- 创建普通用户 命令行输入命令</span><br><span class="line">```bash</span><br><span class="line">python manage.py shell  // django控制台</span><br></pre></td></tr></tbody></table></figure>
<p>或者pycharm的<code>Python Console</code></p>
<p>引入用户</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.contrib.auth.models <span class="keyword">import</span> User</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">user = User.objects.create_user(<span class="string">'john'</span>,<span class="string">'john@example.com'</span>,<span class="string">'johnpassword'</span>)</span><br><span class="line">user = User.objects.create_user(<span class="string">'zhangsan'</span>,<span class="string">'zhangsan@example.com'</span>,<span class="string">'123456'</span>)</span><br></pre></td></tr></tbody></table></figure>
<p>能在<code>auth_user</code>表格中看到新加的用户，<code>is_staff</code>和<code>is_superuser</code>都是0</p>
<ul>
<li><p>使用命令行创建超级管理员</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt;python manage.py createsuperuser</span><br></pre></td></tr></tbody></table></figure>
<p>能在<code>auth_user</code>表格中看到新加的用户，<code>is_staff</code>和<code>is_superuser</code>都是1</p>
</li>
<li><p>在<code>auth_user</code>表格修改<code>is_staff</code>和<code>is_superuser</code>切换超级管理员和普通用户</p>
</li>
<li><p>获取用户对象</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; from django.contrib.auth.models import User</span><br><span class="line">&gt;&gt;&gt; u = User.objects.get(username=<span class="string">'john'</span>)</span><br><span class="line">&gt;&gt;&gt; u = User.objects.get(id=2)</span><br><span class="line">user = User.objects.get(username=<span class="string">'admin'</span>)</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>设置、修改用户的密码</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;python manage.py changepassword</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; u.set_password(<span class="string">'new password'</span>)</span><br><span class="line">&gt;&gt;&gt; u.set_password(<span class="string">'12345678'</span>)</span><br><span class="line">&gt;&gt;&gt; u.save()</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>检查用户的密码是否正确</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt; u.check_password(<span class="string">'my password'</span>)</span><br></pre></td></tr></tbody></table></figure>

</li>
</ul>
<figure class="highlight ruby"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;</span>python manage.py clearsessions 清除过期会话</span><br><span class="line"><span class="meta">&gt;&gt;</span>python manage.py collectstatic 收集依赖中的静态文件</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><p>后台管理<br>浏览器<code>http://127.0.0.1:8000/admin/</code></p>
</li>
<li><p>切换超级管理员和普通用户</p>
</li>
<li><p>用户管理、权限分配<br>普通用户名zhangsan-permission-group</p>
</li>
</ul>
<p><img src="/2020/08/21/dango-auth/user_permissons.png"><br><img src="/2020/08/21/dango-auth/user_permissons.png"></p>
<ul>
<li><p>判断用户是否具备某权限</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">request.user.has_perm(<span class="string">'foo.add_bar'</span>)</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>强制权限验证</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@permission_required('foo.add_bar')</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_view</span>(<span class="params">request</span>):</span></span><br><span class="line">  <span class="keyword">pass</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>命令行工具</p>
</li>
</ul>
<p>用户退出：<br>使用logout函数退出当前登录用户<br>Username (leave blank to use ‘rose’): admin<br>Email address: <a href="mailto:admin@exaple.com">admin@exaple.com</a><br>为了让 admin 界面管理某个数据模型，我们需要先注册该数据模型到 admin。<br>比如，我们之前在 TestModel 中已经创建了模型 Test 。</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.contrib.auth <span class="keyword">import</span> logout</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">logout_view</span>(<span class="params">request</span>):</span></span><br><span class="line">logout(request)</span><br><span class="line"><span class="comment"># 执行后面的操作</span></span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight plain"><figcaption><span>对象，代表当前登录的用户。</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">如果访问用户当前没有登录，```user```将被初始化为```django.contrib.auth.models.AnonymousUser```的实例。</span><br><span class="line">你可以通过```user```的```is_authenticated()```方法来辨别用户是否登录：</span><br><span class="line">```py</span><br><span class="line">if request.user.is_authenticated():</span><br><span class="line">    # Do something for logged-in users.</span><br><span class="line">else:</span><br><span class="line">    # Do something for anonymous users.</span><br></pre></td></tr></tbody></table></figure>
<p>只有激活Django中的AuthenticationMiddleware时该属性才可用</p>
<p>登录及退出<br>步骤一：认证验证用户名和密码是否匹配</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">user = authenticate(username=<span class="string">'john'</span>,password=<span class="string">'secret'</span>)</span><br></pre></td></tr></tbody></table></figure>

<p>步骤二：判断认证后的用户是否为None，不为None则表示用户认证通过<br>步骤三：调用login函数登录用户<br>login(request,user,backend=None)</p>
<ul>
<li><p>在视图中获取当前用户<code>request.user</code> 不必再次调用sql</p>
</li>
<li><p>   需要登录才可以访问的视图</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@login_required</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_view</span>(<span class="params">request</span>):</span></span><br><span class="line">  <span class="keyword">pass</span></span><br></pre></td></tr></tbody></table></figure></li>
</ul>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/django/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/django/" class="post-title-link" itemprop="url">django</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-05-01 01:57:19" itemprop="dateModified" datetime="2021-05-01T01:57:19Z">2021-05-01</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/django/" itemprop="url" rel="index"><span itemprop="name">django</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Django</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py // 查看相关命令</span><br></pre></td></tr></tbody></table></figure>

<p>路由规则</p>
<ul>
<li>/index/</li>
<li>/index/\d+</li>
<li>/index/(\d+)</li>
<li>/index/?P&lt;name(\d+)&gt;</li>
<li>include</li>
<li>反向生成url <ul>
<li><code>{% url "" %}</code></li>
<li>reverse(‘a1’,args = (1,2,3))</li>
</ul>
</li>
</ul>
<p>视图函数<br>    请求相关<br>    响应相关</p>
<p>模板语言<br>    if for<br>    索引<br>    执行：不加括号自动执行函数</p>
<pre><code>filter和simple_tag
</code></pre>
<p>ORM操作<br>    创建表<br>        类  继承 models.Model<br>        字段 Inter Char Foreign MantToMany<br>    操作表<br>        增<br>        删<br>        改<br>        查<br>    补充：<br>        fliter传参：<br>            a=1,b=2<br>            **{}<br>            Q()|Q()<br>         values:<br>         values_list:</p>
<pre><code>     all/values/values_list:
     
 双下划线跨表查询:
        正向：
        反向：
</code></pre>
<p>Django的生命周期：</p>
<p>wsgi协议：web服务网关接口</p>
<pre><code>模块：wsgiref  uwsgi
</code></pre>
<p>路由系统：<br>    /index/  views.func<br>    /index/\d+  views.func<br>    /index/  views.include()</p>
<p>视图函数：<br>    FBV function based view<br>    CBV class based view</p>
<p>ORM<br>    models &lt;=&gt; sql</p>
<p>template<br>    html/css  渲染</p>
<p>渲染工作在Django中执行完毕之后，字符串返回给浏览器。</p>
<p>遇到js /css等再发一次请求，不会渲染，仅返回静态文件。</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/docker/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/docker/" class="post-title-link" itemprop="url">docker</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-04-14 07:35:04" itemprop="dateModified" datetime="2021-04-14T07:35:04Z">2021-04-14</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/docker/" itemprop="url" rel="index"><span itemprop="name">docker</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Docker<br>Docker是一个容器化的平台，他将应用程序和所需要的依赖打包在一个容器里面，在其他的环境下 ，拿上镜像就可以运行，<br>学习docker就是，学习在docker中安装依赖和将项目部署到docker中。</p>
<p>Docker架构是什么<br>Docker deamon  ： docker的守护进程<br>Client  ：         docker的客户端<br>Images ：   docker的镜像<br>Container   ：  docker的容器<br>Registry：      docker的仓库</p>
<p>Docker镜像的常用的命令：<br>Docker images：  列出已经下载的镜像<br>Docker  search 镜像名字：tag     ：  搜索这个镜像<br>Docker  pull  镜像名称:tag        拉取镜像<br>Docker  rmi   镜像名称:tag         删除镜像<br>Docker 容器常用的命令：<br>创建容器<br>docker create -p 3306:3306 –name suiyi -e MYSQL_ROOT_PASSWORD=smallming mysql:5.7<br>新建并且启动<br>docker run -p 3306:3306 –name mysql -e MYSQL_ROOT_PASSWORD=root -d mysql:5.7 </p>
<p>列出正在运行的容器： docker container ls<br>查看docker容器进程信息： docker ps [options]<br>互<br>docker exec [options] 容器ID [command]<br>docker exec -it mysql /bin/bash<br>5    停止容器<br>docker stop 容器ID<br>docker stop mysql<br>6    启动容器<br>docker start 容器ID<br>docker start mysql<br>7    强制停止容器<br>不推荐使用，容易造成容器服务不正常关闭，影响后续使用。<br>docker kill 容器ID<br>docker kill mysql<br>8    删除容器<br>要删除的容器，必须是关闭状态的。<br>docker rm 容器ID<br>docker rm mysql<br>9    查看容器日志<br>docker logs -f -t –tail 行数 容器ID<br>docker logs -f -t –tail 5 mysql<br>10    查看容器中运行的进程<br>可以知道容器中到底运行的是哪个应用程序。<br>docker top 容器ID<br>docker top mysql<br>11    查看容器内部详情<br>docker inspect 容器ID<br>docker inspect mysql<br>12    复制容器数据到宿主机<br>docker cp 容器ID:容器内路径 宿主机路径<br>复制MySQL配置到宿主机：  docker cp mysql:/etc/mysql ~/tmp/conf    </p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/doctest-mo-kuai/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/doctest-mo-kuai/" class="post-title-link" itemprop="url">doctest模块</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-04-14 07:34:57" itemprop="dateModified" datetime="2021-04-14T07:34:57Z">2021-04-14</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>doctest模块<br>扫描模块并根据程序中内嵌的文档字符串执行测试。<br>测试构造如同简单的将它的输出结果剪切并粘贴到文档字符串中。</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```doctest.test_mod```函数从一个模块中读取所有文档字符串，找出所有看起来像是在交互式解释器中输入的例子的文本，之后检查例子是否符合实际要求。</span><br><span class="line">在python代码中寻找类似交互解释器里执行的命令，执行它们并且和这些命令的期望值进行比较。通过用户提供的例子，它强化了文档，允许 doctest 模块确认代码的结果是否与文档一致:</span><br><span class="line">用来验证docstring中的注释和代码实际的作用是一致的</span><br><span class="line">可以作为回归测试来验证代码能够正确执行</span><br><span class="line">可以用来编写模块的文档演示这些模块是如何处理输入得到输出的。</span><br><span class="line"></span><br><span class="line">一般写在函数的docstring里面，较为标准的文档字符串格式，</span><br><span class="line">用```&gt;&gt;&gt;```表示一个用例的开始，&gt;&gt;&gt;后有一个空格，直到遇到```空行```或者下一个```&gt;&gt;&gt;```</span><br><span class="line">```’’’```后的英文文档后有一个空行。</span><br><span class="line"></span><br><span class="line">使用```#doctest: +ELLIPSIS（中文含义省略）```来表示下面的省略号匹配任意内容</span><br><span class="line"></span><br><span class="line">```python sample.py```只打印出错的用例结果</span><br><span class="line">```python sample.py -v``` 将会打印所有测试用例的结果。</span><br><span class="line">pychamr右键 run doctest</span><br><span class="line"></span><br><span class="line">定义如下函数代码square，求一个数的平方，并且在它的文档字符串中添加两个例子，文件名为my_math.py</span><br><span class="line"></span><br><span class="line">```py</span><br><span class="line"># my_math.py</span><br><span class="line">import doctest</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def square(x):</span><br><span class="line">    '''</span><br><span class="line">    Squares a number and returns the result</span><br><span class="line">    </span><br><span class="line">    &gt;&gt;&gt; square(2)</span><br><span class="line">    4</span><br><span class="line">    &gt;&gt;&gt; square(3)</span><br><span class="line">    9</span><br><span class="line">    '''</span><br><span class="line">    return x * x</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">if __name__ == '__main__':</span><br><span class="line">    import my_math</span><br><span class="line">    doctest.testmod(my_math)</span><br></pre></td></tr></tbody></table></figure>

<p>在 win或 Linux终端命令行中运行查看测试结果。</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">[root@centos ~]# python my_math.py</span><br><span class="line"><span class="meta">#</span><span class="bash"> 没反应，因为符合预期结果，默认只打印出错的用例结果</span></span><br><span class="line">[root@centos ~]# python my_math.py -v</span><br><span class="line">Trying:</span><br><span class="line">    square(2)</span><br><span class="line">Expecting:</span><br><span class="line">    4</span><br><span class="line">ok</span><br><span class="line">Trying:</span><br><span class="line">    square(3)</span><br><span class="line">Expecting:</span><br><span class="line">    9</span><br><span class="line">ok</span><br><span class="line">1 items had no tests:</span><br><span class="line">    my_math</span><br><span class="line">1 items passed all tests:</span><br><span class="line">   2 tests in my_math.square</span><br><span class="line">2 tests in 2 items.</span><br><span class="line">2 passed and 0 failed.</span><br><span class="line">Test passed.</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@centos ~]<span class="comment"># python my_math.py</span></span><br><span class="line">**********************************************************************</span><br><span class="line">File <span class="string">"my_math.py"</span>, line 9, <span class="keyword">in</span> __main__.average</span><br><span class="line">Failed example:</span><br><span class="line">    <span class="built_in">print</span>(average([20, 30, 70]))</span><br><span class="line">Expected:</span><br><span class="line">    50.0</span><br><span class="line">Got:</span><br><span class="line">    40.0</span><br><span class="line">**********************************************************************</span><br><span class="line">1 items had failures:</span><br><span class="line">   1 of   2 <span class="keyword">in</span> __main__.average</span><br><span class="line">***Test Failed*** 1 failures.</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight sh"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">[root@centos ~]<span class="comment"># python my_math.py -v</span></span><br><span class="line">Trying:</span><br><span class="line">    <span class="built_in">print</span>(average([20, 30, 70]))</span><br><span class="line">Expecting:</span><br><span class="line">    40.0</span><br><span class="line">ok</span><br><span class="line">Trying:</span><br><span class="line">    <span class="built_in">print</span>(average([20, 30, 70]))</span><br><span class="line">Expecting:</span><br><span class="line">    50.0</span><br><span class="line">**********************************************************************</span><br><span class="line">File <span class="string">"my_math.py"</span>, line 9, <span class="keyword">in</span> __main__.average</span><br><span class="line">Failed example:</span><br><span class="line">    <span class="built_in">print</span>(average([20, 30, 70]))</span><br><span class="line">Expected:</span><br><span class="line">    50.0</span><br><span class="line">Got:</span><br><span class="line">    40.0</span><br><span class="line">1 items had no tests:</span><br><span class="line">    __main__</span><br><span class="line">**********************************************************************</span><br><span class="line">1 items had failures:</span><br><span class="line">   1 of   2 <span class="keyword">in</span> __main__.average</span><br><span class="line">2 tests <span class="keyword">in</span> 2 items.</span><br><span class="line">1 passed and 1 failed.</span><br><span class="line">***Test Failed*** 1 failures.</span><br></pre></td></tr></tbody></table></figure>


<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">x, y</span>):</span></span><br><span class="line">    <span class="string">""" add two number or string</span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; add(1, 2)</span></span><br><span class="line"><span class="string">    3</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; add("hello", " world")</span></span><br><span class="line"><span class="string">    'hello world'</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; add(1, 2.0)</span></span><br><span class="line"><span class="string">    3</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    &gt;&gt;&gt; add("hello", " python")  # doctest: +ELLIPSIS</span></span><br><span class="line"><span class="string">    'hello ...'</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    <span class="keyword">return</span> x+y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="keyword">import</span> doctest</span><br><span class="line">    doctest.testmod()</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight markdown"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">[root@centos ~]# python my<span class="emphasis">_math.py -v</span></span><br><span class="line"><span class="emphasis">Trying:</span></span><br><span class="line"><span class="emphasis">    add(1, 2)</span></span><br><span class="line"><span class="emphasis">Expecting:</span></span><br><span class="line"><span class="emphasis">    3</span></span><br><span class="line"><span class="emphasis">ok</span></span><br><span class="line"><span class="emphasis">Trying:</span></span><br><span class="line"><span class="emphasis">    add("hello", " world")</span></span><br><span class="line"><span class="emphasis">Expecting:</span></span><br><span class="line"><span class="emphasis">    'hello world'</span></span><br><span class="line"><span class="emphasis">ok</span></span><br><span class="line"><span class="emphasis">Trying:</span></span><br><span class="line"><span class="emphasis">    add(1, 2.0)</span></span><br><span class="line"><span class="emphasis">Expecting:</span></span><br><span class="line"><span class="emphasis">    3</span></span><br><span class="line"><span class="emphasis"><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">**</span></span></span><br><span class="line"><span class="emphasis"><span class="strong">File "my<span class="emphasis">_math.py", line 9, in <span class="strong">__main__</span>.add  </span></span></span></span><br><span class="line"><span class="emphasis"><span class="strong"><span class="emphasis">Failed example:</span></span></span></span><br><span class="line"><span class="emphasis"><span class="strong"><span class="emphasis">    add(1, 2.0)</span></span></span></span><br><span class="line"><span class="emphasis"><span class="strong"><span class="emphasis">Expected:</span></span></span></span><br><span class="line"><span class="emphasis"><span class="strong"><span class="emphasis">    3</span></span></span></span><br><span class="line"><span class="emphasis"><span class="strong"><span class="emphasis">Got:</span></span></span></span><br><span class="line"><span class="emphasis"><span class="strong"><span class="emphasis">    3.0</span></span></span></span><br><span class="line"><span class="emphasis"><span class="strong"><span class="emphasis">Trying:</span></span></span></span><br><span class="line"><span class="emphasis"><span class="strong"><span class="emphasis">    add("hello", " python")  # doctest: +ELLIPSIS</span></span></span></span><br><span class="line"><span class="emphasis"><span class="strong"><span class="emphasis">Expecting:</span></span></span></span><br><span class="line"><span class="emphasis"><span class="strong"><span class="emphasis">    'hello ...'</span></span></span></span><br><span class="line"><span class="emphasis"><span class="strong"><span class="emphasis">ok</span></span></span></span><br><span class="line"><span class="emphasis"><span class="strong"><span class="emphasis">1 items had no tests:</span></span></span></span><br><span class="line"><span class="emphasis"><span class="strong"><span class="emphasis">    <span class="strong">__main__</span></span></span></span></span><br><span class="line"><span class="emphasis"><span class="strong"><span class="emphasis"><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">****</span><span class="strong">**</span></span></span></span></span><br><span class="line"><span class="emphasis"><span class="strong"><span class="emphasis"><span class="strong">1 items had failures:</span></span></span></span></span><br><span class="line"><span class="emphasis"><span class="strong"><span class="emphasis"><span class="strong">   1 of   4 in _<span class="emphasis">_main<span class="strong">__.add</span></span></span></span></span></span></span><br><span class="line"><span class="emphasis"><span class="strong"><span class="emphasis"><span class="strong"><span class="emphasis"><span class="strong">4 tests in 2 items.</span></span></span></span></span></span></span><br><span class="line"><span class="emphasis"><span class="strong"><span class="emphasis"><span class="strong"><span class="emphasis"><span class="strong">3 passed and 1 failed.</span></span></span></span></span></span></span><br><span class="line"><span class="emphasis"><span class="strong"><span class="emphasis"><span class="strong"><span class="emphasis"><span class="strong">**<span class="emphasis">*Test Failed<span class="strong">**<span class="emphasis">* 1 failures.</span></span></span></span></span></span></span></span></span></span><br></pre></td></tr></tbody></table></figure><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/enumerate-mei-ju/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/enumerate-mei-ju/" class="post-title-link" itemprop="url">python enumerate枚举</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-04-14 07:34:34" itemprop="dateModified" datetime="2021-04-14T07:34:34Z">2021-04-14</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="将一个可遍历的数据对象-如列表、元组或字符串-组合为一个索引序列，"><a href="#将一个可遍历的数据对象-如列表、元组或字符串-组合为一个索引序列，" class="headerlink" title="将一个可遍历的数据对象(如列表、元组或字符串)组合为一个索引序列，"></a>将一个可遍历的数据对象(如列表、元组或字符串)组合为一个索引序列，</h1><h1 id="同时列出数据和数据下标"><a href="#同时列出数据和数据下标" class="headerlink" title="同时列出数据和数据下标"></a>同时列出数据和数据下标</h1><figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line">seasons = [<span class="string">'Spring'</span>, <span class="string">'Summer'</span>, <span class="string">'Fall'</span>, <span class="string">'Winter'</span>]</span><br><span class="line">print(enumerate(seasons))  <span class="comment"># &lt;enumerate object at 0x00000217ADAB6F40&gt;</span></span><br><span class="line">print(list(enumerate(seasons)))  <span class="comment"># 下标从 0 开始</span></span><br><span class="line"><span class="comment"># [(0, 'Spring'), (1, 'Summer'), (2, 'Fall'), (3, 'Winter')]</span></span><br><span class="line">print(list(enumerate(seasons, start=<span class="number">1</span>)))  <span class="comment"># 下标从 1 开始</span></span><br><span class="line"><span class="comment"># [(1, 'Spring'), (2, 'Summer'), (3, 'Fall'), (4, 'Winter')]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># for 循环使用 enumerate的对象</span></span><br><span class="line"><span class="keyword">for</span> i, val <span class="keyword">in</span> enumerate(seasons):</span><br><span class="line">    print(i, seasons[i])</span><br><span class="line"><span class="comment"># 0 Spring</span></span><br><span class="line"><span class="comment"># 1 Summer</span></span><br><span class="line"><span class="comment"># 2 Fall</span></span><br><span class="line"><span class="comment"># 3 Winter</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># for 循环使用 enumerate对象的列表</span></span><br><span class="line">print(<span class="string">'------'</span>)</span><br><span class="line"><span class="keyword">for</span> i, val <span class="keyword">in</span> list(enumerate(seasons)):</span><br><span class="line">    print(i, seasons[i])</span><br><span class="line"><span class="comment"># 0 Spring</span></span><br><span class="line"><span class="comment"># 1 Summer</span></span><br><span class="line"><span class="comment"># 2 Fall</span></span><br><span class="line"><span class="comment"># 3 Winter</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">i = <span class="number">0</span></span><br><span class="line">print(<span class="string">'------'</span>)</span><br><span class="line"><span class="keyword">for</span> val <span class="keyword">in</span> seasons:  <span class="comment"># 普通的 for 循环，不使用 enumerate</span></span><br><span class="line">    print(i, seasons[i])</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line"><span class="comment"># 0 Spring</span></span><br><span class="line"><span class="comment"># 1 Summer</span></span><br><span class="line"><span class="comment"># 2 Fall</span></span><br><span class="line"><span class="comment"># 3 Winter</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_multiple_args</span>(<span class="params">*args</span>):</span></span><br><span class="line">    print(type(args), args)</span><br><span class="line">    <span class="keyword">for</span> k, val <span class="keyword">in</span> enumerate(args):</span><br><span class="line">        print(k, val)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(<span class="string">'======'</span>)</span><br><span class="line">print_multiple_args(<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>)  <span class="comment"># 法一</span></span><br><span class="line">print(<span class="string">'======'</span>)</span><br><span class="line">print_multiple_args(*[<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>])  <span class="comment"># 法二 列表打包成关键字参数</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 给定一个整数数组和一个目标值，找出数组中和为目标值的两个整数，并返回它们的数组下标</span></span><br><span class="line">nums = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">3</span>]</span><br><span class="line">target = <span class="number">8</span></span><br><span class="line">print(<span class="string">'-----'</span>)</span><br><span class="line"><span class="keyword">for</span> i, j <span class="keyword">in</span> enumerate(nums):</span><br><span class="line">    <span class="keyword">if</span> target - j <span class="keyword">in</span> nums[i + <span class="number">1</span>:]:</span><br><span class="line">        <span class="comment"># 字符串.index(子串,起始位置,结束位置)    返回开始的索引值，没找到则抛出异常。</span></span><br><span class="line">        print([i, nums[i + <span class="number">1</span>:].index(target - j) + i + <span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">print(<span class="string">'******'</span>)</span><br><span class="line"><span class="comment"># .items 处理可遍历的字典，返回元组数组。</span></span><br><span class="line">dictionary = {<span class="string">'Name'</span>: <span class="string">'Runoob'</span>, <span class="string">'Age'</span>: <span class="number">7</span>}</span><br><span class="line"></span><br><span class="line">print(<span class="string">"Value : %s"</span> % dictionary.items())</span><br><span class="line"><span class="comment"># Value : dict_items([('Name', 'Runoob'), ('Age', 7)])</span></span><br><span class="line">print(type(dictionary.items()), dictionary.items())</span><br><span class="line"><span class="comment"># &lt;class 'dict_items'&gt; dict_items([('Name', 'Runoob'), ('Age', 7)])</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_kwargs</span>(<span class="params">**kwargs</span>):</span></span><br><span class="line">    print(type(kwargs), kwargs)</span><br><span class="line">    <span class="keyword">for</span> key, val <span class="keyword">in</span> kwargs.items():</span><br><span class="line">        print(<span class="string">'{}：{}'</span>.format(key, val))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(<span class="string">'---------'</span>)</span><br><span class="line">print_kwargs(a=<span class="number">1</span>, b=<span class="number">2</span>)  <span class="comment"># 法一</span></span><br><span class="line"><span class="comment"># &lt;class 'dict'&gt; {'a': 1, 'b': 2}</span></span><br><span class="line"><span class="comment"># a：1</span></span><br><span class="line"><span class="comment"># b：2</span></span><br><span class="line">print(<span class="string">'---------'</span>)</span><br><span class="line">print_kwargs(**dict(a=<span class="number">1</span>, b=<span class="number">2</span>))  <span class="comment"># 法二 字典打包成关键字参数</span></span><br><span class="line"><span class="comment"># &lt;class 'dict'&gt; {'a': 1, 'b': 2}</span></span><br><span class="line"><span class="comment"># a：1</span></span><br><span class="line"><span class="comment"># b：2</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_all</span>(<span class="params">a, *args, **kwargs</span>):</span></span><br><span class="line">    print(a)</span><br><span class="line">    <span class="keyword">if</span> args:</span><br><span class="line">        print(args)</span><br><span class="line">    <span class="keyword">if</span> kwargs:</span><br><span class="line">        print(kwargs)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(<span class="string">'--------'</span>)</span><br><span class="line">print_all(<span class="string">'hello'</span>, <span class="string">'world'</span>, name=<span class="string">'cyf'</span>)</span><br><span class="line"><span class="comment"># hello</span></span><br><span class="line"><span class="comment"># ('world',)</span></span><br><span class="line"><span class="comment"># {'name': 'cyf'}</span></span><br></pre></td></tr></tbody></table></figure><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/7/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><span class="page-number current">8</span><a class="page-number" href="/page/9/">9</a><span class="space">&hellip;</span><a class="page-number" href="/page/22/">22</a><a class="extend next" rel="next" href="/page/9/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>
<script src="/js/comments.js"></script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">外心人D</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
