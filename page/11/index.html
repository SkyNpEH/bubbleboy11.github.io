<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.0.2">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<meta name="hexo-config" content="{&quot;hostname&quot;:&quot;bubbleboy11.github.io&quot;,&quot;root&quot;:&quot;/&quot;,&quot;images&quot;:&quot;/images&quot;,&quot;scheme&quot;:&quot;Muse&quot;,&quot;version&quot;:&quot;8.3.0&quot;,&quot;exturl&quot;:false,&quot;sidebar&quot;:{&quot;position&quot;:&quot;left&quot;,&quot;display&quot;:&quot;post&quot;,&quot;padding&quot;:18,&quot;offset&quot;:12},&quot;copycode&quot;:true,&quot;bookmark&quot;:{&quot;enable&quot;:false,&quot;color&quot;:&quot;#222&quot;,&quot;save&quot;:&quot;auto&quot;},&quot;fancybox&quot;:false,&quot;mediumzoom&quot;:false,&quot;lazyload&quot;:false,&quot;pangu&quot;:false,&quot;comments&quot;:{&quot;style&quot;:&quot;tabs&quot;,&quot;active&quot;:null,&quot;storage&quot;:true,&quot;lazyload&quot;:false,&quot;nav&quot;:null},&quot;motion&quot;:{&quot;enable&quot;:true,&quot;async&quot;:false,&quot;transition&quot;:{&quot;post_block&quot;:&quot;fadeIn&quot;,&quot;post_header&quot;:&quot;fadeInDown&quot;,&quot;post_body&quot;:&quot;fadeInDown&quot;,&quot;coll_header&quot;:&quot;fadeInLeft&quot;,&quot;sidebar&quot;:&quot;fadeInUp&quot;}},&quot;prism&quot;:false,&quot;i18n&quot;:{&quot;placeholder&quot;:&quot;搜索...&quot;,&quot;empty&quot;:&quot;没有找到任何搜索结果：${query}&quot;,&quot;hits_time&quot;:&quot;找到 ${hits} 个搜索结果（用时 ${time} 毫秒）&quot;,&quot;hits&quot;:&quot;找到 ${hits} 个搜索结果&quot;}}">
<meta name="description" content="本博客大多内容为慕课和网上博客，并非原创">
<meta property="og:type" content="website">
<meta property="og:title" content="外心人D的博客">
<meta property="og:url" content="https://bubbleboy11.github.io/page/11/index.html">
<meta property="og:site_name" content="外心人D的博客">
<meta property="og:description" content="本博客大多内容为慕课和网上博客，并非原创">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="外心人D">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://bubbleboy11.github.io/page/11/">



<meta name="hexo-config-page" content="{&quot;sidebar&quot;:&quot;&quot;,&quot;isHome&quot;:true,&quot;isPost&quot;:false,&quot;lang&quot;:&quot;zh-CN&quot;}">
<meta name="hexo-config-calendar" content="">
<script data-pjax src="/js/load-config.js"></script>
  <title>外心人D的博客</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="外心人D的博客" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism.css" type="text/css"></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">外心人D的博客</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">外心人D</p>
  <div class="site-description" itemprop="description">本博客大多内容为慕课和网上博客，并非原创</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">241</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">21</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">38</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/markdown/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/markdown/" class="post-title-link" itemprop="url">markdown</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-05-12 12:04:50" itemprop="dateModified" datetime="2021-05-12T12:04:50Z">2021-05-12</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/markdown/" itemprop="url" rel="index"><span itemprop="name">markdown</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>[toc]<br>Table of Contents<br>使用HTML中下标下标的语法即可。<br>H<sub>2</sub>O  CO<sub>2</sub><br>Apple<sup>TM</sup></p>
<p>Enter就可以插入一个新的段落。<br>按Shift+Enter可以创建一个比段落间距更小的行间距。<br>换行<br>方法1: 连续两个以上空格+回车<br><br>方法2：使用html语言换行标签</p>
<p>分割线：你可以在一行中用三个以上的星号、减号、底线来建立一个分隔线，<br>行内不能有其他东西。你也可以在星号或是减号中间插入空格。</p>
<hr>
<hr>
<hr>
<hr style="background-color:red;">

<p>链接：链接文字都是用 [方括号] 来标记，在方块括号后面紧接着圆括号并插入网址链接<br>link to <a target="_blank" rel="noopener" href="http://youtube.com/">youtube</a>  </p>
<ul>
<li><a href="./xxx/xx1.md">1.1 连接markdown</a></li>
<li><a href="./xxx/xx2.md">1.2 连接markdown</a><br>自定义所通往链接的网站标题<br><a href="mailto:i@typora.io">i@typora.io</a></li>
</ul>
<p><img src="/2020/08/21/markdown/%E5%9B%BE%E7%89%87%E9%93%BE%E6%8E%A5" alt="Alt text" title="optional title"><br>Alt text：图片的Alt标签，用来描述图片的关键词，可以不写。最初的本意是当图片因为某种原因不能被显示时而出现的替代文字，后来又被用于SEO，可以方便搜索引擎根据Alt text里面的关键词搜索到图片。<br>图片链接：可以是图片的本地地址或者是网址。<br>“optional title”：鼠标悬置于图片上会出现的标题文字，可选标题，可以不写。</p>
<p>插入本地图片<br>只需要在基础语法的括号中填入图片的位置路径即可，支持绝对路径和相对路径。<br><img src="/2020/08/21/markdown/picture/1.png" alt="description"><br>不灵活不好分享，本地图片的路径更改或丢失都会造成markdown文件调不出图。</p>
<p>插入互联网图片：<br><img src="http://static.runoob.com/images/runoob-logo.png" alt="这里写图片描述"><br><img src="http://static.runoob.com/images/runoob-logo.png" alt="RUNOOB 图标" title="RUNOOB"></p>
<p>把图片存入markdown文件<br>用base64转码工具把图片转成一段字符串，然后把字符串填到基础格式中链接的那个位置。<br>基础用法：<br><img src="/2020/08/21/markdown/png;base64,iVBORw0......" alt="avatar"><br>这个时候会发现插入的这一长串字符串会把整个文章分割开，非常影响编写文章时的体验。如果能够把大段的base64字符串放在文章末尾，然后在文章中通过一个id来调用，文章就不会被分割的这么乱了。<br>高级用法<br>比如：<br>![avatar][base64str]<br>[base64str]:data:image/png;base64,iVBORw0……</p>
<p>幻灯片图片<br>&lt;pic,pic,pic&gt;<br>&lt;![image.png](<a href="https://pic1.png,!image.png>/">https://pic1.png,!image.png&gt;</a></p>
<p>首行缩进两个字符：(每个表示一个空格，连续使用两个即可<br>  半角的空格<br>   两个半角的空格<br>  全角的空格</p>
<p><font face="黑体">我是黑体字</font><br><font face="微软雅黑">我是微软雅黑</font><br><font face="STCAIYUN">我是华文彩云</font><br><font color="#0099ff" size="5" face="黑体">color=#0099ff size=7 face=”黑体”</font><br><font color="#00ffff" size="5">color=#00ffff</font><br><font color="gray" size="72">color=gray</font>  </p>
<h2 id="主要内容"><a href="#主要内容" class="headerlink" title="主要内容"></a>主要内容</h2><blockquote>
<h4 id="Markdown是什么？"><a href="#Markdown是什么？" class="headerlink" title="Markdown是什么？"></a>Markdown<em>是什么</em>？</h4><h4 id="谁创造了它？"><a href="#谁创造了它？" class="headerlink" title="谁创造了它？"></a><em>谁</em>创造了它？</h4><h4 id="为什么要使用它？"><a href="#为什么要使用它？" class="headerlink" title="为什么要使用它？"></a><em>为什么</em>要使用它？</h4><h4 id="怎么使用？"><a href="#怎么使用？" class="headerlink" title="怎么使用？"></a><em>怎么</em>使用？</h4><h4 id="谁在用？"><a href="#谁在用？" class="headerlink" title="谁在用？"></a><em>谁</em>在用？</h4><h4 id="尝试一下"><a href="#尝试一下" class="headerlink" title="尝试一下"></a>尝试一下</h4></blockquote>
<h2 id="正文"><a href="#正文" class="headerlink" title="正文"></a>正文</h2><h3 id="1-Markdown是什么？"><a href="#1-Markdown是什么？" class="headerlink" title="1. Markdown是什么？"></a>1. Markdown<em>是什么</em>？</h3><p><strong>Markdown</strong>是一种轻量级<strong>标记语言</strong>，它以纯文本形式(<em>易读、易写、易更改</em>)编写文档，并最终以HTML格式发布。<br><strong>Markdown</strong>也可以理解为将以MARKDOWN语法编写的语言转换成HTML内容的工具。    </p>
<h3 id="2-谁创造了它？"><a href="#2-谁创造了它？" class="headerlink" title="2. 谁创造了它？"></a>2. <em>谁</em>创造了它？</h3><p>它由<a target="_blank" rel="noopener" href="http://www.aaronsw.com/"><strong>Aaron Swartz</strong></a>和<strong>John Gruber</strong>共同设计，<strong>Aaron Swartz</strong>就是那位于去年（<em>2013年1月11日</em>）自杀,有着<strong>开挂</strong>一般人生经历的程序员。维基百科对他的<a target="_blank" rel="noopener" href="http://zh.wikipedia.org/wiki/%E4%BA%9A%E4%BC%A6%C2%B7%E6%96%AF%E6%B2%83%E8%8C%A8">介绍</a>是：<strong>软件工程师、作家、政治组织者、互联网活动家、维基百科人</strong>。    </p>
<p>他有着足以让你跪拜的人生经历：    </p>
<ul>
<li><strong>14岁</strong>参与RSS 1.0规格标准的制订。     </li>
<li><strong>2004</strong>年入读<strong>斯坦福</strong>，之后退学。   </li>
<li><strong>2005</strong>年创建<a target="_blank" rel="noopener" href="http://infogami.org/">Infogami</a>，之后与<a target="_blank" rel="noopener" href="http://www.reddit.com/">Reddit</a>合并成为其合伙人。   </li>
<li><strong>2010</strong>年创立求进会（Demand Progress），积极参与禁止网络盗版法案（SOPA）活动，最终该提案被撤回。   </li>
<li><strong>2011</strong>年7月19日，因被控从MIT和JSTOR下载480万篇学术论文并以免费形式上传于网络被捕。     </li>
<li><strong>2013</strong>年1月自杀身亡。    </li>
</ul>
<p><img src="https://github.com/younghz/Markdown/raw/master/resource/Aaron_Swartz.jpg" alt="Aaron Swartz"></p>
<p>天才都有早逝的归途。</p>
<h3 id="3-为什么要使用它？"><a href="#3-为什么要使用它？" class="headerlink" title="3. 为什么要使用它？"></a>3. <em>为什么</em>要使用它？</h3><ul>
<li>它是易读（看起来舒服）、易写（语法简单）、易更改<strong>纯文本</strong>。处处体现着<strong>极简主义</strong>的影子。</li>
<li>兼容HTML，可以转换为HTML格式发布。</li>
<li>跨平台使用。</li>
<li>越来越多的网站支持Markdown。</li>
<li>更方便清晰地组织你的电子邮件。（Markdown-here, Airmail）</li>
<li>摆脱Word（我不是认真的）。</li>
</ul>
<h3 id="4-怎么使用？"><a href="#4-怎么使用？" class="headerlink" title="4. 怎么使用？"></a>4. <em>怎么</em>使用？</h3><p>如果不算<strong>扩展</strong>，Markdown的语法绝对<strong>简单</strong>到让你爱不释手。</p>
<p>Markdown语法主要分为如下几大部分：<br><strong>标题</strong>，<strong>段落</strong>，<strong>区块引用</strong>，<strong>代码区块</strong>，<strong>强调</strong>，<strong>列表</strong>，<strong>分割线</strong>，<strong>链接</strong>，<strong>图片</strong>，<strong>反斜杠 <code>\</code>**，</strong>符号’`’**。</p>
<h4 id="4-1-标题"><a href="#4-1-标题" class="headerlink" title="4.1 标题"></a>4.1 标题</h4><p>两种形式：<br>1）使用<code>=</code>和<code>-</code>标记一级和二级标题。</p>
<blockquote>
<p>一级标题<br><code>=========</code><br>二级标题<br><code>---------</code></p>
</blockquote>
<p>效果：</p>
<blockquote>
<h1 id="一级标题"><a href="#一级标题" class="headerlink" title="一级标题   "></a>一级标题   </h1><h2 id="二级标题"><a href="#二级标题" class="headerlink" title="二级标题"></a>二级标题</h2></blockquote>
<p>2）使用<code>#</code>，可表示1-6级标题。</p>
<blockquote>
<p># 一级标题<br>## 二级标题<br>### 三级标题<br>#### 四级标题<br>##### 五级标题<br>###### 六级标题    </p>
</blockquote>
<p>效果：</p>
<blockquote>
<h1 id="一级标题-1"><a href="#一级标题-1" class="headerlink" title="一级标题"></a>一级标题</h1><h2 id="二级标题-1"><a href="#二级标题-1" class="headerlink" title="二级标题"></a>二级标题</h2><h3 id="三级标题"><a href="#三级标题" class="headerlink" title="三级标题"></a>三级标题</h3><h4 id="四级标题"><a href="#四级标题" class="headerlink" title="四级标题"></a>四级标题</h4><h5 id="五级标题"><a href="#五级标题" class="headerlink" title="五级标题"></a>五级标题</h5><h6 id="六级标题"><a href="#六级标题" class="headerlink" title="六级标题"></a>六级标题</h6></blockquote>
<h4 id="4-2-段落"><a href="#4-2-段落" class="headerlink" title="4.2 段落"></a>4.2 段落</h4><p>段落的前后要有空行，所谓的空行是指没有文字内容。若想在段内强制换行的方式是使用<strong>两个以上</strong>空格加上回车（引用中换行省略回车）。</p>
<h4 id="4-3-区块引用"><a href="#4-3-区块引用" class="headerlink" title="4.3 区块引用"></a>4.3 区块引用</h4><p>在段落的每行或者只在第一行使用符号<code>&gt;</code>,还可使用多个嵌套引用，如：</p>
<blockquote>
<p>&gt; 区块引用<br>&gt;&gt; 嵌套引用  </p>
</blockquote>
<p>效果：</p>
<blockquote>
<p>这是一个由两个段落组成的引用块，这是第一个段落。</p>
<p>这是第二个段落，爱饭打森，爱乖出台，请曾爱萨菲，撒㩐，经爱抚，百分赛法。</p>
</blockquote>
<blockquote>
<p>这是另一个只有一个段落的引用块。两个代码块间可以用一空行来分隔。</p>
<blockquote>
<p>嵌套引用</p>
</blockquote>
</blockquote>
<p>脚注示范[^这是一个脚注] 鼠标移动到这是一个脚注超链接可以看到脚注的文本内容。<br>本网站基于MkDocs[^1]系统，采用了Material for MkDocs[^2]主题样式，感谢开源社区的贡献！<br>[^1]: <a target="_blank" rel="noopener" href="https://www.mkdocs.org/">https://www.mkdocs.org/</a><br>[^2]: <a target="_blank" rel="noopener" href="https://squidfunk.github.io/mkdocs-material/">https://squidfunk.github.io/mkdocs-material/</a></p>
<blockquote>
<p>请保留此份 Cmd Markdown 的欢迎稿兼使用说明，如需撰写新稿件，点击顶部工具栏右侧的 <i class="icon-file"></i> <strong>新文稿</strong> 或者使用快捷键 <code>Ctrl+Alt+N</code>。</p>
</blockquote>
<h4 id="4-4-代码区块"><a href="#4-4-代码区块" class="headerlink" title="4.4 代码区块"></a>4.4 代码区块</h4><p>代码区块的建立是在每行加上4个空格或者一个制表符（如同写代码一样）。标准代码块表示使用空格/tab来开头的块状代码块,而不是``` ~~~.</p>
<p>普通段落：</p>
<p>void main()<br>{<br>    printf(“Hello, Markdown.”);<br>}<br>struct {<br>  int year;<br>  int month;<br>  int day;<br> }bdate;</p>
<p>代码区块：</p>
<pre><code>void main()
{
    printf("Hello, Markdown.");
}
</code></pre>
<hr>
<pre><code>Here are some code with tab at start.  

Here are some code with 4 blank.
</code></pre>
<p><strong>注意</strong>:需要和普通段落之间存在空行。</p>
<p>这里是行内代码<code>print("hello world")</code>.<br>这也是行内代码块<code>print "<code>...</code>"</code><br>这也是行内代码块<code>print "<code>...</code>"</code>. </p>
<h4 id="4-5-强调"><a href="#4-5-强调" class="headerlink" title="4.5 强调"></a>4.5 强调</h4><p>在强调内容两侧分别加上<code>*</code>或者<code>_</code>，如：</p>
<blockquote>
<p>*斜体*，_斜体_<br>**粗体**，__粗体__</p>
</blockquote>
<p>效果：</p>
<blockquote>
<p><em>斜体</em>，<em>斜体</em><br><strong>粗体</strong>，<strong>粗体</strong></p>
</blockquote>
<p><s>删除线（开启识别HTML标签时）</s><br><u>下划线</u></p>
<h4 id="4-6-列表"><a href="#4-6-列表" class="headerlink" title="4.6 列表"></a>4.6 列表</h4><p>使用<code>·</code>、<code>+</code>、或<code>-</code>标记无序列表，如：</p>
<blockquote>
<p>-（+*） 第一项<br>-（+*） 第二项<br>- （+*）第三项</p>
</blockquote>
<p><strong>注意</strong>：标记后面最少有一个_空格_或_制表符_。若不在引用区块中，必须和前方段落之间存在空行。</p>
<p>效果：</p>
<blockquote>
<ul>
<li>第一项</li>
<li>第二项</li>
<li>第三项</li>
</ul>
</blockquote>
<ul>
<li>Red</li>
<li>Green</li>
<li>Blue</li>
</ul>
<ul>
<li>Red</li>
<li>Green</li>
<li>Blue</li>
</ul>
<p>有序列表的标记方式是将上述的符号换成数字,并辅以<code>.</code>，如：</p>
<blockquote>
<p>1 . 第一项<br>2 . 第二项<br>3 . 第三项    </p>
</blockquote>
<p>效果：</p>
<blockquote>
<ol>
<li>第一项</li>
<li>第二项</li>
<li>第三项</li>
</ol>
</blockquote>
<p>. 可以使用：数字. 来取消显示为列表，在行前显示数字和 .  </p>
<p>嵌套的列表</p>
<ul>
<li>第一层<ul>
<li>1-1</li>
</ul>
<ul>
<li>1-2</li>
</ul>
<ul>
<li>1-3</li>
</ul>
</li>
</ul>
<ol>
<li>第一层</li>
</ol>
<ul>
<li>1-1</li>
<li>1-2</li>
</ul>
<ul>
<li>无序列表和有序列表可以随意相互嵌套<ol>
<li>2-1</li>
<li>2-2</li>
</ol>
</li>
</ul>
<p>html标签</p>
<table><tbody><tr><td bgcolor="orange">背景色是：orange</td></tr></tbody></table>
<table>
  <thead>
   <tr>
      <th>字段</th>
      <th>必选</th>
      <th>类型</th>
      <th>说明</th>
   </tr>
  </thead>
  <tbody>
   <tr class="warning">
      <td>types</td>
      <td>true</td>
      <td>int</td>
      <td>轮播图类型（10:首页轮播）</td>
   </tr>
  </tbody>
</table>

<table>
<thead>
<tr>
<th>First Header</th>
<th>Second Header</th>
<th>Second Header</th>
</tr>
</thead>
<tbody><tr>
<td>Cell</td>
<td>Content Cell</td>
<td>Content Cell</td>
</tr>
<tr>
<td>Content Cell</td>
<td>Content Cell</td>
<td>Content Cell</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th align="left">Left-Aligned</th>
<th align="center">Center Aligned</th>
<th align="right">Right Aligned</th>
</tr>
</thead>
<tbody><tr>
<td align="left">左对齐</td>
<td align="center">剧中对齐</td>
<td align="right">居右$1600</td>
</tr>
<tr>
<td align="left">col 2 is</td>
<td align="center">centered</td>
<td align="right">$12</td>
</tr>
<tr>
<td align="left">zebra stripes</td>
<td align="center">are neat</td>
<td align="right">$1</td>
</tr>
</tbody></table>
<h4 id="4-7-分割线"><a href="#4-7-分割线" class="headerlink" title="4.7 分割线"></a>4.7 分割线</h4><p>分割线最常使用就是三个或以上<code>*</code>，还可以使用<code>-</code>和<code>_</code>。</p>
<h4 id="4-8-链接"><a href="#4-8-链接" class="headerlink" title="4.8 链接"></a>4.8 链接</h4><p>链接可以由两种形式生成：<strong>行内式</strong>和<strong>参考式</strong>。<br><strong>行内式</strong>：</p>
<blockquote>
<p>[younghz的Markdown库](https:://github.com/younghz/Markdown “Markdown”)。</p>
</blockquote>
<p>效果：</p>
<blockquote>
<p><a href="https:://github.com/younghz/Markdown" title="Markdown">younghz的Markdown库</a>。</p>
</blockquote>
<p><strong>参考式</strong>：</p>
<blockquote>
<p>[younghz的Markdown库1][1]<br>[younghz的Markdown库2][2]<br>[1]:https:://github.com/younghz/Markdown “Markdown”<br>[2]:https:://github.com/younghz/Markdown “Markdown”    </p>
</blockquote>
<p>效果：</p>
<blockquote>
<p><a href="https:://github.com/younghz/Markdown" title="Markdown">younghz的Markdown库1</a><br><a href="https:://github.com/younghz/Markdown" title="Markdown">younghz的Markdown库2</a></p>
</blockquote>
<p><strong>注意</strong>：上述的<code>[1]:https:://github.com/younghz/Markdown "Markdown"</code>不出现在区块中。</p>
<h4 id="4-9-图片"><a href="#4-9-图片" class="headerlink" title="4.9 图片"></a>4.9 图片</h4><p>添加图片的形式和链接相似，只需在链接的基础上前方加一个<code>！</code>。</p>
<h4 id="4-10-反斜杠"><a href="#4-10-反斜杠" class="headerlink" title="4.10 反斜杠\"></a>4.10 反斜杠<code>\</code></h4><p>相当于<strong>反转义</strong>作用。使符号成为普通符号。</p>
<h4 id="4-11-符号’-’"><a href="#4-11-符号’-’" class="headerlink" title="4.11 符号’`’"></a>4.11 符号’`’</h4><p>起到标记作用。如：</p>
<blockquote>
<p>`ctrl+a`</p>
</blockquote>
<p>效果：</p>
<blockquote>
<p><code>ctrl+a</code>    </p>
</blockquote>
<h4 id="5-谁在用？"><a href="#5-谁在用？" class="headerlink" title="5. 谁在用？"></a>5. <em>谁</em>在用？</h4><p>Markdown的使用者：</p>
<ul>
<li>GitHub</li>
<li>简书</li>
<li>Stack Overflow</li>
<li>Apollo</li>
<li>Moodle</li>
<li>Reddit</li>
<li>等等</li>
</ul>
<h4 id="6-尝试一下"><a href="#6-尝试一下" class="headerlink" title="6. 尝试一下"></a>6. 尝试一下</h4><ul>
<li><strong>Chrome</strong>下的插件诸如<code>stackedit</code>与<code>markdown-here</code>等非常方便，也不用担心平台受限。</li>
<li><strong>在线</strong>的dillinger.io评价也不错   </li>
<li><strong>Windowns</strong>下的MarkdownPad也用过，不过免费版的体验不是很好。    </li>
<li><strong>Mac</strong>下的Mou是国人贡献的，口碑很好。</li>
<li><strong>Linux</strong>下的ReText不错。    </li>
</ul>
<p><strong>当然，最终境界永远都是笔下是语法，心中格式化 :)。</strong></p>
<hr>
<p><strong>注意</strong>：不同的Markdown解释器或工具对相应语法（扩展语法）的解释效果不尽相同，具体可参见工具的使用说明。<br>虽然有人想出面搞一个所谓的标准化的Markdown，[没想到还惹怒了健在的创始人John Gruber]<br>(<a target="_blank" rel="noopener" href="http://blog.codinghorror.com/standard-markdown-is-now-common-markdown/">http://blog.codinghorror.com/standard-markdown-is-now-common-markdown/</a> )。</p>
<hr>
<p>以上基本是所有traditonal markdown的语法。</p>
<h3 id="其它："><a href="#其它：" class="headerlink" title="其它："></a>其它：</h3><p>列表的使用(非traditonal markdown)：</p>
<p>用<code>|</code>表示表格纵向边界，表头和表内容用<code>-</code>隔开，并可用<code>:</code>进行对齐设置，两边都有<code>:</code>则表示居中，若不加<code>:</code>则默认左对齐。</p>
<table>
<thead>
<tr>
<th align="center">代码库</th>
<th>超链接</th>
</tr>
</thead>
<tbody><tr>
<td align="center">MarkDown</td>
<td><a target="_blank" rel="noopener" href="https://github.com/younghz/Markdown" title="Markdown">https://github.com/younghz/Markdown</a></td>
</tr>
<tr>
<td align="center">MarkDownCopy</td>
<td><a target="_blank" rel="noopener" href="https://github.com/younghz/Markdown" title="Markdown">https://github.com/younghz/Markdown</a></td>
</tr>
</tbody></table>
<p>关于其它扩展语法可参见具体工具的使用说明。</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/monkey-patch-hou-zi-bu-ding/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/monkey-patch-hou-zi-bu-ding/" class="post-title-link" itemprop="url">python monkey patch</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-05-11 02:10:29" itemprop="dateModified" datetime="2021-05-11T02:10:29Z">2021-05-11</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="monkey-patch（动态语言中提到的猴子补丁）"><a href="#monkey-patch（动态语言中提到的猴子补丁）" class="headerlink" title="monkey patch（动态语言中提到的猴子补丁）"></a>monkey patch（动态语言中提到的猴子补丁）</h3><ul>
<li>所谓的monkey patch就是运行时类型替换</li>
<li>比如gevent库需要修改内置的socket，把内置阻塞的库替换成非阻塞的socket</li>
</ul>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># code02_猴子补丁.py</span></span><br><span class="line"><span class="keyword">import</span> socket</span><br><span class="line">print(socket.socket)  <span class="comment"># 输出结果:&lt;class 'socket.socket'&gt;</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">"After monkey patch"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> gevent <span class="keyword">import</span> monkey</span><br><span class="line">monkey.patch_socket()  <span class="comment"># 把内置的阻塞socket替换为非阻塞的socket</span></span><br><span class="line">print(socket.socket)  <span class="comment"># 输出结果:&lt;class 'gevent._socket3.socket'&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> select</span><br><span class="line">print(select.select)  <span class="comment"># 输出结果:&lt;built-in function select&gt;</span></span><br><span class="line">monkey.patch_select()</span><br><span class="line">print(<span class="string">"After monkey patch"</span>)</span><br><span class="line">print(select.select)  <span class="comment"># 输出结果：&lt;function select at 0x000002A19B401158&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 自己实现猴子补丁.py</span></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line">print(time.time())  <span class="comment"># 输出内置时间戳</span></span><br><span class="line"><span class="comment"># 1562568697.2385693</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">_time</span>():</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1234</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">time.time = _time  <span class="comment"># 进行函数替换</span></span><br><span class="line">print(time.time())  <span class="comment"># 输出替换后的时间戳，就是运行时替换函数</span></span><br><span class="line"><span class="comment"># 1234</span></span><br></pre></td></tr></tbody></table></figure>
<h3 id="自省-introspection-ɪntrə-ʊ-’spekʃ-ə-n"><a href="#自省-introspection-ɪntrə-ʊ-’spekʃ-ə-n" class="headerlink" title="自省 introspection /ɪntrə(ʊ)’spekʃ(ə)n/"></a>自省 introspection /ɪntrə(ʊ)’spekʃ(ə)n/</h3><ul>
<li>运行时判断一个对象所属类型</li>
<li>Python一切皆对象，用type，id，isinstance获取对象的类型信息</li>
<li>Inspect模块提供了更多获取对象信息的函数</li>
</ul>
<p>代码一：</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">ll = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">d = dict(q=<span class="number">1</span>) <span class="comment"># {a:1}</span></span><br><span class="line"> </span><br><span class="line">print(type(ll))  <span class="comment"># 输出结果:&lt;class 'list'&gt;</span></span><br><span class="line">print(type(d))  <span class="comment"># 输出结果:&lt;class 'dict'&gt;</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># 判断一个对象所属的类型</span></span><br><span class="line">print(isinstance(ll,list))  <span class="comment"># 输出结果:True</span></span><br><span class="line">print(isinstance(d,dict))   <span class="comment"># 输出结果:True</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># 根据不同的类型来执行不同的逻辑 </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    <span class="keyword">if</span> isinstance(a, int):</span><br><span class="line">        <span class="keyword">return</span> a + b</span><br><span class="line">    <span class="keyword">elif</span> isinstance(a, str):</span><br><span class="line">        <span class="keyword">return</span> a.upper() + b</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">print(add(<span class="number">1</span>, <span class="number">2</span>))   <span class="comment"># 输出结果:3</span></span><br><span class="line">print(add(<span class="string">'head'</span>, <span class="string">'tail'</span>))  <span class="comment"># 输出结果:HEADtail</span></span><br><span class="line"> </span><br><span class="line"><span class="comment"># 变量所在内存中的地址</span></span><br><span class="line">print(id(ll))  <span class="comment"># 输出结果:2337544905544</span></span><br><span class="line">print(id(d))  <span class="comment"># 输出结果:2337544963344</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用 is 可以判断是否为同一个对象</span></span><br><span class="line"><span class="comment"># 本质就是 id(ll) == id(d)</span></span><br><span class="line">print(ll <span class="keyword">is</span> d)  <span class="comment"># 输出结果:False</span></span><br><span class="line">print(ll <span class="keyword">is</span> ll)  <span class="comment"># 输出结果:True</span></span><br><span class="line"> </span><br><span class="line">l1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">l2 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="comment"># 比较值是否相同</span></span><br><span class="line">print(l1 == l2)  <span class="comment"># 输出结果:True</span></span><br><span class="line"><span class="comment"># 比较ID是否相同</span></span><br><span class="line">print(l1 <span class="keyword">is</span> l2)     <span class="comment"># 输出结果:False</span></span><br><span class="line">print(id(l1), id(l2))   <span class="comment"># 输出结果:2337543699976 2337544905416</span></span><br></pre></td></tr></tbody></table></figure>
<p>经常用到：</p>
<p>判断一个对象是不是<code>none</code>，经常用<code>is none</code>而不是<code>= none</code>，就因为<code>none</code>本身是单例的，所以我们经常使用<code>is</code>来判断是不是同一个对象。</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/namespace/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/namespace/" class="post-title-link" itemprop="url">命名空间(Namespace)</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-05-09 12:03:28" itemprop="dateModified" datetime="2021-05-09T12:03:28Z">2021-05-09</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="命名空间-Namespace"><a href="#命名空间-Namespace" class="headerlink" title="命名空间(Namespace)"></a>命名空间(Namespace)</h3><p>A namespace is a mapping from names to objects.<br>Most namespaces are currently implemented as Python dictionaries.<br>是从名称到对象的映射，<br>大部分的命名空间都是通过 Python 字典来实现的。</p>
<p>命名空间提供了在项目中避免名字冲突的一种方法。<br>各个命名空间是独立的，没有任何关系的，<br>所以一个命名空间中不能有重名，<br>但不同的命名空间是可以重名而没有任何影响。</p>
<p>变量是拥有匹配对象的名字（标识符）。<br>命名空间是一个包含了变量名称们（键）和它们各自相应的对象们（值）的字典。<br>一个 Python 表达式可以访问局部命名空间和全局命名空间里的变量。<br>如果一个局部变量和一个全局变量重名，则局部变量会覆盖全局变量。<br>每个函数都有自己的命名空间。<br>类的方法的作用域规则和通常函数的一样。<br>Python 会智能地猜测一个变量是局部的还是全局的，它假设任何在函数内赋值的变量都是局部的。</p>
<p>举一个计算机系统中的例子，一个文件夹(目录)中可以包含多个文件夹，<br>每个文件夹中不能有相同的文件名，<br>但不同文件夹中的文件可以重名。</p>
<p>三种命名空间</p>
<ul>
<li>内置名称（built-in names）， Python 语言内置的名称，比如函数名 <code>abs</code>、<code>char</code> 和异常名称 <code>BaseException</code>、<code>Exception</code> 等等。</li>
<li>全局名称（global names），模块中定义的名称，记录了模块的变量，包括函数、类、其它导入的模块、模块级的变量和常量。</li>
<li>局部名称（local names），函数中定义的名称，记录了函数的变量，包括函数的参数和局部定义的变量。（类中定义的也是）</li>
</ul>
<p>命名空间查找顺序:</p>
<p>假设我们要使用变量 runoob，则 Python 的查找顺序为：局部的命名空间去 -&gt; 全局命名空间 -&gt; 内置命名空间。</p>
<p>如果找不到变量 runoob，它将放弃查找并引发一个 NameError 异常:<br><code>NameError: name 'runoob' is not defined</code></p>
<p>命名空间的生命周期：<br>取决于对象的作用域，如果对象执行完成，则该命名空间的生命周期就结束。<br>因此，我们无法从外部命名空间访问内部命名空间的对象。</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var1 = <span class="number">5</span>  <span class="comment"># var1 是全局名称</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">some_func</span>():</span></span><br><span class="line">    var2 = <span class="number">6</span>  <span class="comment"># var2 是局部名称</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">some_inner_func</span>():</span></span><br><span class="line">        var3 = <span class="number">7</span>  <span class="comment"># var3 是</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="作用域"><a href="#作用域" class="headerlink" title="作用域"></a>作用域</h3><p>A scope is a textual region of a Python program<br>where a namespace is directly accessible.<br>“Directly accessible” here means that<br>an unqualified reference to a name attempts to find the name in the namespace.<br>作用域就是一个 Python 程序可以直接访问命名空间的正文区域。<br>在一个 python 程序中，直接访问一个变量，会从内到外依次访问所有的作用域直到找到，<br>否则会报未定义的错误。</p>
<p>程序的变量并不是在哪个位置都可以访问的，<br>访问权限决定于这个变量是在哪里赋值的。<br>变量的作用域决定了在哪一部分程序可以访问哪个特定的变量名称。<br>Python的作用域一共有4种，分别是：</p>
<ul>
<li><p>L（Local）：最内层，包含局部变量，比如一个函数方法内部在新建一个变量时，默认作用域为当前局部作用域，函数外引用不了，只能在其被声明的函数内部访问，<br>调用函数时，所有在函数内声明的变量名称都将被加入到作用域中</p>
</li>
<li><p>E（Enclosing）：包含了非局部(non-local)也非全局(non-global)的变量。<br>比如两个嵌套函数，一个函数（或类） A 里面又包含了一个函数 B ，<br>那么对于 B 中的名称来说 A 中的作用域就为 nonlocal，<br>将变量声明为外层变量（外层函数的局部变量，而且不能是全局变量）<br>标识该变量是上一级函数中的局部变量，只能用于嵌套函数中</p>
</li>
<li><p>G（Global）：当前脚本的最外层，比如当前模块的全局变量，就不会在局部命名空间里寻找这个变量了，可以被多个函数引用 拥有全局作用域。可以在整个程序范围内访问。</p>
</li>
<li><p>B（Built-in）： 包含了内建的变量/关键字等，最后被搜索</p>
</li>
</ul>
<blockquote>
<p>规则顺序： L –&gt; E –&gt; G –&gt;gt; B。<br>在局部找不到，便会去局部外的局部找（例如闭包），再找不到就会去全局找，再者去内置中找。</p>
</blockquote>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">g_count = <span class="number">0</span>  <span class="comment"># 全局作用域</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">outer</span>():</span></span><br><span class="line">    o_count = <span class="number">1</span>  <span class="comment"># 闭包函数外的函数中</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span>():</span></span><br><span class="line">        i_count = <span class="number">2</span>  <span class="comment"># 局部作用域</span></span><br></pre></td></tr></tbody></table></figure>

<p>内置作用域是通过一个名为 builtin 的标准模块来实现的，<br>但是这个变量名自身并没有放入内置作用域内，所以必须导入这个文件才能够使用它。</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> builtins</span><br><span class="line">dir(builtins)</span><br><span class="line">[<span class="string">'ArithmeticError'</span>, <span class="string">'AssertionError'</span>, <span class="string">'AttributeError'</span>, <span class="string">'BaseException'</span>, <span class="string">'BlockingIOError'</span>, <span class="string">'BrokenPipeError'</span>, <span class="string">'BufferError'</span>, <span class="string">'BytesWarning'</span>, <span class="string">'ChildProcessError'</span>, <span class="string">'ConnectionAbortedError'</span>, <span class="string">'ConnectionError'</span>, <span class="string">'ConnectionRefusedError'</span>, <span class="string">'ConnectionResetError'</span>, </span><br><span class="line"><span class="string">'DeprecationWarning'</span>, <span class="string">'EOFError'</span>, <span class="string">'Ellipsis'</span>, <span class="string">'EnvironmentError'</span>, <span class="string">'Exception'</span>, <span class="string">'False'</span>, <span class="string">'FileExistsError'</span>, <span class="string">'FileNotFoundError'</span>, <span class="string">'FloatingPointError'</span>, <span class="string">'FutureWarning'</span>, <span class="string">'GeneratorExit'</span>, <span class="string">'IOError'</span>, <span class="string">'ImportError'</span>, <span class="string">'ImportWarning'</span>, <span class="string">'IndentationError'</span>, <span class="string">'IndexError'</span>, <span class="string">'InterruptedError'</span>, <span class="string">'IsADirectoryError'</span>, <span class="string">'KeyError'</span>, <span class="string">'KeyboardInterrupt'</span>, <span class="string">'LookupError'</span>, <span class="string">'MemoryError'</span>, <span class="string">'ModuleNotFoundError'</span>, <span class="string">'NameError'</span>, <span class="string">'None'</span>, <span class="string">'NotADirectoryError'</span>, <span class="string">'NotImplemented'</span>, <span class="string">'NotImplementedError'</span>, <span class="string">'OSError'</span>, <span class="string">'OverflowError'</span>, <span class="string">'PendingDeprecationWarning'</span>, <span class="string">'PermissionError'</span>, <span class="string">'ProcessLookupError'</span>, <span class="string">'RecursionError'</span>, <span class="string">'ReferenceError'</span>, <span class="string">'ResourceWarning'</span>, <span class="string">'RuntimeError'</span>, <span class="string">'RuntimeWarning'</span>, <span class="string">'StopAsyncIteration'</span>, <span class="string">'StopIteration'</span>, <span class="string">'SyntaxError'</span>, <span class="string">'SyntaxWarning'</span>, <span class="string">'SystemError'</span>, <span class="string">'SystemExit'</span>, <span class="string">'TabError'</span>, <span class="string">'TimeoutError'</span>, <span class="string">'True'</span>, <span class="string">'TypeError'</span>, <span class="string">'UnboundLocalError'</span>, <span class="string">'UnicodeDecodeError'</span>, <span class="string">'UnicodeEncodeError'</span>, <span class="string">'UnicodeError'</span>, <span class="string">'UnicodeTranslateError'</span>, <span class="string">'UnicodeWarning'</span>, <span class="string">'UserWarning'</span>, <span class="string">'ValueError'</span>, <span class="string">'Warning'</span>, <span class="string">'WindowsError'</span>, <span class="string">'ZeroDivisionError'</span>, <span class="string">'__build_class__'</span>, <span class="string">'__debug__'</span>, <span class="string">'__doc__'</span>, <span class="string">'__import__'</span>, <span class="string">'__loader__'</span>, <span class="string">'__name__'</span>, <span class="string">'__package__'</span>, <span class="string">'__spec__'</span>, <span class="string">'abs'</span>, <span class="string">'all'</span>, <span class="string">'any'</span>, <span class="string">'ascii'</span>, <span class="string">'bin'</span>, <span class="string">'bool'</span>, <span class="string">'breakpoint'</span>, <span class="string">'bytearray'</span>, <span class="string">'bytes'</span>, <span class="string">'callable'</span>, <span class="string">'chr'</span>, <span class="string">'classmethod'</span>, <span class="string">'compile'</span>, <span class="string">'complex'</span>, <span class="string">'copyright'</span>, <span class="string">'credits'</span>, <span class="string">'delattr'</span>, <span class="string">'dict'</span>, <span class="string">'dir'</span>, <span class="string">'divmod'</span>, <span class="string">'enumerate'</span>, <span class="string">'eval'</span>, <span class="string">'exec'</span>, <span class="string">'exit'</span>, <span class="string">'filter'</span>, <span class="string">'float'</span>, <span class="string">'format'</span>, <span class="string">'frozenset'</span>, <span class="string">'getattr'</span>, <span class="string">'globals'</span>, <span class="string">'hasattr'</span>, <span class="string">'hash'</span>, <span class="string">'help'</span>, <span class="string">'hex'</span>, <span class="string">'id'</span>, <span class="string">'input'</span>, <span class="string">'int'</span>, <span class="string">'isinstance'</span>, <span class="string">'issubclass'</span>, <span class="string">'iter'</span>, <span class="string">'len'</span>, <span class="string">'license'</span>, <span class="string">'list'</span>, <span class="string">'locals'</span>, <span class="string">'map'</span>, <span class="string">'max'</span>, <span class="string">'memoryview'</span>, <span class="string">'min'</span>, <span class="string">'next'</span>, <span class="string">'object'</span>, <span class="string">'oct'</span>, <span class="string">'open'</span>, <span class="string">'ord'</span>, <span class="string">'pow'</span>, <span class="string">'print'</span>, <span class="string">'property'</span>, <span class="string">'quit'</span>, <span class="string">'range'</span>, <span class="string">'repr'</span>, <span class="string">'reversed'</span>, <span class="string">'round'</span>, <span class="string">'set'</span>, <span class="string">'setattr'</span>, <span class="string">'slice'</span>, <span class="string">'sorted'</span>, <span class="string">'staticmethod'</span>, <span class="string">'str'</span>, <span class="string">'sum'</span>, <span class="string">'super'</span>, <span class="string">'tuple'</span>, <span class="string">'type'</span>, <span class="string">'vars'</span>, <span class="string">'zip'</span>] </span><br></pre></td></tr></tbody></table></figure>

<p>Python 中只有模块（module），类（class）以及函数（def、lambda）才会引入新的作用域，<br>其它的代码块（如 if/elif/else/、try/except、for/while等）是不会引入新的作用域的，<br>也就是说这些语句内定义的变量，外部也可以访问，如下代码：</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">if</span> <span class="literal">True</span>:</span><br><span class="line"><span class="meta">... </span> msg = <span class="string">'I am from Runoob'</span></span><br><span class="line"><span class="meta">... </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>msg</span><br><span class="line"><span class="string">'I am from Runoob'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span></span><br></pre></td></tr></tbody></table></figure>
<p>实例中 msg 变量定义在 if 语句块中，但外部还是可以访问的。</p>
<p>如果将 msg 定义在函数中，则它就是局部变量，外部不能访问：</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">test</span>():</span></span><br><span class="line"><span class="meta">... </span>    msg_inner = <span class="string">'I am from Runoob'</span></span><br><span class="line"><span class="meta">... </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>msg_inner</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">NameError: name <span class="string">'msg_inner'</span> <span class="keyword">is</span> <span class="keyword">not</span> defined</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span></span><br></pre></td></tr></tbody></table></figure>
<p>从报错的信息上看，说明了 msg_inner 未定义，无法使用，<br>因为它是局部变量，只有在函数内可以使用。</p>
<p>在局部如果不声明全局变量，访问且不修改全局变量。则可以正常使用全局变量</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">total = <span class="number">0</span>  <span class="comment"># 这是一个全局变量</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span>(<span class="params">arg1, arg2</span>):</span>  <span class="comment"># total不是形参</span></span><br><span class="line">    print(total)  <span class="comment"># 在函数内不对全局变量修改，直接访问</span></span><br><span class="line">    <span class="keyword">return</span> total</span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用sum函数</span></span><br><span class="line">sum(<span class="number">10</span>, <span class="number">20</span>)  <span class="comment"># 0</span></span><br><span class="line">print(<span class="string">"函数外是全局变量 : "</span>, total)  <span class="comment"># 函数外是全局变量 :  0</span></span><br></pre></td></tr></tbody></table></figure>


<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">total = <span class="number">0</span>  <span class="comment"># 这是一个全局变量</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span>(<span class="params">arg1, arg2</span>):</span>  <span class="comment"># total不是形参</span></span><br><span class="line">    <span class="comment"># 返回2个参数的和.</span></span><br><span class="line">    print(total)</span><br><span class="line">    total = arg1 + arg2</span><br><span class="line">    <span class="comment"># print("函数内是局部变量 : ", total)</span></span><br><span class="line">    <span class="keyword">return</span> total</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用sum函数</span></span><br><span class="line">sum(<span class="number">10</span>, <span class="number">20</span>)</span><br><span class="line">print(<span class="string">"函数外是全局变量 : "</span>, total)</span><br><span class="line"><span class="comment"># UnboundLocalError: local variable 'total' referenced before assignment</span></span><br><span class="line"><span class="comment"># 若没有上面global total，</span></span><br><span class="line"><span class="comment"># 局部变量 total 在定义之前就引用了。</span></span><br><span class="line"><span class="comment"># 结合第1个例子，只是增加了一行 total = arg1 + arg2，</span></span><br><span class="line"><span class="comment"># 但是却是 print(total) 报错。这说明在 print(total) 之前，</span></span><br><span class="line"><span class="comment"># python 已经知道了 total 是一个局部变量，只能从局部作用域中查找。</span></span><br><span class="line"><span class="comment"># 从哪里知道的？ 从 total = arg1 + arg2 这一行知道的。</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">total = <span class="number">0</span>  <span class="comment"># 这是一个全局变量</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span>(<span class="params">arg1, arg2</span>):</span></span><br><span class="line">    <span class="comment"># 返回2个参数的和.</span></span><br><span class="line">    <span class="comment"># print(total) # 在函数内不对全局变量修改，直接访问</span></span><br><span class="line">    total = arg1 + arg2  <span class="comment"># total在这里是局部变量</span></span><br><span class="line">    print(<span class="string">"函数内是局部变量 : "</span>, total)</span><br><span class="line">    <span class="keyword">return</span> total</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用sum函数</span></span><br><span class="line">sum(<span class="number">10</span>, <span class="number">20</span>)  <span class="comment"># 函数内是局部变量 :  30</span></span><br><span class="line">print(<span class="string">"函数外是全局变量 : "</span>, total)  <span class="comment"># 函数外是全局变量 :  0</span></span><br></pre></td></tr></tbody></table></figure>


<p>另外有一种特殊情况，假设下面这段代码被运行：</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">total = <span class="number">0</span>  <span class="comment"># 这是一个全局变量</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span>(<span class="params">arg1, arg2</span>):</span>  <span class="comment"># 没有定义 total 为自变量</span></span><br><span class="line">    <span class="comment"># 返回2个参数的和.</span></span><br><span class="line">    <span class="comment"># print(total)</span></span><br><span class="line">    total = total + <span class="number">1</span>  <span class="comment"># 右边total还没定义</span></span><br><span class="line">    <span class="comment"># total = arg1 + arg2  # total在这里是局部变量.</span></span><br><span class="line">    print(<span class="string">"函数内是局部变量 : "</span>, total)</span><br><span class="line">    <span class="comment"># return total</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用sum函数</span></span><br><span class="line">sum(<span class="number">10</span>, <span class="number">20</span>)</span><br><span class="line">print(<span class="string">"函数外是全局变量 : "</span>, total)</span><br><span class="line"><span class="comment"># UnboundLocalError: local variable 'total' referenced before assignment</span></span><br></pre></td></tr></tbody></table></figure>
<p>错误信息为局部变量 total 在使用前未定义。<br>第一行定义了一个全局变量，<br>在 sum 函数中程序会因为“如果内部函数有引用外部函数的同名变量或者全局变量，<br>并且对这个变量有修改。那么python会认为它是一个局部变量，<br>又因为 sum 函数中没有 total 的定义和赋值，无法修改。<br>修改 total 为全局变量，通过函数参数传递，可以正常执行输出结果为：</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">total = <span class="number">0</span>  <span class="comment"># 这是一个全局变量</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># def sum(arg1, arg2):</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span>(<span class="params">arg1, arg2, total</span>):</span>  <span class="comment"># total为形参</span></span><br><span class="line">    <span class="comment"># 返回2个参数的和.</span></span><br><span class="line">    <span class="comment"># print(total)</span></span><br><span class="line">    total = total + <span class="number">1</span>  <span class="comment"># total在这里是局部变量.</span></span><br><span class="line">    <span class="comment"># total = arg1 + arg2  # total在这里是局部变量.</span></span><br><span class="line">    print(<span class="string">"函数内是局部变量 : "</span>, total)</span><br><span class="line">    <span class="keyword">return</span> total</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用sum函数</span></span><br><span class="line"><span class="comment"># sum(10, 20)</span></span><br><span class="line">sum(<span class="number">10</span>, <span class="number">20</span>, <span class="number">8</span>)</span><br><span class="line">print(<span class="string">"函数外是全局变量 : "</span>, total)</span><br><span class="line"><span class="comment"># 函数内是局部变量 :  9</span></span><br><span class="line"><span class="comment"># 函数外是全局变量 :  0</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="global-和-nonlocal关键字"><a href="#global-和-nonlocal关键字" class="headerlink" title="global 和 nonlocal关键字"></a>global 和 nonlocal关键字</h3><p>global和nonlocal的作用都是可以实现代码块内变量使用外部的同名变量，当内部作用域想修改外部作用域的变量</p>
<figure class="highlight plain"><figcaption><span>声明代码块中的变量使用外部全局的同名变量，即局部函数方法内执行完之后才能变成全局可，在别的文件里也可以引用到，不销毁 函数内部以global定义的变量</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line">total = 0  # 这是一个全局变量</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def sum(arg1, arg2):  # 没有定义 total 为自变量</span><br><span class="line">    # 返回2个参数的和.</span><br><span class="line">    # print(total)</span><br><span class="line">    global total</span><br><span class="line">    total = total + 1  # 右边total已经定义，在局部函数对全局变量重新赋值</span><br><span class="line">    # total = arg1 + arg2  # total在这里是局部变量.</span><br><span class="line">    print("函数内是局部变量 : ", total)</span><br><span class="line">    global c</span><br><span class="line">    c = 0</span><br><span class="line">    return total</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># 调用sum函数</span><br><span class="line">sum(10, 20)</span><br><span class="line"># 函数内是局部变量 :  1</span><br><span class="line">print("函数外是全局变量 : ", total)</span><br><span class="line"># 函数外是全局变量 :  1</span><br><span class="line"># 再调用sum函数</span><br><span class="line">sum(10, 20)</span><br><span class="line"># 函数内是局部变量 :  2 返回了函数及现场环境变量</span><br><span class="line">sum(10, 20)</span><br><span class="line"># 函数内是局部变量 :  3 返回了函数及现场环境变量</span><br><span class="line">print(c)  # 0</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">total = <span class="number">0</span>  <span class="comment"># 这是一个全局变量</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span>(<span class="params">arg1, arg2</span>):</span>  <span class="comment"># 没有定义 total 为自变量</span></span><br><span class="line">    <span class="comment"># 返回2个参数的和.</span></span><br><span class="line">    print(total)</span><br><span class="line">    <span class="keyword">global</span> total</span><br><span class="line">    total = total + <span class="number">1</span>  <span class="comment"># 右边total还没定义</span></span><br><span class="line">    <span class="comment"># total = arg1 + arg2  # total在这里是局部变量.</span></span><br><span class="line">    print(<span class="string">"函数内是局部变量 : "</span>, total)</span><br><span class="line">    <span class="keyword">return</span> total</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用sum函数</span></span><br><span class="line">sum(<span class="number">10</span>, <span class="number">20</span>)</span><br><span class="line">print(<span class="string">"函数外是全局变量 : "</span>, total)</span><br><span class="line"><span class="comment"># SyntaxError: name 'total' is used prior to global declaration</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">total = <span class="number">0</span>  <span class="comment"># 这是一个全局变量</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span>(<span class="params">arg1, arg2</span>):</span>  <span class="comment"># 没有定义 total 为自变量</span></span><br><span class="line">    <span class="comment"># 返回2个参数的和.</span></span><br><span class="line">    <span class="keyword">global</span> total</span><br><span class="line">    print(total)</span><br><span class="line">    total = total + <span class="number">1</span>  <span class="comment"># 右边total已经定义</span></span><br><span class="line">    <span class="comment"># total = arg1 + arg2  # total在这里是局部变量.</span></span><br><span class="line">    print(<span class="string">"函数内是局部变量 : "</span>, total)</span><br><span class="line">    <span class="keyword">return</span> total</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 调用sum函数</span></span><br><span class="line">sum(<span class="number">10</span>, <span class="number">20</span>)</span><br><span class="line"><span class="comment"># 0</span></span><br><span class="line"><span class="comment"># 函数内是局部变量 :  1</span></span><br><span class="line">print(<span class="string">"函数外是全局变量 : "</span>, total)</span><br><span class="line"><span class="comment"># 函数外是全局变量 :  1</span></span><br></pre></td></tr></tbody></table></figure>



<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">int = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun1</span>():</span></span><br><span class="line">    int = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fun2</span>():</span></span><br><span class="line">        int = <span class="number">2</span></span><br><span class="line">        print(int)</span><br><span class="line"></span><br><span class="line">    fun2()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fun1()  <span class="comment"># 2</span></span><br><span class="line"></span><br><span class="line">int = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun3</span>():</span></span><br><span class="line">    int = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fun4</span>():</span></span><br><span class="line">        <span class="comment"># int = 2</span></span><br><span class="line">        print(int)  <span class="comment"># 在函数内部找不到对 int 的定义，则去外层查询。输出1。</span></span><br><span class="line"></span><br><span class="line">    fun4()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fun3()  <span class="comment"># 1</span></span><br><span class="line"></span><br><span class="line">int = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun5</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fun6</span>():</span></span><br><span class="line">        print(int)</span><br><span class="line"></span><br><span class="line">    fun6()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fun5()  <span class="comment"># 0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">del</span> int</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun5</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fun6</span>():</span></span><br><span class="line">        print(int)</span><br><span class="line"></span><br><span class="line">    fun6()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fun5()  <span class="comment"># &lt;class 'int'&gt; local、non-local、global 中都没有 int 的值，便去 built-in 中寻找 int 的值</span></span><br></pre></td></tr></tbody></table></figure>

<p>如果要修改嵌套作用域（enclosing 作用域，外层非全局作用域）中的同名变量<br>则需要 nonlocal 关键字了，如下实例：</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">no = <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun2</span>():</span></span><br><span class="line">    <span class="keyword">nonlocal</span> no  </span><br><span class="line">    print(no)</span><br><span class="line">    no = <span class="number">123</span></span><br><span class="line">    print(no)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">fun2()</span><br><span class="line"><span class="comment"># 1</span></span><br><span class="line"><span class="comment"># 123</span></span><br><span class="line">print(no)</span><br><span class="line"><span class="comment"># Syntax Error: no binding for nonlocal ‘no’ found</span></span><br><span class="line"><span class="comment"># nonlocal 表示外层变量，但是一旦外层变量是全局变量，则只能用 global。</span></span><br><span class="line"><span class="comment"># 在使用 nonlocal no 之前，必须保证外层的确已经定义过 no 了，</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">make_counter</span>():</span></span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">counter</span>():</span></span><br><span class="line">        <span class="keyword">nonlocal</span> count</span><br><span class="line">        count += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> count</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> counter</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">make_counter_test</span>():</span></span><br><span class="line">    mc = make_counter()</span><br><span class="line">    print(mc())</span><br><span class="line">    print(mc())</span><br><span class="line">    print(mc())</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">make_counter_test()</span><br><span class="line"><span class="comment"># 1</span></span><br><span class="line"><span class="comment"># 2</span></span><br><span class="line"><span class="comment"># 3</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">outer</span>():</span></span><br><span class="line">    num = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span>():</span></span><br><span class="line">        <span class="comment"># print(num)</span></span><br><span class="line">        <span class="keyword">nonlocal</span> num  <span class="comment"># nonlocal关键字声明为外层变量</span></span><br><span class="line">        print(num)  <span class="comment"># 10</span></span><br><span class="line">        num = <span class="number">100</span></span><br><span class="line">        print(num)  <span class="comment"># 100</span></span><br><span class="line"></span><br><span class="line">    inner()</span><br><span class="line">    print(num)  <span class="comment"># 100</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">outer() </span><br><span class="line"><span class="comment"># 10</span></span><br><span class="line"><span class="comment"># 100</span></span><br><span class="line"><span class="comment"># 100</span></span><br><span class="line">print(num) </span><br><span class="line"><span class="comment"># NameError: name 'num' is not defined</span></span><br></pre></td></tr></tbody></table></figure>


<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">outer</span>():</span></span><br><span class="line">    num = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span>():</span></span><br><span class="line">        <span class="comment"># print(num)</span></span><br><span class="line">        <span class="keyword">global</span> num  <span class="comment"># global</span></span><br><span class="line">        print(num)</span><br><span class="line">        num = <span class="number">100</span></span><br><span class="line">        print(num)</span><br><span class="line"></span><br><span class="line">    inner()</span><br><span class="line">    print(num)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">outer()</span><br><span class="line"><span class="comment"># NameError: name 'num' is not defined</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">outer</span>():</span></span><br><span class="line">    num = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span>():</span></span><br><span class="line">        <span class="comment"># print(num)</span></span><br><span class="line">        <span class="keyword">global</span> num  <span class="comment"># num为全局变量，与上面等于1的 num 没有关系</span></span><br><span class="line">        num = <span class="number">20</span>  <span class="comment"># 定义全局变量</span></span><br><span class="line">        print(num)  <span class="comment"># 输出20</span></span><br><span class="line">        num = <span class="number">100</span></span><br><span class="line">        print(num)  <span class="comment"># 输出100</span></span><br><span class="line"></span><br><span class="line">    inner()</span><br><span class="line">    print(num)  <span class="comment"># 输出10，局部变量</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">outer()</span><br><span class="line">print(num)  <span class="comment"># 输出100，全局变量</span></span><br></pre></td></tr></tbody></table></figure>


<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在函数 add_b 内 global 定义的变量 b，只能在 函数 do_global 内引用，</span></span><br><span class="line"><span class="comment"># 如果要在 do_global 内修改，</span></span><br><span class="line"><span class="comment"># 必须在 do_global 函数里面声明 global b ，</span></span><br><span class="line"><span class="comment"># 表明是修改外面的 全局变量 b ：</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_b</span>():</span></span><br><span class="line">    <span class="keyword">global</span> b</span><br><span class="line">    b = <span class="number">42</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">do_global</span>():</span></span><br><span class="line">        <span class="keyword">global</span> b</span><br><span class="line">        b = b + <span class="number">10</span></span><br><span class="line">        print(b)</span><br><span class="line"></span><br><span class="line">    do_global()</span><br><span class="line">    print(b)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">add_b()</span><br><span class="line"><span class="comment"># 52</span></span><br><span class="line"><span class="comment"># 52</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在函数 add_b 内 global 定义的变量 b，只能在 函数 do_global 内引用，</span></span><br><span class="line"><span class="comment"># 如果要在 do_global 内修改，</span></span><br><span class="line"><span class="comment"># 必须在 do_global 函数里面声明 global b ，</span></span><br><span class="line"><span class="comment"># 表明是修改外面的 全局变量 b ：</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_b</span>():</span></span><br><span class="line">    <span class="keyword">global</span> b</span><br><span class="line">    b = <span class="number">42</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">do_global</span>():</span></span><br><span class="line">        <span class="comment"># global b</span></span><br><span class="line">        b = b + <span class="number">10</span></span><br><span class="line">        print(b)</span><br><span class="line"></span><br><span class="line">    do_global()</span><br><span class="line">    print(b)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">add_b()</span><br><span class="line"><span class="comment"># UnboundLocalError: local variable 'b' referenced before assignment</span></span><br><span class="line"><span class="comment"># 如果将do_global()里的global b注释掉,会报错。</span></span><br><span class="line"><span class="comment"># global 定义的 b ，只能引用，不能修改。</span></span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_b</span>():</span></span><br><span class="line">    <span class="comment"># global  b</span></span><br><span class="line">    b = <span class="number">42</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">do_global</span>():</span></span><br><span class="line">        <span class="keyword">nonlocal</span> b</span><br><span class="line">        b = <span class="number">10</span></span><br><span class="line">        print(b)</span><br><span class="line"></span><br><span class="line">    do_global()</span><br><span class="line">    print(b)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">add_b()</span><br><span class="line"><span class="comment"># 10</span></span><br><span class="line"><span class="comment"># 10</span></span><br><span class="line"><span class="comment"># 如果在最后加上print(" b = %s " % b)，则会报错</span></span><br><span class="line"><span class="comment"># NameError: name 'b' is not defined</span></span><br><span class="line"><span class="comment"># 说明： nonlocal  适用于在局部函数 中 的局部函数， 把最内层的局部 变量设置成外层局部可用，但是还不是全局的。</span></span><br></pre></td></tr></tbody></table></figure>


<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">scope_test</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">do_local</span>():</span></span><br><span class="line">        spam = <span class="string">"local spam"</span></span><br><span class="line">        <span class="comment"># 此函数定义了另外的一个spam字符串变量，</span></span><br><span class="line">        <span class="comment"># 并且生命周期只在此函数内。</span></span><br><span class="line">        <span class="comment"># 此处的spam和外层的spam是两个变量，</span></span><br><span class="line">        <span class="comment"># 如果写出spam = spam + “local spam” 会报错</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">do_nonlocal</span>():</span></span><br><span class="line">        <span class="keyword">nonlocal</span> spam  <span class="comment"># 使用外层的spam变量</span></span><br><span class="line">        spam = <span class="string">"nonlocal spam"</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">do_global</span>():</span></span><br><span class="line">        <span class="keyword">global</span> spam</span><br><span class="line">        spam = <span class="string">"global spam"</span></span><br><span class="line"></span><br><span class="line">    spam = <span class="string">"test spam"</span></span><br><span class="line">    do_local()</span><br><span class="line">    print(<span class="string">"After local assignment:"</span>, spam)</span><br><span class="line">    do_nonlocal()</span><br><span class="line">    print(<span class="string">"After nonlocal assignment:"</span>, spam)</span><br><span class="line">    do_global()</span><br><span class="line">    print(<span class="string">"After global assignment:"</span>, spam)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">scope_test()</span><br><span class="line"><span class="comment"># After local assignment: test spam</span></span><br><span class="line"><span class="comment"># After nonlocal assignment: nonlocal spam</span></span><br><span class="line"><span class="comment"># After global assignment: nonlocal spam</span></span><br><span class="line">print(<span class="string">'----'</span>)</span><br><span class="line"><span class="comment"># ----</span></span><br><span class="line">print(<span class="string">"In global scope:"</span>, spam)</span><br><span class="line"><span class="comment"># In global scope: global spam</span></span><br></pre></td></tr></tbody></table></figure>


<p>nolocal 的使用场景就比较单一，它是使用在闭包中的，使变量使用外层的同名变量</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span>(<span class="params">func</span>):</span></span><br><span class="line">        a = <span class="number">1</span></span><br><span class="line">        print(<span class="string">"外层函数a的值"</span>, a)</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>():</span></span><br><span class="line">                func()</span><br><span class="line">                <span class="keyword">nonlocal</span> a</span><br><span class="line">                a += <span class="number">1</span></span><br><span class="line">                print(<span class="string">"经过改变后，里外层函数a的值："</span>, a)</span><br><span class="line">        <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"><span class="meta">@foo</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">change</span>():</span></span><br><span class="line">      print(<span class="string">"nolocal的使用"</span>)</span><br><span class="line"></span><br><span class="line">change()</span><br><span class="line"><span class="comment"># 外层函数a的值 1</span></span><br><span class="line"><span class="comment"># nolocal的使用</span></span><br><span class="line"><span class="comment"># 经过改变后，里外层函数a的值： 2</span></span><br></pre></td></tr></tbody></table></figure>
<p>外层函数a的值 1<br>nolocal的使用<br>经过改变后，里外层函数a的值： 2<br>总结global的作用对象是全局变量，nonlocal的作用对象是外层变量（很显然就是闭包这种情况）</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/pytest/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/pytest/" class="post-title-link" itemprop="url">HTML</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-04-02 12:24:46" itemprop="dateModified" datetime="2021-04-02T12:24:46Z">2021-04-02</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Markdown/" itemprop="url" rel="index"><span itemprop="name">Markdown</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>官方文档 给出了 pytest 寻找 测试项 的 具体规则</p>
<ul>
<li>如果未指定命令行参数，则从 testpath（如果已配置）或当前目录开始收集。</li>
</ul>
<p>如果命令行参数， 指定了 目录、文件名 或 node id 的任何组合，则按参数来找</p>
<ul>
<li><p>寻找过程会递归到目录中，除非它们匹配上 norecursedirs。</p>
</li>
<li><p>在这些目录中，搜索由其测试包名称导入的 test_*.py 或 *_test.py 文件。</p>
</li>
<li><p>从这些文件中，收集如下测试项：</p>
</li>
</ul>
<ul>
<li>test为前缀 的 函数</li>
<li>Test为前缀的 类 里面的 test为前缀的方法</li>
</ul>
<p>我们编写的测试用例代码文件， 必须以 test_ 开头，或者以 _test 结尾<br>比如，我们创建一个 文件名为 test_错误登录.py ，<br>放在目录 autotest\cases\登录 下面。<br>其中 autotest 是 我们创建的 自动化项目根目录</p>
<p>如果我们把测试用例存放在类中， 类名必须以 Test 为前缀的 类 ，<br>用例对应的方法必须以 test 为前缀的方法。</p>
<p>pytest 中用例的检查点 直接用 Python 的 assert 断言。</p>
<p>assert 后面的表达式结果 为 True ，就是 检查点 通过，<br>结果为False ，就是检查点 不通过。</p>
<p>我们这里先快速给大家介绍 pytest 的基本用法， 就先用简单的 表达式演示一下，<br>后面的教程会有实际的测试代码 和 检查点。</p>
<p>#运行测试<br>执行测试非常简单，打开命令行窗口，<br>进入自动化项目根目录（我们这里就是 autotest），执行命令程序 pytest 即可<br>显示找到3个测试项，2个执行通过，1个不通过。</p>
<p>通过的用例 是用一个绿色小点表示， 不通过的用例用一个红色的F表示</p>
<p>并且会在后面显示具体不通过的用例 和不通过的检查点 代码细节。</p>
<ul>
<li><p>希望 显示测试代码中print的内容，因为这些打印语句在调试代码时很有用，可以加上命令行参数 -s</p>
</li>
<li><p>希望得到更详细的执行信息，包括每个测试类、测试函数的名字，可以加上参数 -v，这个参数可以和 -s 合并为 -sv</p>
</li>
</ul>
<p>指定一个模块执行</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pytest 路径\模块名.py -sv</span><br></pre></td></tr></tbody></table></figure>

<p>指定一个目录执行</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pytest 目录名<span class="number">1</span> 目录名<span class="number">2</span> -sv</span><br></pre></td></tr></tbody></table></figure>

<p>指定一个类执行</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pytest 路径\模块名.py::类名<span class="number">1</span> -sv</span><br></pre></td></tr></tbody></table></figure>

<p>指定一个类里面的方法执行</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pytest 路径\模块名.py::类名<span class="number">1</span>::方法名 -sv</span><br></pre></td></tr></tbody></table></figure><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/python-random/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/python-random/" class="post-title-link" itemprop="url">python random</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-04-09 09:32:48" itemprop="dateModified" datetime="2021-04-09T09:32:48Z">2021-04-09</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="random提供了生成随机数的工具"><a href="#random提供了生成随机数的工具" class="headerlink" title="random提供了生成随机数的工具"></a>random提供了生成随机数的工具</h2><figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> random</span><br><span class="line">print(random.choice([<span class="string">'apple'</span>, <span class="string">'pear'</span>, <span class="string">'banana'</span>]))</span><br><span class="line"><span class="comment"># 'apple'</span></span><br><span class="line">print(random.sample(range(<span class="number">100</span>), <span class="number">10</span>))  <span class="comment"># sampling without replacement</span></span><br><span class="line"><span class="comment"># [30, 83, 16, 4, 8, 81, 41, 50, 18, 33]</span></span><br><span class="line">print(random.random())  <span class="comment"># random float 0~1</span></span><br><span class="line"><span class="comment"># 0.17970987693706186</span></span><br><span class="line">print(random.randrange(<span class="number">6</span>))  <span class="comment"># random integer chosen from range(6)</span></span><br><span class="line"><span class="comment"># 4</span></span><br></pre></td></tr></tbody></table></figure><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/python3-xin-zeng-de-yu-fa-he-nei-zhi-ku/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/python3-xin-zeng-de-yu-fa-he-nei-zhi-ku/" class="post-title-link" itemprop="url">python3新增的语法和内置库</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-04-11 04:22:16" itemprop="dateModified" datetime="2021-04-11T04:22:16Z">2021-04-11</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>① <code>yield from</code> 链接子生成器<br>② <code>asyncio</code>内置库， async/await原生协程支持异步编程<br>③ 新的内置库<code>enum</code>枚举库, mock库做单测试mock掉一些网络接口,  <code>ipaddress</code>处理IP地址库, <code>concurrent.futures</code>并发相关库等<br>④ python3把生成的pyc文件统一放到<code>__pycache__</code>文件夹下面。<br>⑤ 一些内置库的修改。urllib, selector等<br>⑥ 性能优化等</p>
<h3 id="兼容2-3的工具"><a href="#兼容2-3的工具" class="headerlink" title="兼容2/3的工具"></a>兼容2/3的工具</h3><pre><code>six模块
2to3等工具转换代码
__future__
</code></pre>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/python-man/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/python-man/" class="post-title-link" itemprop="url">python慢</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-05-01 03:02:29" itemprop="dateModified" datetime="2021-05-01T03:02:29Z">2021-05-01</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>py代码主要是干什么事情。通常的处理如果是干一些文件操作，网络操作，和c++差距人都感知不出来。性能敏感的代码可以用c++做成库去调用。其实很多Python的库核心都是c语言c加加写的，然后Python去调用它。Python qt库也是这样。</p>
<p>处理邮件，自动收发，回复邮件；包括操纵文档、PPT，python表示分分钟整理完成。</p>
<p>金融行业的可以用来量化投资，数据清洗</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/python-mo-kuai/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/python-mo-kuai/" class="post-title-link" itemprop="url">python模块</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-05-02 11:31:50" itemprop="dateModified" datetime="2021-05-02T11:31:50Z">2021-05-02</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <ul>
<li>模块是对内部逻辑的<strong>封装</strong>，只对外提供<strong>接口</strong></li>
<li>一个py文件就是一个模块，模块的名称就是不含.py后缀的文件名<br><code>import</code>关键字导入一个模块</li>
</ul>
<p>◆可维护性更强◆方便代码重用<br>python中模块是包含变量、函数、……代码块的文件；<br>包是存放多个文件/模块的文件夹，可以统一组织和管理多个python模块；<br>标准的包结构中包含一个特殊的文件[_init_py]。<br>两者的区别：包是一个文件夹，可以包含多个文件/模块，模块是一个文件</p>
<p>什么叫反射？<br>给定一个对象，返回该对象的所有属性和函数列表，<br>或给定对象和该对象的函数或者属性的名字，返回对象的函数或者属性实例。<br>dir函数就是反射的实现，<br>dir()函数:如果要获得一个对象的所有属性和方法，<br>dir() 函数一个排好序的字符串列表，内容是一个模块里定义过的名字。<br>返回的列表容纳了在一个模块里定义的所有模块，变量和函数</p>
<p>help——查看类，方法的帮助信息<br>__name__—当前模块的名称<br>__file__——文件全路径</p>
<p>当你导入一个模块，Python 解析器对模块位置的搜索顺序是：<br>1、当前目录（包）<br>2、如果不在当前目录，Python 则搜索在 shell 变量 PYTHONPATH 下的每个目录。（内置函数）<br>3、如果都找不到，Python会察看默认路径。<br>模块搜索路径存储在 system 模块的 sys.path 变量中。变量里包含当前目录，PYTHONPATH和由安装过程决定的默认目录。（环境变量）<br>PYTHONPATH 变量作为环境变量，PYTHONPATH 由装在一个列表里的许多目录组成。PYTHONPATH 的语法和 shell 变量 PATH 的一样。</p>
<p>导入模块时，只需要写模块名<br>只导入模块名时，引用模块中的函数时，格式是模块名.函数名</p>
<p>包python package<br>◆可以用来组织模块（可以包含其它模块的模块），包是一个分层次的文件目录结构，它定义了一个由模块及子包，和子包下的子包等组成的 Python 的应用环境。<br>◆目录（文件夹）必须包含文件_init.py，, 该文件的内容可以为空。<strong>init</strong>.py 用于标识当前文件夹是一个包。<br>◆模块重名问题解决</p>
<p>包Package的引用<br>·引入整个包：import module,还要确保该模块所在包中的_init__.py模块，写入具体要引入的模块名。<br>·只是引入所需要的属性和方法：from module.xx.xx import xx<br>在<em>init</em>.py为空的前提下，包的引入有三种，分别是<br>from 包名 import 模块名、<br>from 包名.模块名 import 函数名、<br>import 包名.模块名，利用as可以给模块或包指定别名</p>
<p>◆指定别名，导入不同包同名模块：from module.xx.xx import xx as renename<br>·引入所有：from module.xx.xx import * 不推荐，需要什么导入什么<br>导入包的本质就是执行该包下的<strong>init</strong>.py文件</p>
<p>在引入目录Directory中内容时，只可以引入该目录的子目录中的内容，也可以手动为Directory添加<em>init</em>.py使之可以像包一样引用</p>
<p>函数/变量描述<br>argv命令行参数，包括脚本名<br>getcwd返回当前所在的目录<br>modules一个字典，将模块名映射到加载的模块<br>path一个列表，包含要在其中查找模块的目录的名称<br>platform一个平台标识符，如sunos5或win32</p>
<p>DateTime模块<br>函数/变量  描述<br>timedelta对日期/时间进行加减操作时使用<br>date() 表示一个日期<br>datetime.strftime 将datetime对象格式化成字符串<br>datetime.strptime 将字符串按照一定的格式转换成datetime对象<br>time() 表示一个时间的类<br>datetime.now 系统的当前时间<br>day datetime对象的属性，类似的还有minute，hour等<br>days Timedelta的属性，类似的还有minutes, hour等<br>datetime.now()，datetime.today()得到当前日期时间，<br>datetime.now().day 当前月的第几天<br>datetime.today().time 当前时间</p>
<p>DateTime模块转换参数表参数含义<br>%A星期的名称，如Monday<br>%B月份名，如anuary<br>%m用数字表示的月份（01<del>12）<br>%d用数字表示月份中的一天（01～31）<br>%Y四位的年份，如2015<br>%y两位的年份，如15<br>%H 24小时制的小时数（00</del>23）%l12小时制的小时数（01<del>12）<br>%p am或pm<br>%M分钟数（00</del>59<br>%S秒数（00~61）</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/python-xu-ni-huan-jing/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/python-xu-ni-huan-jing/" class="post-title-link" itemprop="url">python虚拟环境与pip</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-05-12 03:00:08" itemprop="dateModified" datetime="2021-05-12T03:00:08Z">2021-05-12</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>关掉前面的base<br>conda deactivate 退出 conda base 环境</p>
<p>PyPi Python Package Index，一个Python库的托管平台，<a target="_blank" rel="noopener" href="https://pypi.org/">https://pypi.org/</a> </p>
<p>延长timeout时间</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip --default-timeout=100 install --index-url https://pypi.tuna.tsinghua.edu.cn/simple/ package</span><br></pre></td></tr></tbody></table></figure>


<p>使⽤源码安装：下载安装包并解压，然后进⼊setup.py所在的⽬录，执⾏python setup.py install</p>
<ul>
<li><code>pip show 包名</code> 查看安装详情</li>
<li><code>pip uninstall 包名</code></li>
<li><code>pip list</code> 查看安装的包 列出安装的库</li>
<li><code>pip list --outdated</code> 列出有更新的库</li>
<li><code>pip install -U library_name</code> 升级库library_name</li>
<li><code>pip install --upgrade library_name</code> 升级库library_name</li>
</ul>
<p>任何应用程序通常需要设置安装所需并依赖一组类库来满足工作要求。<br>要求文件是指定和一次性安装包的依赖项具体一整套方法。</p>
<ul>
<li><p><code>pip freeze &gt; requirements.txt</code> 提取 生成将当前项目的pip类库列表生成 requirements.txt 文件，保存当前Python环境下所有类库包，其它包括那些你没有在当前项目中使用的类库。 </p>
</li>
<li><p><code>pip install -r requirements.txt</code> 安装requirements.txt提取的依赖</p>
</li>
<li><p><code>pip install --cache-dir . C:\abc\xadmin-master.zip</code><br>pip install 包名==版本号 指定版本安装：<br>pip install .whl安装包名 通过.whl安装包安装 这种方式通常在直接pip安装出现异常时使用。.whl安装包需在安装前下载好，下面推荐一个常用的.whl包下载网址：<a target="_blank" rel="noopener" href="https://www.lfd.uci.edu/~gohlke/pythonlibs/">https://www.lfd.uci.edu/~gohlke/pythonlibs/</a></p>
</li>
</ul>
<p><code>pip install pipenv</code><br>在创建好的目录下执行<br>pip –python</p>
<ul>
<li><code>pipenv install 包名</code>，创建一个当前目录下面的虚拟环境，接着看项目里面有没有Pipfile文件，如果有会读取里面记录的依赖包，并且自动把所有的包安装到创建的虚拟环境中</li>
<li><code>pipenv shell</code> 进入</li>
<li><code>python -m pip install --upgrade pip</code></li>
<li><code>pipenv graph</code> 查看依赖包</li>
<li><code>exit</code> 退出</li>
<li><code>pipenv --env</code>查看虚拟环境的名字、文件的路径</li>
</ul>
<p>Python中的虚拟环境具有隔离性，<br>Python的虚拟环境可以使一个Python程序拥有独立的库library和解释器interpreter，<br>而不用与其他Python程序共享统一个library和interpreter，<br>主要应用于解决因为版本问题所引发的冲突问题</p>
<h4 id="virtualenv"><a href="#virtualenv" class="headerlink" title="virtualenv"></a>virtualenv</h4><p><code>pip install virtualenv</code><br>每一次使用都需要进入到虚拟环境目录的Scripts文件夹中<br><code>virtualenv firstenv</code> 创建一个名为firstenv的虚拟环境，<br>在当前文件夹会出现一个与刚新建的虚拟环境同名的文件夹<br><code>activate</code>/<code>deactivate</code> 激活虚拟环境并进入/退出虚拟环境</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> 包名</span><br><span class="line">quit()</span><br></pre></td></tr></tbody></table></figure>


<h4 id="virtualenvwrapper"><a href="#virtualenvwrapper" class="headerlink" title="virtualenvwrapper"></a>virtualenvwrapper</h4><p>以在任意目录下进入已创建的虚拟环境中</p>
<ul>
<li><code>pip install virtualenvwrapper-win</code><br><code>mkvirtualenv secondenv</code> 创建一个名为secondenv的虚拟环境,会自动进入虚拟环境中<br>&nbsp;运行上述命令后，在当前文件夹下可不会找到刚创建好的虚拟环境。通过云上面图片，发现virtualenvwrapper将虚拟环境安装在C:\Envs这一目录中，也就是说，virtualenvwrapper默认将虚拟环境同一安装到C:\Envs这一目录中</li>
</ul>
<p>不过美中不足的是，virtualenvwrapper将虚拟环境安装在了默认的文件夹中。那么，怎么virtualenvwrapper将虚拟环境同一安装到我们指定的目录中呢？那就要通过配置系统环境变量来实现了。</p>
<p>首先新建一个文件夹，专门弄用来存放virtualenvwrapper创建的虚拟环境，例如在D盘新建一个名为virtualenvs的文件夹。然后进行如下配置：<br>环境变量-&gt;新建系统变量，接下来如下图所示，变量名输入WORKON_HOME，变量值输入文件夹路径，即D:\virtualenvs，输入完成后点击确定，保存退出。</p>
<p><code>workon</code> 无论在哪个目录下 列出当前指定的文件路径下的新建的虚拟环境。</p>
<ul>
<li><code>workon 虚拟环境名</code> 进入指定的虚拟环境，关掉之后进入：<br><code>deactivate</code> 退出虚拟环境</li>
<li><code>rmvirtualenv 环境名称</code> 删除虚拟环境：</li>
</ul>
<p><code>venv</code> 是Python 3 自带的创建虚拟环境的模块，不需要再单独安装 virtualenv</p>
<p>pycharm中也集成了虚拟环境管理功能。<br>pycharm新建一个Python项目，并在创建项目时建立虚拟环境：</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/redis/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/redis/" class="post-title-link" itemprop="url">redis</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-05-11 05:10:57" itemprop="dateModified" datetime="2021-05-11T05:10:57Z">2021-05-11</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%95%B0%E6%8D%AE%E5%BA%93/" itemprop="url" rel="index"><span itemprop="name">数据库</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Redis是一种Key-Value存储结构的NoSQL非关系数据库存储服务系统</p>
<h2 id="Redis特性"><a href="#Redis特性" class="headerlink" title="Redis特性"></a>Redis特性</h2><h4 id="速度快"><a href="#速度快" class="headerlink" title="速度快"></a>速度快</h4><ul>
<li>数据存储在<strong>内存</strong>中 （主要原因）</li>
<li>C语言编写（50000行）</li>
<li>单线程模型</li>
</ul>
<h4 id="持久化"><a href="#持久化" class="headerlink" title="持久化"></a>持久化</h4><p>Redis所有数据存储在内存，对数据的更新将异步保存到磁盘上</p>
<h4 id="多种数据结构"><a href="#多种数据结构" class="headerlink" title="多种数据结构"></a>多种数据结构</h4><ul>
<li>字符串（string）</li>
<li>哈希表（hash tables）</li>
<li>列表（lists）</li>
<li>集合（sets）</li>
<li>有序集合（sorted sets/ zset）</li>
<li>位图（BitMaps） 实现过滤器</li>
<li>超小内存唯一值计数（HyperLogLog）</li>
<li>地理信息定位（GEO）</li>
</ul>
<h4 id="支持多种编辑语言"><a href="#支持多种编辑语言" class="headerlink" title="支持多种编辑语言"></a>支持多种编辑语言</h4><h4 id="功能丰富"><a href="#功能丰富" class="headerlink" title="功能丰富"></a>功能丰富</h4><ul>
<li>发布订阅</li>
<li>Lua脚本</li>
<li>事务</li>
<li>pipeline</li>
</ul>
<h4 id="简单"><a href="#简单" class="headerlink" title="简单"></a>简单</h4><ul>
<li>不依赖外部库</li>
<li>单线程模型</li>
</ul>
<h4 id="主从复制"><a href="#主从复制" class="headerlink" title="主从复制"></a>主从复制</h4><p>主服务器数据复制到从服务器上</p>
<h4 id="高可用，分布式"><a href="#高可用，分布式" class="headerlink" title="高可用，分布式"></a>高可用，分布式</h4><p>高可用（Redis-Sentinel(v2.8支持高可用)）<br>分布式（Redis-Cluster(v3.0支持分布式)）</p>
<h3 id="redis的使用场景"><a href="#redis的使用场景" class="headerlink" title="redis的使用场景"></a>redis的使用场景</h3><ul>
<li><p>高速缓存cache</p>
<ul>
<li>10万+的QPS（查询次数/秒），集群可达百万级以上</li>
<li>首页内容缓存优化（门户、新闻等）</li>
<li>秒杀业务、抢购业务、库存控制等</li>
</ul>
</li>
<li><p>计数器<br>实现评论计数、播放量计算等</p>
</li>
<li><p>消息队列系统</p>
</li>
<li><p>排行榜</p>
</li>
<li><p>社交网络<br>粉丝数量、关注数、共同关注、</p>
</li>
<li><p>实时系统</p>
</li>
</ul>
<h3 id="Redis可执行文件说明"><a href="#Redis可执行文件说明" class="headerlink" title="Redis可执行文件说明"></a>Redis可执行文件说明</h3><p>redis-server （redis服务器）<br>redis-cli （redis命令行客户端）<br>redis-benchmark （性能检测工具）<br>redis-check-aof （AOF文件修复工具）<br>redis-check-dump （RDB文件修复工具）<br>redis-sentinel （Sentinel服务器2.8以后）</p>
<h3 id="启动redis"><a href="#启动redis" class="headerlink" title="启动redis"></a>启动redis</h3><ul>
<li><p>最简启动</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-server</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>动态参数启动</p>
</li>
</ul>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">redis-server --port 6379</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>配置文件启动（生产环境选择）<br>单机多实例使用端口区分，一台机器会有多个redis，配置文件用端口来区分</li>
</ul>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos redis-6.0.12]<span class="comment"># cd src</span></span><br><span class="line">[root@VM-0-9-centos redis-6.0.12]<span class="comment"># ./src/redis-server redis.conf</span></span><br><span class="line"></span><br><span class="line">[root@VM-0-9-centos redis-6.0.12]<span class="comment"># mv /src/redis-server/redis.conf redis-6380.conf </span></span><br><span class="line">[root@VM-0-9-centos redis-6.0.12]<span class="comment"># redis-server redis-6380.conf </span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>


<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; redis-server redis.windows.conf</span><br></pre></td></tr></tbody></table></figure>


<p>可以做一个包含此命令的bat文件，每次双击启动</p>
<p>Redis 命令<br>Redis 命令用于在 redis 服务上执行操作。<br>要在 redis 服务上执行命令需要一个 redis 客户端。Redis 客户端在我们之前下载的的 redis 的安装包中。</p>
<p>Redis 客户端的基本语法为：</p>
<ul>
<li>启动 redis 服务器，连接本地的 redis 服务。连接到<strong>本地</strong>的 redis 服务并执行 PING 命令，<br>加上 –raw避免中文乱码了<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos ~]<span class="comment"># redis-cli --raw</span></span><br><span class="line">127.0.0.1:6379&gt; ping</span><br><span class="line">PONG</span><br><span class="line">127.0.0.1:6379&gt; <span class="built_in">exit</span></span><br></pre></td></tr></tbody></table></figure>
<code>auth "password"</code>登录才有权限，不能漏掉双引号</li>
</ul>
<p>在远程 redis 服务上执行命令</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ redis-cli -h host -p port -a password</span><br><span class="line">$ redis-cli -h 127.0.0.1 -p 6379 -a <span class="string">"mypass"</span></span><br><span class="line">redis 127.0.0.1:6379&gt; PING</span><br><span class="line">PONG</span><br></pre></td></tr></tbody></table></figure>


<p>验证是否成功启动</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos ~]<span class="comment"># ps -ef | grep redis</span></span><br><span class="line">root      4092  3940  0 11:52 pts/5    00:00:00 grep --color=auto redis</span><br><span class="line">root     21009     1  0 Apr24 ?        00:26:12 ./src/redis-server 127.0.0.1:6379</span><br><span class="line">[root@VM-0-9-centos ~]<span class="comment"># ps -ef | grep redis | grep -v grep</span></span><br></pre></td></tr></tbody></table></figure>
<p>netstat antpl | grep redis 查看端口是否是listen<br>redis-cli ping<br>redis-cli -h ip -p port ping</p>
<h3 id="Redis常用配置"><a href="#Redis常用配置" class="headerlink" title="Redis常用配置"></a>Redis常用配置</h3><p>后台进程</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos redis-6.0.12]<span class="comment"># vim redis.conf</span></span><br></pre></td></tr></tbody></table></figure>
<p>yy复制一行，p粘贴，</p>
<figure class="highlight nginx"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># daemonize no 默认</span></span><br><span class="line"><span class="attribute">daemonize</span> <span class="literal">yes</span>  <span class="comment"># 启动的日志</span></span><br></pre></td></tr></tbody></table></figure>
<p>Esc + :wq</p>
<p>port （对外端口号 默认为6379）<br>logfile （系统日志）工作表现、异常<br>dir （工作目录）</p>
<p>redis 没有表 缓存经常被读取的热数据的平台<br>redis里面取出来的数据都是bytes类型的，所以要用decode方法转成字符串</p>
<p>flushdb 清空逻辑表格<br>flushall  清空逻辑库数据</p>
<h4 id="字符串（String）相关操作"><a href="#字符串（String）相关操作" class="headerlink" title="字符串（String）相关操作"></a>字符串（String）相关操作</h4><ul>
<li><code>set</code> – 设置值</li>
<li><code>get</code> – 获取值</li>
<li><code>mset</code> – 设置多个键值对key-value</li>
<li><code>mget</code> – 获取多个键值对key-value</li>
<li><code>append</code> – 在字符串结尾添加字符串内容</li>
<li><code>del</code> – 删除</li>
<li><code>incr</code>/<code>decr</code> – 增加/减少 1<br>incr num 数字自增加1<br>incrby num 25 数字加上指定的整数值<br>incrbyfloat num 2.5 数字加上指定的整数值<br>decr num 数字自增减1<br>decrby num 25 数字减去指定的整数值</li>
</ul>
<pre class=" language-redis"><code class="language-redis">>set email scott@163.com
>get email

>mset a 10 b 20 c 30
>mget a b c email

mset username scott sex male 
mget username sex  

append username 123 在字符串结尾追加内容
</code></pre>
<pre class=" language-redis"><code class="language-redis">> incr count
(integer) 1
> incr count
(integer) 2
> incr count
(integer) 3
> get count
"3"
> incr count
(integer) 4
> incr count
(integer) 5
`


缓存
- 内容变化不频繁
 - 几个小时、几天才变化一次
- 重复性工作
 - 查询数据库
 - 生成响应数据
- 优化一下：不查数据库，缓存内容


getrange email 0 3 获得截取字符串内容
strlen emai 获得字符串长度

setex 设置带有过期时间（秒）的 key-value
setex city 5 Beijing


数据类型
String(字符串)：用来实现
简单的 KV 键值对存储，比如计数器

哈希表 存储彼此相关信息的键值对，用HSET key filed value 来去设置一组相关信息，例如设置用户ID和名字相关联 
HSET name { id: user_name}
hset 8000 ename Tom
hset  8000 job salesman
hmset 9000 ename Scott job salesman deptno 10

hget 8000 ename
hmget 8000 ename job deptno
HGETALL 8000  必须大写

hkeys 8000 获得所有哈希表字段名,key

hlen 8000 获得所有哈希表key数量
hexists 8000 job 判断哈希表是否存在某个key字段名

hvals 9000 获得哈希表素有字段值
hdel 9000 job deptno 删除哈希表的字段

hdel 9000 key1 key2 

HINCRBY 8000 deptno 10让哈希表某个字段加上指定的整数值
HINCRBYfloat 8000 sal 6.6

列表类型：向value 保存序列化的数据，可重复
List(链表)：实现双向链表，比如用户的关注，粉丝列表
rpush list 1 2 3 # 创建并且依次向右边添加
lrange list 0 -1


lpush list2 1 2 3 创建并且依次向右边添加
lrange list2 0 -1 


lpush dname 秘书处   # 在已存在的字段向左边

lset dname 2 销售部 # 第二个位置
lrange dname 0 -1 打印列表第一个元素到最后一个元素
秘书处
技术部
销售部
售后部

llen dname 获得列表长度
lindex 数字 获得列表某个元素
linsert dname before 秘书处 董事会 在某个位置插入元素之前
lpop dname 删除列表最左边的元素
rpop dname 删除列表最右边的元素

rpush employee Scott
rpush employee Jack
rpush employee Scott
lrem employee 1 Scott 删除列表第一个元素
lrem employee 2 Scott 删除列表2个元素

集合类型set 列表中的元素不可以重复 存储不重复元素，比如用户的关注者，没有顺序
SADD EMPNO 8000 
SADD EMPNO 8001 8002
SMEMBERS EMPNO  获得集合所有元素，按照哈希值排序

SCARD EMPNO 获得集合长度
sismember EMPNO 8000 判断是否含有某个元素
srem EMPNO 8001 删除元素，

spop empno 随机删除并返回集合的某个元素
srandmember empno 33 随机返回集合中的3个元素

有序集合Sorted Set 带排序功能的集合，按照元素分数值排序
zadd keyword 0 'JACK' 0 'Miko' 0 'Ashe' 定义有序集合 先写分数值
zincrby keyword 1 'JACK' 
zincrby keyword 5 'Ashe' 
zincrby keyword 3 'Miko' 
zincrby keyword 2 'Mikko'  mikko不存在则新建
zrange keyword 0 -1 获得有序集合的内容（升序）
zrevrange keyword 0 -1 获得有序集合的内容（降序）
zrevrange keyword 0 0 分数值最高的元素
zrangebyscore 获得分数值区间内容的集合内容（升序）
zrangebyscore keyword 0 2
zrangebyscore keyword 0 (2  不包括2
zrangebyscore keyword 2 +inf 正无穷
zrerangebyscore 获得分数值区间内容的集合内容（降序）
zrevrangebyscore keyword 3 0
zrevrangebyscore keyword (3 0   不包括3

zcard keyword 获得有序集合长度
zcount keyword 2 4 查询某个分数值区间的元素数量
zscore keyword 'Ashe' 返回元素的分数值

zrank keyword 'Ashe' 获得元素的升序排名（从0开始）
zrevrank keyword 'Ashe' 获得元素的降序排名（从0开始）
zrevrank keyword 'Ashe'

zrem keyword  'Miko'  'Ashe'  删除有序集合中的元素
zremrangebyrank keyword 0 2  删除排名区间内的元素
zremrangebyscore keyword -inf 2  删除排名区间内的元素

exists employee 判断是否存在某个key
expire employee 5设置过期时间
expireat employee 12设置记录的过期时间(UNIX时间戳)
move keyword 1 记录迁移到其他逻辑库,1号逻辑库
select 1 切换到1号逻辑库
rename employee emp
presistkeyword 移除过期时间 
type keyword 判断value数据类型

为什么要一如线程池
如果程序中经常需要用到线程，频繁的创建和销毁线程会浪费很多硬件资源，所以需要把线程和任务分离开。线程可以反复利用，省去了重复创建的麻烦。
</code></pre>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/10/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/10/">10</a><span class="page-number current">11</span><a class="page-number" href="/page/12/">12</a><span class="space">&hellip;</span><a class="page-number" href="/page/25/">25</a><a class="extend next" rel="next" href="/page/12/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>
<script src="/js/comments.js"></script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">外心人D</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
