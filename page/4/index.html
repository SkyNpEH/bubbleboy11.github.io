<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.0.2">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css" integrity="sha256-2H3fkXt6FEmrReK448mDVGKb3WW2ZZw35gI7vqHOE4Y=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"bubbleboy11.github.io","root":"/","images":"/images","scheme":"Muse","version":"8.6.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":true,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"搜索...","empty":"没有找到任何搜索结果：${query}","hits_time":"找到 ${hits} 个搜索结果（用时 ${time} 毫秒）","hits":"找到 ${hits} 个搜索结果"}}</script><script src="/js/config.js"></script>
<meta name="description" content="本博客大多内容为慕课和网上博客，并非原创">
<meta property="og:type" content="website">
<meta property="og:title" content="外心人D的博客">
<meta property="og:url" content="https://bubbleboy11.github.io/page/4/index.html">
<meta property="og:site_name" content="外心人D的博客">
<meta property="og:description" content="本博客大多内容为慕课和网上博客，并非原创">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="外心人D">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://bubbleboy11.github.io/page/4/">



<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":true,"isPost":false,"lang":"zh-CN","comments":"","permalink":"","path":"page/4/index.html","title":""}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>外心人D的博客</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="外心人D的博客" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism.css" type="text/css"></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">外心人D的博客</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-overview">
            <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">外心人D</p>
  <div class="site-description" itemprop="description">本博客大多内容为慕课和网上博客，并非原创</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">343</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">22</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">39</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



          </div>
        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2021/07/01/go-tiao-chu-xun-huan/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/07/01/go-tiao-chu-xun-huan/" class="post-title-link" itemprop="url">go跳出循环</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-06-30 16:21:41" itemprop="dateCreated datePublished" datetime="2021-06-30T16:21:41Z">2021-06-30</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-07-14 03:25:24" itemprop="dateModified" datetime="2021-07-14T03:25:24Z">2021-07-14</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/go/" itemprop="url" rel="index"><span itemprop="name">go</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>循环控制语句可以控制循环体内语句的执行过程</p>
<p>GO 语言支持 goto、break、continue 三种循环控制语句，三个语句都可以配合标签( label )使用，标签名区分大小写，定义后不使用会造成编译错误。</p>
<h3 id="break-退出当前循环"><a href="#break-退出当前循环" class="headerlink" title="break 退出当前循环"></a>break 退出当前循环</h3><h4 id="如果我们不想一直死循环下去，当某个条件成立时中断当前-for-循环，并开始执行循环之后的语句"><a href="#如果我们不想一直死循环下去，当某个条件成立时中断当前-for-循环，并开始执行循环之后的语句" class="headerlink" title="如果我们不想一直死循环下去，当某个条件成立时中断当前 for 循环，并开始执行循环之后的语句"></a>如果我们不想一直死循环下去，当某个条件成立时中断当前 for 循环，并开始执行循环之后的语句</h4><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line">i:=<span class="number">0</span></span><br><span class="line"><span class="keyword">for</span>{</span><br><span class="line">    fmt.Println(<span class="string">"你怎么这么好看?"</span>)</span><br><span class="line">    i+=<span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> i==<span class="number">3</span>{</span><br><span class="line">        fmt.Println(<span class="string">"天生的"</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">---</span><br><span class="line">你怎么这么好看?</span><br><span class="line">你怎么这么好看?</span><br><span class="line">你怎么这么好看?</span><br><span class="line">天生的</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">var</span> a <span class="keyword">int</span> = <span class="number">10</span></span><br><span class="line">    <span class="keyword">for</span> a &lt; <span class="number">20</span> {</span><br><span class="line">        <span class="keyword">if</span> a == <span class="number">15</span> {</span><br><span class="line">            <span class="comment">/* 跳过迭代 */</span></span><br><span class="line">            a = a + <span class="number">1</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        }</span><br><span class="line">        fmt.Printf(<span class="string">"a的值为 : %d\n"</span>, a)</span><br><span class="line">        a++</span><br><span class="line">---</span><br><span class="line">a的值为 : <span class="number">10</span></span><br><span class="line">a的值为 : <span class="number">11</span></span><br><span class="line">a的值为 : <span class="number">12</span></span><br><span class="line">a的值为 : <span class="number">13</span></span><br><span class="line">a的值为 : <span class="number">14</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">for</span> outerIndex := <span class="number">0</span>; outerIndex &lt; <span class="number">10</span>; outerIndex++ {</span><br><span class="line">        <span class="keyword">for</span> innerIndex := <span class="number">0</span>; innerIndex &lt; <span class="number">6</span>; innerIndex++ {</span><br><span class="line">            fmt.Println(outerIndex, innerIndex)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">---</span><br><span class="line"><span class="number">0</span> <span class="number">0</span></span><br><span class="line"><span class="number">1</span> <span class="number">0</span></span><br><span class="line"><span class="number">2</span> <span class="number">0</span></span><br><span class="line"><span class="number">3</span> <span class="number">0</span></span><br><span class="line"><span class="number">4</span> <span class="number">0</span></span><br><span class="line"><span class="number">5</span> <span class="number">0</span></span><br><span class="line"><span class="number">6</span> <span class="number">0</span></span><br><span class="line"><span class="number">7</span> <span class="number">0</span></span><br><span class="line"><span class="number">8</span> <span class="number">0</span></span><br><span class="line"><span class="number">9</span> <span class="number">0</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="中断当前-for-range-循环，并开始执行循环之后的语句"><a href="#中断当前-for-range-循环，并开始执行循环之后的语句" class="headerlink" title="中断当前 for range 循环，并开始执行循环之后的语句"></a>中断当前 for range 循环，并开始执行循环之后的语句</h4><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    m := <span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">string</span>{</span><br><span class="line">        <span class="number">1</span>: <span class="string">"oldboy"</span>,</span><br><span class="line">        <span class="number">2</span>: <span class="string">"Linux"</span>,</span><br><span class="line">        <span class="number">3</span>: <span class="string">"Python"</span>,</span><br><span class="line">        <span class="number">4</span>: <span class="string">"Java"</span>,</span><br><span class="line">        <span class="number">5</span>: <span class="string">"Golang"</span>,</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k, v := <span class="keyword">range</span> m {</span><br><span class="line">        fmt.Printf(<span class="string">"%d =&gt; %s \n"</span>, k, v)</span><br><span class="line">        <span class="keyword">if</span> v == <span class="string">"Golang"</span> {</span><br><span class="line">            <span class="comment">// break 语句跳出循环</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>


<p>break 语句在执行一条 case 后跳出 select 循环</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="keyword">var</span> ch <span class="keyword">chan</span> <span class="keyword">int</span></span><br><span class="line">    ch = <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>, <span class="number">1</span>)</span><br><span class="line">    <span class="comment">// ch &lt;- 1</span></span><br><span class="line">    <span class="keyword">select</span> {</span><br><span class="line">    <span class="keyword">case</span> i := &lt;-ch:</span><br><span class="line">        fmt.Printf(<span class="string">"received %d %s"</span>, i, <span class="string">" from ch\n"</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        fmt.Println(<span class="string">"break"</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>Break label 语句 跳出多层嵌套循环<br>label要写在循环的开始而不是结束的地方，和goto语句不一样。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">FORBREAK:</span><br><span class="line">    <span class="keyword">for</span> outerIndex := <span class="number">0</span>; outerIndex &lt; <span class="number">10</span>; outerIndex++ {</span><br><span class="line">        <span class="keyword">for</span> innerIndex := <span class="number">0</span>; innerIndex &lt; <span class="number">6</span>; innerIndex++ {</span><br><span class="line">            fmt.Println(outerIndex, innerIndex)</span><br><span class="line">            <span class="keyword">break</span> FORBREAK</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">// 0 0</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    fmt.Println(<span class="string">"start"</span>)</span><br><span class="line"></span><br><span class="line">Exit:</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">9</span>; i++ {</span><br><span class="line">        <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; <span class="number">9</span>; j++ {</span><br><span class="line">            <span class="keyword">if</span> i+j &gt; <span class="number">15</span> {</span><br><span class="line">                fmt.Println(<span class="string">"exit"</span>) <span class="comment">// exit</span></span><br><span class="line">                <span class="keyword">break</span> Exit</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">"end"</span>) <span class="comment">// end</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    fmt.Println(<span class="string">"start"</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">9</span>; i++ {</span><br><span class="line">        <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; <span class="number">9</span>; j++ {</span><br><span class="line">            <span class="keyword">if</span> i+j &gt; <span class="number">15</span> {</span><br><span class="line">                fmt.Println(<span class="string">"exit"</span>)</span><br><span class="line">                <span class="keyword">break</span> Exit</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">Exit:</span><br><span class="line">    fmt.Println(<span class="string">"end"</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight dos"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./main.go:<span class="number">14</span>:<span class="number">11</span>: <span class="built_in">break</span> <span class="built_in">label</span> <span class="keyword">not</span> <span class="keyword">defined</span>: <span class="keyword">Exit</span></span><br><span class="line">./main.go:<span class="number">18</span>:<span class="number">1</span>: <span class="built_in">label</span> <span class="keyword">Exit</span> <span class="keyword">defined</span> and <span class="keyword">not</span> used</span><br></pre></td></tr></tbody></table></figure>

<h3 id="continue跳过当前循环"><a href="#continue跳过当前循环" class="headerlink" title="continue跳过当前循环"></a>continue跳过当前循环</h3><p>与break退出整个循环不同，continue是跳过当前循环，也就是说在for代码块中遇到continue，在 for 循环和for range 循环中用于跳过当前循环其后的的剩余语句，然后继续进行下一轮循环。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= <span class="number">3</span>; i++ {</span><br><span class="line">        <span class="keyword">if</span> i == <span class="number">2</span> {</span><br><span class="line">            <span class="comment">// 不妨将continue换成break试试，看看它们的区别</span></span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        }</span><br><span class="line">        fmt.Println(i)</span><br><span class="line">    }</span><br><span class="line">---</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">var</span> a <span class="keyword">int</span> = <span class="number">10</span></span><br><span class="line">    <span class="keyword">for</span> a &lt; <span class="number">20</span> {</span><br><span class="line">        <span class="keyword">if</span> a == <span class="number">15</span> {</span><br><span class="line">            <span class="comment">/* 跳过迭代 */</span></span><br><span class="line">            a = a + <span class="number">1</span></span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        }</span><br><span class="line">        fmt.Printf(<span class="string">"a的值为 : %d\n"</span>, a)</span><br><span class="line">        a++</span><br><span class="line">---</span><br><span class="line">a的值为 : <span class="number">10</span></span><br><span class="line">a的值为 : <span class="number">11</span></span><br><span class="line">a的值为 : <span class="number">12</span></span><br><span class="line">a的值为 : <span class="number">13</span></span><br><span class="line">a的值为 : <span class="number">14</span></span><br><span class="line">a的值为 : <span class="number">16</span></span><br><span class="line">a的值为 : <span class="number">17</span></span><br><span class="line">a的值为 : <span class="number">18</span></span><br><span class="line">a的值为 : <span class="number">19</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="comment">// for 循环</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ {</span><br><span class="line">        <span class="keyword">if</span> i == <span class="number">2</span> {</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        }</span><br><span class="line">        fmt.Printf(<span class="string">"i 的值为 : %d\n"</span>, i)</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">// for range 循环</span></span><br><span class="line">    sli := []<span class="keyword">string</span>{<span class="string">"Linux"</span>, <span class="string">"Python"</span>, <span class="string">"Golang"</span>, <span class="string">"Java"</span>}</span><br><span class="line">    <span class="keyword">for</span> _, v := <span class="keyword">range</span> sli {</span><br><span class="line">        fmt.Println(v)</span><br><span class="line">        <span class="keyword">if</span> v != <span class="string">"Golang"</span> {</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        }</span><br><span class="line">        fmt.Println(<span class="string">"The old boy welcomes you."</span>)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> outerIndex := <span class="number">0</span>; outerIndex &lt; <span class="number">3</span>; outerIndex++ {</span><br><span class="line">    <span class="keyword">for</span> innerIndex := <span class="number">0</span>; innerIndex &lt; <span class="number">2</span>; innerIndex++ {</span><br><span class="line">        fmt.Println(outerIndex, innerIndex)</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">        fmt.Println(<span class="string">"这里是内层循环剩余的代码"</span>)</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="comment">//0 0</span></span><br><span class="line"><span class="comment">//0 1</span></span><br><span class="line"><span class="comment">//1 0</span></span><br><span class="line"><span class="comment">//1 1</span></span><br><span class="line"><span class="comment">//2 0</span></span><br><span class="line"><span class="comment">//2 1</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="continue-标签执行的结果"><a href="#continue-标签执行的结果" class="headerlink" title="continue+标签执行的结果"></a>continue+标签执行的结果</h4><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">BreakLabel:</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">3</span>; i++ {</span><br><span class="line">    ContinueLabel:</span><br><span class="line">        <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; <span class="number">5</span>; j++ {</span><br><span class="line">            <span class="keyword">if</span> j &gt; <span class="number">2</span> {</span><br><span class="line">                <span class="keyword">continue</span> ContinueLabel</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span> i &gt; <span class="number">1</span> {</span><br><span class="line">                <span class="keyword">break</span> BreakLabel</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            fmt.Print(i, <span class="string">":"</span>, j, <span class="string">" "</span>)</span><br><span class="line">        }</span><br><span class="line">        fmt.Println()</span><br><span class="line">    }</span><br><span class="line">---</span><br><span class="line"><span class="number">0</span>:<span class="number">0</span> <span class="number">0</span>:<span class="number">1</span> <span class="number">0</span>:<span class="number">2</span> </span><br><span class="line"><span class="number">1</span>:<span class="number">0</span> <span class="number">1</span>:<span class="number">1</span> <span class="number">1</span>:<span class="number">2</span> </span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">FORCONTINUE:</span><br><span class="line">    <span class="keyword">for</span> outerIndex := <span class="number">0</span>; outerIndex &lt; <span class="number">3</span>; outerIndex++ {</span><br><span class="line">        <span class="keyword">for</span> innerIndex := <span class="number">0</span>; innerIndex &lt; <span class="number">2</span>; innerIndex++ {</span><br><span class="line">            fmt.Println(outerIndex, innerIndex)</span><br><span class="line">            <span class="keyword">continue</span> FORCONTINUE</span><br><span class="line">            fmt.Println(<span class="string">"这里是内层循环剩余的代码"</span>)</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">---</span><br><span class="line"><span class="number">0</span> <span class="number">0</span></span><br><span class="line"><span class="number">1</span> <span class="number">0</span></span><br><span class="line"><span class="number">2</span> <span class="number">0</span></span><br></pre></td></tr></tbody></table></figure>

<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2021/07/01/python-zhong-wei-shi-me-mei-you-switch/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/07/01/python-zhong-wei-shi-me-mei-you-switch/" class="post-title-link" itemprop="url">python中为什么没有switch</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-06-30 16:21:41" itemprop="dateCreated datePublished" datetime="2021-06-30T16:21:41Z">2021-06-30</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-07-15 02:42:00" itemprop="dateModified" datetime="2021-07-15T02:42:00Z">2021-07-15</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>查看Python官方:PEP 3103-A Switch/Case Statement</p>
<p>发现其实实现Switch Case需要被判断的变量是可哈希的和可比较的，<br>这与Python倡导的灵活性有冲突。在实现上，优化不好做，可能到最后最差的情况汇编出来跟If Else组是一样的。所以Python没有支持。</p>
<p> 采用dict映射</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">score = <span class="number">80</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_A</span>():</span></span><br><span class="line">    print(<span class="string">'A'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_B</span>():</span></span><br><span class="line">    print(<span class="string">'B'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_C</span>():</span></span><br><span class="line">    print(<span class="string">'C'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_D</span>():</span></span><br><span class="line">    print(<span class="string">'D'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">switch = {</span><br><span class="line">    <span class="number">90</span>: print_A,</span><br><span class="line">    <span class="number">80</span>: print_B,</span><br><span class="line">    <span class="number">70</span>: print_C,</span><br><span class="line">    <span class="number">60</span>: print_D,</span><br><span class="line">}</span><br><span class="line">switch[score]()  <span class="comment"># B</span></span><br><span class="line"></span><br><span class="line">score = <span class="number">80</span></span><br><span class="line"></span><br><span class="line">switch = {</span><br><span class="line">    <span class="number">90</span>: <span class="keyword">lambda</span>: print(<span class="string">"A"</span>),</span><br><span class="line">    <span class="number">80</span>: <span class="keyword">lambda</span>: print(<span class="string">"B"</span>),</span><br><span class="line">    <span class="number">70</span>: <span class="keyword">lambda</span>: print(<span class="string">"C"</span>),</span><br><span class="line">    <span class="number">60</span>: <span class="keyword">lambda</span>: print(<span class="string">"D"</span>),</span><br><span class="line">}</span><br><span class="line">switch[score]()  <span class="comment"># B</span></span><br></pre></td></tr></tbody></table></figure>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2021/07/01/go-tiao-jian-kong-zhi-if-yu-ju/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/07/01/go-tiao-jian-kong-zhi-if-yu-ju/" class="post-title-link" itemprop="url">go条件控制if语句</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-06-30 16:21:41" itemprop="dateCreated datePublished" datetime="2021-06-30T16:21:41Z">2021-06-30</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-08-04 00:41:13" itemprop="dateModified" datetime="2021-08-04T00:41:13Z">2021-08-04</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/go/" itemprop="url" rel="index"><span itemprop="name">go</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>go语言的常用控制流程有if和for，没有while， 而switch和goto是为了简化代码，降低重复代码，属于扩展的流程控制。<br>if 的条件里不需要括号</p>
<p>if语句的结构：</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> 布尔表达式 {</span><br><span class="line">   <span class="comment">/* 在布尔表达式为 true 时执行 */</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> 布尔表达式 {</span><br><span class="line">   <span class="comment">/* 在布尔表达式为 true 时执行 */</span></span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">  <span class="comment">/* 在布尔表达式为 false 时执行 */</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> 布尔表达式<span class="number">1</span> {</span><br><span class="line">   <span class="comment">/* 在布尔表达式1为 true 时执行 */</span></span><br><span class="line">} <span class="keyword">else</span> <span class="keyword">if</span> 布尔表达式<span class="number">2</span>{</span><br><span class="line">   <span class="comment">/* 在布尔表达式1为 false ,布尔表达式2为true时执行 */</span></span><br><span class="line">} <span class="keyword">else</span>{</span><br><span class="line">   <span class="comment">/* 在上面两个布尔表达式都为false时，执行*/</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">   <span class="comment">/* 定义局部变量 */</span></span><br><span class="line">    num := <span class="number">11</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> num%<span class="number">2</span> == <span class="number">0</span> {</span><br><span class="line">        fmt.Println(<span class="string">"偶数"</span>)</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        fmt.Println(<span class="string">"奇数"</span>)</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">score := <span class="number">55</span></span><br><span class="line"><span class="keyword">if</span> score &gt;= <span class="number">90</span> {</span><br><span class="line">    fmt.Println(<span class="string">"优"</span>)</span><br><span class="line">} <span class="keyword">else</span> <span class="keyword">if</span> score &gt;= <span class="number">80</span> {</span><br><span class="line">    fmt.Println(<span class="string">"良"</span>)</span><br><span class="line">} <span class="keyword">else</span> <span class="keyword">if</span> score &gt;= <span class="number">60</span> {</span><br><span class="line">    fmt.Println(<span class="string">"一般"</span>)</span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">    fmt.Println(<span class="string">"不及格"</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>if的条件里赋值的变量作用域就在这个if语句里面</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> filename = <span class="string">"hello.txt"</span></span><br><span class="line"></span><br><span class="line">contents, err := ioutil.ReadFile(filename)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> {</span><br><span class="line">    fmt.Println(err)</span><br><span class="line">}<span class="keyword">else</span> {</span><br><span class="line">    fmt.Printf(<span class="string">"%s\n"</span>,contents)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> fileHandle, err := os.Open(filename)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> {</span><br><span class="line">    fmt.Println(fileHandle)  <span class="comment">// &lt;nil&gt;</span></span><br><span class="line">    fmt.Println(err.Error()) <span class="comment">// open hello.txt: The system cannot find the file specified.</span></span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">    fmt.Println(<span class="string">"获取文件成功"</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h4 id="将返回值与判断放在一行进行处理，而且返回值的作用范围被限制在if、-else-语句组合中"><a href="#将返回值与判断放在一行进行处理，而且返回值的作用范围被限制在if、-else-语句组合中" class="headerlink" title="将返回值与判断放在一行进行处理，而且返回值的作用范围被限制在if、 else 语句组合中"></a>将返回值与判断放在一行进行处理，而且返回值的作用范围被限制在if、 else 语句组合中</h4><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> value,ok := courser[<span class="string">"go"</span>];ok {</span><br><span class="line">    fmt.Println(value)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// if statement; condition</span></span><br><span class="line"><span class="keyword">if</span> num := <span class="number">11</span>; num%<span class="number">2</span> == <span class="number">0</span> { <span class="comment">// checks if number is even</span></span><br><span class="line">    fmt.Println(<span class="string">"偶数even"</span>)</span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">    fmt.Println(<span class="string">"奇数odd"</span>) <span class="comment">// 奇数odd</span></span><br><span class="line">}</span><br><span class="line">fmt.Println(num) <span class="comment">// undefined: num</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> err := Connect(); err != <span class="literal">nil</span> {</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>打开某一个文件不存在或者由于权限的问题无法操作</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> contents, err := ioutil.ReadFile(filename); err!=<span class="literal">nil</span> {</span><br><span class="line">    fmt.Println(err)</span><br><span class="line">}<span class="keyword">else</span>{</span><br><span class="line">    fmt.Printf(<span class="string">"%s\n"</span>, contents)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> fileHandle, err := os.Open(<span class="string">"hello.txt"</span>); err != <span class="literal">nil</span> {</span><br><span class="line">    fmt.Println(fileHandle)  <span class="comment">// &lt;nil&gt;</span></span><br><span class="line">    fmt.Println(err.Error()) <span class="comment">// open hello.txt: The system cannot find the file specified.</span></span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">    fmt.Println(<span class="string">"获取文件成功"</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>


<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"errors"</span></span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">()</span> <span class="title">error</span></span> {</span><br><span class="line">    <span class="keyword">return</span> errors.New(<span class="string">"error"</span>)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="keyword">if</span> err := test(); err != <span class="literal">nil</span> {</span><br><span class="line">        fmt.Println(<span class="string">"error happen"</span>)</span><br><span class="line">    }</span><br><span class="line">    fmt.Println(err) <span class="comment">// undefined: err</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2021/07/01/go-de-xun-huan-kong-zhi-for-yu-ju/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/07/01/go-de-xun-huan-kong-zhi-for-yu-ju/" class="post-title-link" itemprop="url">go的循环控制for语句</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-06-30 16:21:41" itemprop="dateCreated datePublished" datetime="2021-06-30T16:21:41Z">2021-06-30</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-08-06 07:41:10" itemprop="dateModified" datetime="2021-08-06T07:41:10Z">2021-08-06</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/go/" itemprop="url" rel="index"><span itemprop="name">go</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Go 语言的 For 循环有 3 种形式，只有其中的一种使用分号。</p>
<p>与if语句相同，Go语言的for循环与C语言也有如下区别:</p>
<p>for的条件不需要用括号<code>()</code>括住<br>for的代码块必须加上大括号<code>{}</code>括住，就算只有一行语句</p>
<p>和 C 语言的 <code>for</code> 一样：</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> init; condition; post { }</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><code>init</code>：初始化条件，一般为赋值表达式，给控制变量赋初值；前置语句中声明的变量作用域也仅限于for内</li>
<li><code>condition</code>：关系表达式或逻辑表达式，循环控制条件；</li>
<li><code>post</code>：变化的条件 一般为赋值表达式，给控制变量增量或减量。</li>
</ul>
<p>和 C 的 <code>while</code> 一样，令for循环的前置或后置语句为空，只添加条件：<br>Go语言中只有for ， 没有while</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> condition { }</span><br></pre></td></tr></tbody></table></figure>

<p><strong><code>for</code>循环遍历值的类型为<code>uint8</code></strong><br><strong><code>for...range</code>遍历值的类型为<code>int32</code></strong> <code>rune</code></p>
<h4 id="for语句执行过程"><a href="#for语句执行过程" class="headerlink" title="for语句执行过程"></a>for语句执行过程</h4><p>1、先对表达式 1 赋初值；<br>2、判别赋值表达式 init 是否满足给定条件，若其值为真，满足循环条件，则执行循环体内语句，然后执行 post，进入第二次循环，再判别 condition；否则判断 condition 的值为假，不满足条件，就终止for循环，执行循环体外语句。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sum := <span class="number">0</span></span><br><span class="line"><span class="comment">//for init; condition; post { } 计算1-10的和</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">1</span>; i&lt;=<span class="number">10</span>; i++ {</span><br><span class="line">   sum += i</span><br><span class="line">}</span><br><span class="line">fmt.Println(sum) <span class="comment">// 55</span></span><br></pre></td></tr></tbody></table></figure>

<ol>
<li>i := 1</li>
<li>是否 i&lt;=10</li>
<li>sum = 1</li>
<li>i ++  -&gt; i = 2</li>
<li>是否 i &lt;= 10</li>
<li>sum = 3</li>
<li>i++ … i=11</li>
</ol>
<p>和 C 的 <code>for(;;)</code> 一样，以让前置、条件和后置语句皆为空，这样相当于<code>for true</code>无限死循环：<br>如 i:=0; ; i++ 或 <code>for ; ; { }</code> 或者 <code>for true { }</code><br>（<code>; ;</code> 会在使用 gofmt 时被移除）但一般情况下都会直接写 <code>for { }</code></p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> { <span class="comment">// 等同于    for ; ; {</span></span><br><span class="line">    fmt.Println(<span class="string">"sum"</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">i := <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i &lt; <span class="number">5</span> { <span class="comment">// 等同于 for ; i &lt; 5; {</span></span><br><span class="line">    fmt.Println(i)</span><br><span class="line">    i++</span><br><span class="line">}</span><br><span class="line"><span class="comment">// 0</span></span><br><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="comment">// 3</span></span><br><span class="line"><span class="comment">// 4</span></span><br><span class="line"></span><br><span class="line">i = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> ; i &lt; <span class="number">5</span>; i++ {</span><br><span class="line">    fmt.Println(i)</span><br><span class="line">}</span><br><span class="line"><span class="comment">//0</span></span><br><span class="line"><span class="comment">//1</span></span><br><span class="line"><span class="comment">//2</span></span><br><span class="line"><span class="comment">//3</span></span><br><span class="line"><span class="comment">//4</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ {</span><br><span class="line">    fmt.Println(i)</span><br><span class="line">}</span><br><span class="line"><span class="comment">//0</span></span><br><span class="line"><span class="comment">//1</span></span><br><span class="line"><span class="comment">//2</span></span><br><span class="line"><span class="comment">//3</span></span><br><span class="line"><span class="comment">//4</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 十进制转换成二进制</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">convertToBin</span><span class="params">(n <span class="keyword">int</span>)</span> <span class="title">string</span></span> {</span><br><span class="line">    result := <span class="string">""</span></span><br><span class="line">    <span class="comment">// 对2取模，取出来最低位</span></span><br><span class="line">    <span class="keyword">for</span> ; n &gt; <span class="number">0</span>; n /= <span class="number">2</span> {</span><br><span class="line">        lsb := n % <span class="number">2</span>                        <span class="comment">// 余数，int类型</span></span><br><span class="line">        result = strconv.Itoa(lsb) + result <span class="comment">// 余数往前加等同于倒序，lsb转换为字符串</span></span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">    fmt.Println(</span><br><span class="line">        convertToBin(<span class="number">5</span>),  <span class="comment">// 101</span></span><br><span class="line">        convertToBin(<span class="number">13</span>), <span class="comment">// 1101</span></span><br><span class="line">        convertToBin(<span class="number">72387885</span>), <span class="comment">// 100010100001000110100101101</span></span><br><span class="line">        convertToBin(<span class="number">0</span>), <span class="comment">//</span></span><br><span class="line">    )</span><br></pre></td></tr></tbody></table></figure>

<p>lang/basic/branch/abc.txt</p>
<figure class="highlight txt"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">abcde</span><br><span class="line">12345</span><br><span class="line">hello</span><br><span class="line">again</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printFile</span><span class="params">(filename <span class="keyword">string</span>)</span></span> {</span><br><span class="line">    file, err := os.Open(filename); err != <span class="literal">nil</span> {</span><br><span class="line">        <span class="built_in">panic</span>(err)</span><br><span class="line">    }</span><br><span class="line">    printFileContents(file)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printFileContents</span><span class="params">(reader io.Reader)</span></span> {</span><br><span class="line">    scanner := bufio.NewScanner(reader)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> scanner.Scan() {</span><br><span class="line">        fmt.Println(scanner.Text())</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">    printFile(<span class="string">"lang/basic/branch/abc.txt"</span>)</span><br><span class="line">    <span class="comment">// abcde</span></span><br><span class="line">    <span class="comment">// 12345</span></span><br><span class="line">    <span class="comment">// hello</span></span><br><span class="line">    <span class="comment">// again</span></span><br><span class="line"></span><br><span class="line">    fmt.Println(<span class="string">"printing a string:"</span>)</span><br><span class="line">    s := <span class="string">`abc"d"</span></span><br><span class="line"><span class="string">    kkkk</span></span><br><span class="line"><span class="string">    123</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    p`</span></span><br><span class="line">    printFileContents(strings.NewReader(s))</span><br><span class="line">    <span class="comment">// abc"d"</span></span><br><span class="line">    <span class="comment">// kkkk</span></span><br><span class="line">    <span class="comment">// 123</span></span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="comment">// p</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">i := <span class="number">1</span></span><br><span class="line"><span class="keyword">for</span> ; i &lt;= <span class="number">10</span>; i++ {</span><br><span class="line">    fmt.Println(<span class="string">"bobby"</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">st := <span class="string">"bobby:慕课网"</span></span><br><span class="line">fmt.Printf(st)     <span class="comment">// bobby:慕课网</span></span><br><span class="line">fmt.Println(st[<span class="number">0</span>]) <span class="comment">// 98</span></span><br><span class="line"><span class="comment">//fmt.Printf(st[0])         // cannot use st[0] (type byte) as type string in argument to fmt.Printf</span></span><br><span class="line">fmt.Printf(<span class="string">"%d\n"</span>, st[<span class="number">0</span>]) <span class="comment">// 98</span></span><br><span class="line">fmt.Printf(<span class="string">"%c\n"</span>, st[<span class="number">0</span>]) <span class="comment">// b</span></span><br><span class="line"></span><br><span class="line">fmt.Println(st[<span class="number">6</span>])        <span class="comment">// 230</span></span><br><span class="line">fmt.Printf(<span class="string">"%d\n"</span>, st[<span class="number">6</span>]) <span class="comment">// 230</span></span><br><span class="line">fmt.Printf(<span class="string">"%c\n"</span>, st[<span class="number">6</span>]) <span class="comment">// æ 乱码</span></span><br><span class="line">fmt.Println(<span class="built_in">len</span>(st))      <span class="comment">// 15</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="rune-int32-数组解决中文编码utf"><a href="#rune-int32-数组解决中文编码utf" class="headerlink" title="rune int32 数组解决中文编码utf"></a>rune int32 数组解决中文编码utf</h4><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">    name_arr := []<span class="keyword">rune</span>(st)</span><br><span class="line">    fmt.Println(<span class="built_in">len</span>(name_arr)) <span class="comment">// 9</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(name_arr); i++ {</span><br><span class="line">        fmt.Printf(<span class="string">"%c\n"</span>, name_arr[i])</span><br><span class="line">    }</span><br><span class="line">---</span><br><span class="line">b</span><br><span class="line">o</span><br><span class="line">b</span><br><span class="line">b</span><br><span class="line">y</span><br><span class="line">:</span><br><span class="line">慕</span><br><span class="line">课</span><br><span class="line">网</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">    stLen := <span class="built_in">len</span>(st)</span><br><span class="line">    <span class="keyword">for</span> index := <span class="number">0</span>; index &lt; stLen; index++ { <span class="comment">// 不是range</span></span><br><span class="line">        fmt.Printf(<span class="string">"%s-编码值=%d,值=%c,类型=%T\n"</span>, st, st[index], st[index], st[index])</span><br><span class="line">    }</span><br><span class="line">---</span><br><span class="line">bobby:慕课网-编码值=<span class="number">98</span>,值=b,类型=<span class="keyword">uint8</span></span><br><span class="line">bobby:慕课网-编码值=<span class="number">111</span>,值=o,类型=<span class="keyword">uint8</span></span><br><span class="line">bobby:慕课网-编码值=<span class="number">98</span>,值=b,类型=<span class="keyword">uint8</span></span><br><span class="line">bobby:慕课网-编码值=<span class="number">98</span>,值=b,类型=<span class="keyword">uint8</span></span><br><span class="line">bobby:慕课网-编码值=<span class="number">121</span>,值=y,类型=<span class="keyword">uint8</span></span><br><span class="line">bobby:慕课网-编码值=<span class="number">58</span>,值=:,类型=<span class="keyword">uint8</span></span><br><span class="line">bobby:慕课网-编码值=<span class="number">230</span>,值=æ,类型=<span class="keyword">uint8</span></span><br><span class="line">bobby:慕课网-编码值=<span class="number">133</span>,值=,类型=<span class="keyword">uint8</span></span><br><span class="line">bobby:慕课网-编码值=<span class="number">149</span>,值=,类型=<span class="keyword">uint8</span></span><br><span class="line">bobby:慕课网-编码值=<span class="number">232</span>,值=è,类型=<span class="keyword">uint8</span></span><br><span class="line">bobby:慕课网-编码值=<span class="number">175</span>,值=¯,类型=<span class="keyword">uint8</span></span><br><span class="line">bobby:慕课网-编码值=<span class="number">190</span>,值=¾,类型=<span class="keyword">uint8</span></span><br><span class="line">bobby:慕课网-编码值=<span class="number">231</span>,值=ç,类型=<span class="keyword">uint8</span></span><br><span class="line">bobby:慕课网-编码值=<span class="number">189</span>,值=½,类型=<span class="keyword">uint8</span></span><br><span class="line">bobby:慕课网-编码值=<span class="number">145</span>,值=,类型=<span class="keyword">uint8</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="for-循环的-range-格式"><a href="#for-循环的-range-格式" class="headerlink" title="for 循环的 range 格式"></a>for 循环的 <code>range</code> 格式</h3><p>可以对 slice、map、数组、字符串等进行迭代循环。</p>
<p>value遍历数据中对应索引的值拷贝，所以对它所做的任何修改都不会影响到数据中原有的值（但如果value 为指针，则会产生指针的拷贝，就会修改数据的原值）。</p>
<p>一个字符串是 Unicode 编码的字符（或称之为 <code>rune</code>）集合，<br>for…range可以用来遍历字符串：遍历值 val 的类型为 rune，即int32，每个 rune 字符和索引在 for-range 循环中是一一对应的。它能够自动根据 UTF-8 规则识别 Unicode 编码的字符。中文就不会有乱码问题，</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> key, value := <span class="keyword">range</span> oldMap {</span><br><span class="line">    newMap[key] = value</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">    st := <span class="string">"bobby:慕课网"</span>    <span class="comment">//1. st是一个字符串， 2. 字符串是字符的数组</span></span><br><span class="line">    <span class="keyword">for</span> index, value := <span class="keyword">range</span> st {</span><br><span class="line">        fmt.Printf(<span class="string">"%s-编码值=%d,值=%c,类型=%T,index=%v,value=%v\n"</span>, st, value, value, value, index, value)</span><br><span class="line">    }</span><br><span class="line">---</span><br><span class="line">bobby:慕课网-编码值=<span class="number">98</span>,值=b,类型=<span class="keyword">int32</span>,index=<span class="number">0</span>,value=<span class="number">98</span></span><br><span class="line">bobby:慕课网-编码值=<span class="number">111</span>,值=o,类型=<span class="keyword">int32</span>,index=<span class="number">1</span>,value=<span class="number">111</span></span><br><span class="line">bobby:慕课网-编码值=<span class="number">98</span>,值=b,类型=<span class="keyword">int32</span>,index=<span class="number">2</span>,value=<span class="number">98</span></span><br><span class="line">bobby:慕课网-编码值=<span class="number">98</span>,值=b,类型=<span class="keyword">int32</span>,index=<span class="number">3</span>,value=<span class="number">98</span></span><br><span class="line">bobby:慕课网-编码值=<span class="number">121</span>,值=y,类型=<span class="keyword">int32</span>,index=<span class="number">4</span>,value=<span class="number">121</span></span><br><span class="line">bobby:慕课网-编码值=<span class="number">58</span>,值=:,类型=<span class="keyword">int32</span>,index=<span class="number">5</span>,value=<span class="number">58</span></span><br><span class="line">bobby:慕课网-编码值=<span class="number">24917</span>,值=慕,类型=<span class="keyword">int32</span>,index=<span class="number">6</span>,value=<span class="number">24917</span></span><br><span class="line">bobby:慕课网-编码值=<span class="number">35838</span>,值=课,类型=<span class="keyword">int32</span>,index=<span class="number">9</span>,value=<span class="number">35838</span>  index间隔变为<span class="number">3</span></span><br><span class="line">bobby:慕课网-编码值=<span class="number">32593</span>,值=网,类型=<span class="keyword">int32</span>,index=<span class="number">12</span>,value=<span class="number">32593</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    strings := []<span class="keyword">string</span>{<span class="string">"bobby"</span>, <span class="string">"imooc"</span>}</span><br><span class="line">    <span class="keyword">for</span> i, s := <span class="keyword">range</span> strings {</span><br><span class="line">        fmt.Println(i, s)</span><br><span class="line">        <span class="comment">//0 bobby</span></span><br><span class="line">        <span class="comment">//1 imooc</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    numbers := [<span class="number">6</span>]<span class="keyword">int</span>{<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>}</span><br><span class="line">    <span class="keyword">for</span> i, x := <span class="keyword">range</span> numbers {</span><br><span class="line">        fmt.Printf(<span class="string">"第 %d 位 x 的值 = %d\n"</span>, i, x)</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">---</span><br><span class="line">第 <span class="number">0</span> 位 x 的值 = <span class="number">1</span></span><br><span class="line">第 <span class="number">1</span> 位 x 的值 = <span class="number">2</span></span><br><span class="line">第 <span class="number">2</span> 位 x 的值 = <span class="number">3</span></span><br><span class="line">第 <span class="number">3</span> 位 x 的值 = <span class="number">5</span></span><br><span class="line">第 <span class="number">4</span> 位 x 的值 = <span class="number">0</span></span><br><span class="line">第 <span class="number">5</span> 位 x 的值 = <span class="number">0</span></span><br></pre></td></tr></tbody></table></figure>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2021/07/01/go-de-tiao-zhuan-kong-zhi-goto/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/07/01/go-de-tiao-zhuan-kong-zhi-goto/" class="post-title-link" itemprop="url">go的跳转控制goto</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-06-30 16:21:41" itemprop="dateCreated datePublished" datetime="2021-06-30T16:21:41Z">2021-06-30</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-07-14 03:04:49" itemprop="dateModified" datetime="2021-07-14T03:04:49Z">2021-07-14</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/go/" itemprop="url" rel="index"><span itemprop="name">go</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Go 语言的 goto 语句通过标签进行代码间的无条件地转移到过程中指定的行</p>
<p>goto 语句通常与条件语句配合使用。可用来实现条件转移， 构成循环，跳出循环体、避免重复退出等功能</p>
<p>但是，在结构化程序设计中一般不主张使用 goto 语句， 以免造成程序流程的混乱，使理解和调试程序都产生困难。<br>goto能不能则不用，goto过多， label过多，整个程序到后期维护就会麻烦<br>最容易理解的代码逐行的执行，哪怕多一个函数的调用对于我们都是理解上的负担</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">goto</span> label</span><br><span class="line">..</span><br><span class="line">.</span><br><span class="line">label: statement</span><br></pre></td></tr></tbody></table></figure>

<p>在变量 a 等于 15 的时候跳过本次循环并回到循环的开始语句 LOOP 处</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">/* 定义局部变量 */</span></span><br><span class="line">    <span class="keyword">var</span> a <span class="keyword">int</span> = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 循环 */</span></span><br><span class="line">    LOOP:</span><br><span class="line">        <span class="keyword">for</span> a &lt; <span class="number">20</span> {</span><br><span class="line">            <span class="keyword">if</span> a == <span class="number">15</span> {</span><br><span class="line">                <span class="comment">/* 跳过迭代 */</span></span><br><span class="line">                a = a + <span class="number">1</span></span><br><span class="line">                <span class="keyword">goto</span> LOOP <span class="comment">// 跳过15行的打印</span></span><br><span class="line">            }</span><br><span class="line">            fmt.Printf(<span class="string">"a的值为 : %d\n"</span>, a)</span><br><span class="line">            a++</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">---</span><br><span class="line">a的值为 : <span class="number">10</span></span><br><span class="line">a的值为 : <span class="number">11</span></span><br><span class="line">a的值为 : <span class="number">12</span></span><br><span class="line">a的值为 : <span class="number">13</span></span><br><span class="line">a的值为 : <span class="number">14</span></span><br><span class="line">a的值为 : <span class="number">16</span></span><br><span class="line">a的值为 : <span class="number">17</span></span><br><span class="line">a的值为 : <span class="number">18</span></span><br><span class="line">a的值为 : <span class="number">19</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">gotoFunc</span><span class="params">()</span></span> {</span><br><span class="line">    variables := <span class="number">0</span></span><br><span class="line">GOTO:</span><br><span class="line">    fmt.Println(variables)</span><br><span class="line">    variables++</span><br><span class="line">    <span class="keyword">goto</span> GOTO</span><br><span class="line">}</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    gotoFunc() <span class="comment">// 实现了没有for语句的死循环</span></span><br><span class="line">}</span><br><span class="line">---</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line">...</span><br></pre></td></tr></tbody></table></figure>

<h3 id="退出多层循环"><a href="#退出多层循环" class="headerlink" title="退出多层循环"></a>退出多层循环</h3><p>下面这段代码在满足条件时，需要连续退出两层循环，使用传统的编码方式如下：</p>
<p>默认情况下循环只能一层一层退出，为此就需要设置一个状态变量 breakAgain，需要退出时，设置这个变量为 true。<br>使用 break 退出当前循环，执行后，代码调转到<code>if breakAgain {</code>。<br>退出一层循环后，根据 breakAgain 变量判断是否需要再次退出外层循环。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> breakAgain <span class="keyword">bool</span></span><br><span class="line"><span class="comment">// 外循环</span></span><br><span class="line"><span class="keyword">for</span> x := <span class="number">0</span>; x &lt; <span class="number">10</span>; x++ {</span><br><span class="line">    <span class="comment">// 内循环</span></span><br><span class="line">    <span class="keyword">for</span> y := <span class="number">0</span>; y &lt; <span class="number">10</span>; y++ {</span><br><span class="line">        <span class="comment">// 满足某个条件时，退出循环</span></span><br><span class="line">        <span class="keyword">if</span> y == <span class="number">2</span> { <span class="comment">// 当 y==2 时需要退出所有的 for 循环。</span></span><br><span class="line">            <span class="comment">// 设置退出标记</span></span><br><span class="line">            breakAgain = <span class="literal">true</span></span><br><span class="line">            <span class="comment">// 退出本次循环</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">// 根据标记，还需要退出一次循环</span></span><br><span class="line">    <span class="keyword">if</span> breakAgain {</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">fmt.Println(<span class="string">"done"</span>) <span class="comment">// 退出所有循环后，打印 done</span></span><br></pre></td></tr></tbody></table></figure>

<p>goto 语句跳转到指明的标签处 退出多层循环<br>无须额外的变量就可以快速退出所有的循环。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">for</span> x := <span class="number">0</span>; x &lt; <span class="number">10</span>; x++ {</span><br><span class="line">        <span class="keyword">for</span> y := <span class="number">0</span>; y &lt; <span class="number">10</span>; y++ {</span><br><span class="line">            <span class="keyword">if</span> y == <span class="number">2</span> {</span><br><span class="line">                <span class="comment">// 跳转到标签</span></span><br><span class="line">                <span class="keyword">goto</span> breakHere</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">// 手动返回，避免执行进入标签</span></span><br><span class="line">    <span class="keyword">return</span> <span class="comment">// 此处如果不手动返回，在不满足条件时，也会执行标签下面的代码</span></span><br><span class="line"><span class="comment">// 定义 breakHere 标签，标签只能被 goto 使用，但不影响代码执行流程，</span></span><br><span class="line">breakHere:</span><br><span class="line">    fmt.Println(<span class="string">"done"</span>) <span class="comment">// done</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="集中处理错误"><a href="#集中处理错误" class="headerlink" title="集中处理错误"></a>集中处理错误</h3><p>多处错误处理存在代码重复是非常棘手<br>重复的错误处理代码。后期陆续在这些代码中如果添加更多的判断，就需要在每一块雷同代码中依次修改，极易造成疏忽和错误。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">err := firstCheckError() <span class="comment">// 执行某逻辑，返回错误。</span></span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> { <span class="comment">// 如果发生错误，打印错误退出进程</span></span><br><span class="line">    fmt.Println(err)</span><br><span class="line">    exitProcess()</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">err = secondCheckError() <span class="comment">// 执行某逻辑，返回错误</span></span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> { <span class="comment">// 发生错误后退出流程</span></span><br><span class="line">    fmt.Println(err)</span><br><span class="line">    exitProcess()</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">fmt.Println(<span class="string">"done"</span>) <span class="comment">// 没有任何错误，打印完成</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="goto-语句-集中处理错误"><a href="#goto-语句-集中处理错误" class="headerlink" title="goto 语句 集中处理错误"></a>goto 语句 集中处理错误</h4><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">err := firstCheckError()</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> {</span><br><span class="line">        <span class="keyword">goto</span> onExit <span class="comment">// 发生错误时，跳转错误标签 onExit。</span></span><br><span class="line">    }</span><br><span class="line">    err = secondCheckError()</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> {</span><br><span class="line">        <span class="keyword">goto</span> onExit <span class="comment">// 发生错误时，跳转错误标签 onExit。</span></span><br><span class="line">    }</span><br><span class="line">    fmt.Println(<span class="string">"done"</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="comment">// // 手动返回, 避免执行进入标签</span></span><br><span class="line">onExit:</span><br><span class="line">    <span class="comment">// 汇总所有流程进行错误打印并退出进程。</span></span><br><span class="line">    fmt.Println(err)</span><br><span class="line">    exitProcess()</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">``</span><span class="string">`</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="string">``</span><span class="keyword">go</span></span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">LOOP:</span><br><span class="line">    fmt.Println(<span class="string">"执行了goto"</span>)</span><br><span class="line">    <span class="keyword">for</span> a &lt; <span class="number">20</span> {</span><br><span class="line">        <span class="keyword">if</span> a == <span class="number">15</span> {</span><br><span class="line">            a += <span class="number">1</span>    <span class="comment">//a满足条件  15+1</span></span><br><span class="line">            <span class="keyword">goto</span> LOOP <span class="comment">// 因为上面条件满足了  到这条goto语句就会跳转到LOOP:执行</span></span><br><span class="line">        }</span><br><span class="line">        fmt.Printf(<span class="string">"a的值为:%d\n"</span>, a)</span><br><span class="line">        a++</span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">---</span><br><span class="line">执行了<span class="keyword">goto</span></span><br><span class="line">a的值为:<span class="number">10</span></span><br><span class="line">a的值为:<span class="number">11</span></span><br><span class="line">a的值为:<span class="number">12</span></span><br><span class="line">a的值为:<span class="number">13</span></span><br><span class="line">a的值为:<span class="number">14</span></span><br><span class="line">执行了<span class="keyword">goto</span></span><br><span class="line">a的值为:<span class="number">16</span></span><br><span class="line">a的值为:<span class="number">17</span></span><br><span class="line">a的值为:<span class="number">18</span></span><br><span class="line">a的值为:<span class="number">19</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">    i:=<span class="number">0</span></span><br><span class="line">    test: fmt.Println(<span class="string">"当前i的值为"</span>, i)</span><br><span class="line">    <span class="keyword">for</span> i&lt;<span class="number">3</span>{</span><br><span class="line">        i++</span><br><span class="line">        <span class="keyword">if</span> i==<span class="number">2</span>{<span class="keyword">goto</span> test}</span><br><span class="line">        fmt.Println(i)</span><br><span class="line">    }</span><br><span class="line">    fmt.Println(<span class="string">"结束"</span>)</span><br><span class="line">}</span><br><span class="line">---</span><br><span class="line">当前i的值为 <span class="number">0</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line">当前i的值为 <span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line">结束</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">var</span> n <span class="keyword">int</span> = <span class="number">30</span></span><br><span class="line">    fmt.Println(<span class="string">"ok1"</span>)</span><br><span class="line">    <span class="keyword">if</span> n &gt; <span class="number">20</span> {</span><br><span class="line">        <span class="keyword">goto</span> label1</span><br><span class="line">    }</span><br><span class="line">    fmt.Println(<span class="string">"ok2"</span>)</span><br><span class="line">    fmt.Println(<span class="string">"ok3"</span>)</span><br><span class="line">    fmt.Println(<span class="string">"ok4"</span>)</span><br><span class="line">    label1:</span><br><span class="line">    fmt.Println(<span class="string">"ok5"</span>)</span><br><span class="line">    fmt.Println(<span class="string">"ok6"</span>)</span><br><span class="line">    fmt.Println(<span class="string">"ok7"</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2021/07/01/go-de-xuan-ze-kong-zhi-switch-yu-ju/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/07/01/go-de-xuan-ze-kong-zhi-switch-yu-ju/" class="post-title-link" itemprop="url">go选择控制switch语句</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-06-30 16:21:41" itemprop="dateCreated datePublished" datetime="2021-06-30T16:21:41Z">2021-06-30</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-08-03 01:02:44" itemprop="dateModified" datetime="2021-08-03T01:02:44Z">2021-08-03</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/go/" itemprop="url" rel="index"><span itemprop="name">go</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>switch 语句用于基于不同条件执行不同动作，每一个 case 分支都是唯一的，从上至下逐一测试，直到匹配为止。</p>
<p>switch会自动break，除非使用fallthrough<br>switch 后面可以没有表达式，case后面如果true就执行</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> var1 {</span><br><span class="line">    <span class="keyword">case</span> val1:</span><br><span class="line">        ...</span><br><span class="line">    <span class="keyword">case</span> val2:</span><br><span class="line">        ...</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        ...</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="keyword">var</span> grade = <span class="string">"B"</span></span><br><span class="line">    <span class="keyword">var</span> score = <span class="number">90</span></span><br><span class="line">    fmt.Printf(<span class="string">"你的等级是 %s\n"</span>, grade) <span class="comment">// 你的等级是 B</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">switch</span> score {</span><br><span class="line">    <span class="keyword">case</span> <span class="number">90</span>:</span><br><span class="line">        grade = <span class="string">"A"</span></span><br><span class="line">        fmt.Printf(<span class="string">"A\n"</span>) <span class="comment">// A</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">80</span>:</span><br><span class="line">        grade = <span class="string">"B"</span></span><br><span class="line">    <span class="keyword">case</span> <span class="number">50</span>, <span class="number">60</span>, <span class="number">70</span>:</span><br><span class="line">        grade = <span class="string">"C"</span></span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        grade = <span class="string">"D"</span></span><br><span class="line">    }</span><br><span class="line">    fmt.Printf(<span class="string">"你的等级是 %s\n"</span>, grade) <span class="comment">// 你的等级是 A</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">switch</span> {</span><br><span class="line">    <span class="keyword">case</span> grade == <span class="string">"A"</span>:</span><br><span class="line">        fmt.Printf(<span class="string">"优秀!\n"</span>) <span class="comment">// 优秀!</span></span><br><span class="line">    <span class="keyword">case</span> grade == <span class="string">"B"</span>, grade == <span class="string">"C"</span>:</span><br><span class="line">        fmt.Printf(<span class="string">"良好\n"</span>)</span><br><span class="line">    <span class="keyword">case</span> grade == <span class="string">"D"</span>:</span><br><span class="line">        fmt.Printf(<span class="string">"及格\n"</span>)</span><br><span class="line">    <span class="keyword">case</span> grade == <span class="string">"F"</span>:</span><br><span class="line">        fmt.Printf(<span class="string">"不及格\n"</span>)</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        fmt.Printf(<span class="string">"差\n"</span>)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>区间</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">score := <span class="number">95</span></span><br><span class="line">grade := <span class="string">"A"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> score &gt; <span class="number">90</span> {</span><br><span class="line">    grade = <span class="string">"A"</span></span><br><span class="line">} <span class="keyword">else</span> <span class="keyword">if</span> score &gt;= <span class="number">80</span> &amp;&amp; score &lt;= <span class="number">89</span> {</span><br><span class="line">    grade = <span class="string">"B"</span></span><br><span class="line">} <span class="keyword">else</span> <span class="keyword">if</span> score &gt;= <span class="number">70</span> &amp;&amp; score &lt;= <span class="number">79</span> {</span><br><span class="line">    grade = <span class="string">"C"</span></span><br><span class="line">} <span class="keyword">else</span> <span class="keyword">if</span> score &gt;= <span class="number">60</span> &amp;&amp; score &lt;= <span class="number">69</span> {</span><br><span class="line">    grade = <span class="string">"D"</span></span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">    grade = <span class="string">"E"</span></span><br><span class="line">}</span><br><span class="line">fmt.Println(grade) <span class="comment">// A</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> {</span><br><span class="line"><span class="keyword">case</span> score &gt;= <span class="number">90</span>:</span><br><span class="line">    grade = <span class="string">"A"</span></span><br><span class="line">    fmt.Println(<span class="string">"优"</span>)</span><br><span class="line"><span class="keyword">case</span> score &gt;= <span class="number">80</span> &amp;&amp; score &lt;= <span class="number">89</span>:</span><br><span class="line">    grade = <span class="string">"B"</span></span><br><span class="line"><span class="keyword">case</span> score &gt;= <span class="number">70</span> &amp;&amp; score &lt;= <span class="number">79</span>:</span><br><span class="line">    grade = <span class="string">"C"</span></span><br><span class="line"><span class="keyword">case</span> score &gt;= <span class="number">60</span> &amp;&amp; score &lt;= <span class="number">69</span>:</span><br><span class="line">    grade = <span class="string">"D"</span></span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    grade = <span class="string">"E"</span></span><br><span class="line">}</span><br><span class="line">fmt.Println(grade) <span class="comment">// A</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> {</span><br><span class="line"><span class="keyword">case</span> score &gt; <span class="number">90</span>:</span><br><span class="line">    fmt.Println(<span class="string">"成绩优秀"</span>) <span class="comment">// 成绩优秀</span></span><br><span class="line"><span class="keyword">case</span> score &gt; <span class="number">80</span>:</span><br><span class="line">    fmt.Println(<span class="string">"成绩良好"</span>)</span><br><span class="line"><span class="keyword">case</span> score &gt;= <span class="number">60</span>:</span><br><span class="line">    fmt.Println(<span class="string">"成绩合格"</span>)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    fmt.Println(<span class="string">"成绩不及格"</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>一分支多值<br>不同的 case 表达式使用逗号分隔。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">"mum"</span></span><br><span class="line"><span class="keyword">switch</span> a {</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"mum"</span>, <span class="string">"daddy"</span>:</span><br><span class="line">    fmt.Println(<span class="string">"family"</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="Type-Switch"><a href="#Type-Switch" class="headerlink" title="Type Switch"></a>Type Switch</h3><p>来判断某个 interface 变量中实际存储的变量类型。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> x.(<span class="keyword">type</span>){</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">type</span>:</span><br><span class="line">       statement(s)</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">type</span>:</span><br><span class="line">       statement(s)</span><br><span class="line">    <span class="comment">/* 你可以定义任意个数的case */</span></span><br><span class="line">    <span class="keyword">default</span>: <span class="comment">/* 可选 */</span></span><br><span class="line">       statement(s)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> x <span class="keyword">interface</span>{}</span><br><span class="line"><span class="keyword">var</span> floatVariables = <span class="number">3.1415926</span></span><br><span class="line">x = floatVariables</span><br><span class="line"><span class="keyword">switch</span> typeVariables := x.(<span class="keyword">type</span>) {</span><br><span class="line"><span class="keyword">case</span> <span class="literal">nil</span>:</span><br><span class="line">    fmt.Printf(<span class="string">" x 的类型 :%T"</span>, typeVariables)</span><br><span class="line"><span class="keyword">case</span> <span class="keyword">int</span>:</span><br><span class="line">    fmt.Printf(<span class="string">"x 是 int 型"</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="keyword">float64</span>:</span><br><span class="line">    fmt.Printf(<span class="string">"x 是 float64 型，typeVariables的值为 %v\n"</span>, typeVariables)</span><br><span class="line">    <span class="comment">// x 是 float64 型，typeVariables的值为 3.1415926</span></span><br><span class="line"><span class="keyword">case</span> <span class="function"><span class="keyword">func</span><span class="params">(<span class="keyword">int</span>)</span> <span class="title">float64</span>:</span></span><br><span class="line">    fmt.Printf(<span class="string">"x 是 func(int) 型"</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="keyword">bool</span>, <span class="keyword">string</span>: <span class="comment">// 一个case中判断多个满足条件</span></span><br><span class="line">    fmt.Printf(<span class="string">"x 是 bool 或 string 型"</span>)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    fmt.Printf(<span class="string">"未知型"</span>)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> category = <span class="string">"笔记本"</span></span><br><span class="line"><span class="keyword">switch</span> category { <span class="comment">// 一个case中判断多个满足条件</span></span><br><span class="line"><span class="keyword">case</span> <span class="string">"电脑"</span>, <span class="string">"笔记本"</span>, <span class="string">"手机"</span>:</span><br><span class="line">    fmt.Println(<span class="string">"数码产品"</span>) <span class="comment">// 数码产品</span></span><br><span class="line"><span class="keyword">case</span> <span class="string">"T恤"</span>, <span class="string">"背心"</span>:</span><br><span class="line">    fmt.Println(<span class="string">"服饰产品"</span>)</span><br><span class="line"><span class="keyword">case</span> <span class="string">"饼干"</span>, <span class="string">"巧克力"</span>, <span class="string">"苏打"</span>:</span><br><span class="line">    fmt.Println(<span class="string">"零食产品"</span>)</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    fmt.Println(<span class="string">"其他产品"</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<ol start="2">
<li>分支表达式</li>
</ol>
<p>break 语句在执行一条 case 后跳出 switch 循环</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line"></span><br><span class="line">    name := <span class="string">"Golang"</span></span><br><span class="line">    <span class="keyword">switch</span> name {</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"oldboy"</span>:</span><br><span class="line">        fmt.Println(name)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">"Linux"</span>:</span><br><span class="line">        fmt.Println(name)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">"Golang"</span>:</span><br><span class="line">        fmt.Println(name)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">"Python"</span>:</span><br><span class="line">        fmt.Println(name)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">"Java"</span>:</span><br><span class="line">        fmt.Println(name)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">"DBA"</span>:</span><br><span class="line">        fmt.Println(name)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">``</span><span class="string">`</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="string">``</span><span class="keyword">go</span></span><br></pre></td></tr></tbody></table></figure>


<p>fallthrough 执行本case后还能执行switch语句的下一个case，如果满足条件<br>穿透一级向下级执行</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> score := <span class="number">100</span>; { <span class="comment">// 局部变量</span></span><br><span class="line"><span class="keyword">case</span> score &gt; <span class="number">90</span>:</span><br><span class="line">    fmt.Println(<span class="string">"成绩优秀"</span>) <span class="comment">// 成绩优秀</span></span><br><span class="line">    <span class="keyword">fallthrough</span></span><br><span class="line"><span class="keyword">case</span> score &gt; <span class="number">80</span>:</span><br><span class="line">    fmt.Println(<span class="string">"成绩良好"</span>) <span class="comment">// 成绩良好</span></span><br><span class="line">    <span class="keyword">fallthrough</span></span><br><span class="line"><span class="keyword">case</span> score &gt;= <span class="number">60</span>:</span><br><span class="line">    fmt.Println(<span class="string">"成绩合格"</span>) <span class="comment">// 成绩合格</span></span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    fmt.Println(<span class="string">"成绩不及格"</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2021/06/30/go-zi-fu-chuan/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/06/30/go-zi-fu-chuan/" class="post-title-link" itemprop="url">go字符串</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-06-29 16:21:41" itemprop="dateCreated datePublished" datetime="2021-06-29T16:21:41Z">2021-06-29</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-08-06 10:57:28" itemprop="dateModified" datetime="2021-08-06T10:57:28Z">2021-08-06</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/go/" itemprop="url" rel="index"><span itemprop="name">go</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="字符"><a href="#字符" class="headerlink" title="字符"></a>字符</h3><p>在go中字符和字符串不是一种类型</p>
<p>字符是电子计算机中字母、数字、符号的统称，是数据结构中最小的数据存取单位，通常由8个二进制位(一个字节)来表示一个字符。</p>
<p>字符类型是单引号括起来<code>''</code></p>
<p>字符本质是一个数字， 可以进行加减乘除算术运算(转成ascii码值再计算)</p>
<p>字符串是双引号或反引号括起来<code>""</code></p>
<p>字符是电子计算机中字母、数字、符号的统称，是数据结构中最小的数据存取单位，通常由8个二进制位(一个字节)来表示一个字符。</p>
<p>Golang中没有专门的字符类型，如果要存储单个字符(字母)，一般使用<strong>byte</strong>来保存。</p>
<h3 id="byte-是-uint8-的别名-ascii的一个字符"><a href="#byte-是-uint8-的别名-ascii的一个字符" class="headerlink" title="byte 是 uint8 的别名  ascii的一个字符"></a>byte 是 uint8 的别名  ascii的一个字符</h3><p>源码</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// byte is an alias for uint8 and is equivalent to uint8 in all ways. It is</span></span><br><span class="line"><span class="comment">// used, by convention, to distinguish byte values from 8-bit unsigned</span></span><br><span class="line"><span class="comment">// integer values.</span></span><br><span class="line"><span class="keyword">type</span> <span class="keyword">byte</span> = <span class="keyword">uint8</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a <span class="keyword">byte</span> = <span class="number">18</span></span><br><span class="line">fmt.Println(a) <span class="comment">// 18</span></span><br><span class="line"><span class="keyword">var</span> charVariables1 <span class="keyword">byte</span> = <span class="string">'0'</span></span><br><span class="line">fmt.Printf(<span class="string">"charVariables1 = %d\n"</span>, charVariables1)</span><br><span class="line"><span class="comment">// charVariables1 = 48</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="rune-是-int32-的别名，代表一个-UTF-8-字符"><a href="#rune-是-int32-的别名，代表一个-UTF-8-字符" class="headerlink" title="rune 是 int32 的别名，代表一个 UTF-8 字符"></a>rune 是 int32 的别名，代表一个 UTF-8 字符</h3><p>当需要处理中文、日文或者其他复合字符时，则需要用到 rune 类型，相当于go的char</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// rune is an alias for int32 and is equivalent to int32 in all ways. It is</span></span><br><span class="line"><span class="comment">// used, by convention, to distinguish character values from integer values.</span></span><br><span class="line"><span class="keyword">type</span> <span class="keyword">rune</span> = <span class="keyword">int32</span></span><br></pre></td></tr></tbody></table></figure>

<p>字符串就是一串固定长度的字符连接起来的字符序列。<br>也就是说对于<strong>传统的字符串是由字符组成</strong>的，而Go的字符串不同，它是由单个<strong>字节</strong>连接组成的。</p>
<p>存储：字符-》ascii码值-》二进制<br>读取：二进制-》ascii码值-》字符</p>
<p>每个rune是4个字节，转rune 不是对原有的内存存的东西进行解释，而是重新开一个内存，然后解释后存起来</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">fmt.Printf(<span class="string">"%d"</span>, <span class="string">'a'</span>) <span class="comment">// 97</span></span><br><span class="line">fmt.Printf(<span class="string">"%T"</span>, <span class="string">'a'</span>) <span class="comment">// int32</span></span><br><span class="line">fmt.Printf(<span class="string">"%c"</span>, <span class="number">97</span>)  <span class="comment">// a</span></span><br><span class="line">fmt.Printf(<span class="string">"%T"</span>, <span class="number">97</span>)  <span class="comment">// int</span></span><br><span class="line">fmt.Printf(<span class="string">"%d"</span>, <span class="string">'华'</span>) <span class="comment">// 21326 单引号</span></span><br><span class="line">fmt.Printf(<span class="string">"%T"</span>, <span class="string">'华'</span>) <span class="comment">// int32 单引号，是 rune 类型</span></span><br><span class="line">fmt.Printf(<span class="string">"%c"</span>, <span class="string">'华'</span>) <span class="comment">// 华</span></span><br><span class="line"><span class="comment">// var charVariables3 byte = '华' // constant 21326 overflows byte  字符的ASCII值超过了字节类型表示的范围</span></span><br><span class="line"></span><br><span class="line">charVariables2 := <span class="string">'华'</span> <span class="comment">// 单引号</span></span><br><span class="line">fmt.Printf(<span class="string">"charVariables2 = %d\n"</span>, charVariables2)</span><br><span class="line"><span class="comment">// charVariables2 = 21326</span></span><br><span class="line">fmt.Printf(<span class="string">"charVariables2=%c，charVariables2=%T\n"</span>, charVariables2, charVariables2)</span><br><span class="line"><span class="comment">//charVariables2=华，charVariables2=int32</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b <span class="keyword">byte</span> = <span class="string">'b'</span></span><br><span class="line">fmt.Println(b)        <span class="comment">// 98</span></span><br><span class="line"><span class="comment">// fmt.Printf(b)        // cannot use b (type byte) as type string in argument to fmt.Printf</span></span><br><span class="line">fmt.Printf(<span class="string">"b=%c"</span>, b) <span class="comment">// b=b</span></span><br><span class="line"><span class="keyword">var</span> c <span class="keyword">int</span> = <span class="string">'c'</span></span><br><span class="line">fmt.Println(c)        <span class="comment">// 99</span></span><br><span class="line">fmt.Printf(<span class="string">"c=%c"</span>, c) <span class="comment">// c=c</span></span><br><span class="line"></span><br><span class="line">a := <span class="string">'a'</span></span><br><span class="line">fmt.Printf(<span class="string">"加和=%d"</span>, <span class="number">1</span>+variables) <span class="comment">// 加和=98</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. a+1可以和数字计算 2.a+1的类型是32</span></span><br><span class="line">fmt.Println(reflect.TypeOf(a + <span class="number">1</span>)) <span class="comment">// int32</span></span><br><span class="line">fmt.Printf(<span class="string">"%T\n"</span>, a+<span class="number">1</span>)            <span class="comment">// int32</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// int类型可以直接变成字符</span></span><br><span class="line">fmt.Printf(<span class="string">"a+1=%c"</span>, a+<span class="number">1</span>)          <span class="comment">// a+1=b</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="python-单引号-39-39-、双引号-quot-quot-都是字符串，没有字符的概念"><a href="#python-单引号-39-39-、双引号-quot-quot-都是字符串，没有字符的概念" class="headerlink" title="python 单引号''、双引号&quot;&quot; 都是字符串，没有字符的概念"></a>python 单引号<code>''</code>、双引号<code>""</code> 都是字符串，没有字符的概念</h3><figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">'a'</span> + <span class="number">1</span>)  <span class="comment"># TypeError: can only concatenate str (not "int") to str  “a”表示字符串   单引号不代表字符</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="字符串是字符的数组"><a href="#字符串是字符的数组" class="headerlink" title="字符串是字符的数组"></a>字符串是字符的数组</h3><p>字符串是类型标识为string, 由数字、字母、下划线组成的一串固定长度的字符连接起来的字符序列。<br>是由单个字节连接起来的。它的字节使用 UTF-8 编码标识 Unicode 文本的数据类型。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// string is the set of all strings of 8-bit bytes, conventionally but not</span></span><br><span class="line"><span class="comment">// necessarily representing UTF-8-encoded text. A string may be empty, but</span></span><br><span class="line"><span class="comment">// not nil. Values of string type are immutable.</span></span><br><span class="line"><span class="keyword">type</span> <span class="keyword">string</span> <span class="keyword">string</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fmt.Printf(<span class="string">"%d\n"</span>, <span class="string">"华"</span>) <span class="comment">// %!d(string=华) 双引号</span></span><br><span class="line">fmt.Printf(<span class="string">"%c\n"</span>, <span class="string">"华"</span>) <span class="comment">// %!c(string=华) 双引号</span></span><br><span class="line">fmt.Printf(<span class="string">"%s\n"</span>, <span class="string">"华"</span>) <span class="comment">// 华</span></span><br><span class="line">fmt.Printf(<span class="string">"%v\n"</span>, <span class="string">"华"</span>) <span class="comment">// 华</span></span><br><span class="line">fmt.Printf(<span class="string">"%T\n"</span>, <span class="string">"华"</span>) <span class="comment">// string</span></span><br></pre></td></tr></tbody></table></figure>

<p>通过反引号定义，原样输出</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">var</span> stringVariables2 = <span class="string">`</span></span><br><span class="line"><span class="string">package main</span></span><br><span class="line"><span class="string">import (</span></span><br><span class="line"><span class="string">    "fmt"</span></span><br><span class="line"><span class="string">"unsafe"</span></span><br><span class="line"><span class="string">)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">func main() {</span></span><br><span class="line"><span class="string">    /*</span></span><br><span class="line"><span class="string">       float32 4个字节</span></span><br><span class="line"><span class="string">       float64 8个字节</span></span><br><span class="line"><span class="string">    */</span></span><br><span class="line"><span class="string">    。。。。。。。</span></span><br><span class="line"><span class="string">    fmt.Println(real(complexVariables1), imag(complexVariables1))</span></span><br><span class="line"><span class="string">}</span></span><br><span class="line"><span class="string">    `</span></span><br><span class="line">    fmt.Printf(<span class="string">"%T"</span>, stringVariables2)<span class="comment">// string</span></span><br><span class="line">    fmt.Printf(<span class="string">"stringVariables2=%v"</span>, stringVariables2)</span><br><span class="line">---原样输出的打印结果---</span><br><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line"><span class="string">"unsafe"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">       float32 4个字节</span></span><br><span class="line"><span class="comment">       float64 8个字节</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    。。。。。。。</span><br><span class="line">    fmt.Println(<span class="built_in">real</span>(complexVariables1),<span class="built_in">imag</span>(complexVariables1))</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>字符串初始化之后不允许重新赋值<br>可以以字符数组下标的形式来读取，但不能赋值</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stringVariables1[<span class="number">1</span>] = <span class="number">1</span> <span class="comment">// cannot assign to stringVariables1[1] (strings are immutable)</span></span><br></pre></td></tr></tbody></table></figure>

<ol>
<li>求解字符串的长度<br><code>len()</code>返回的是字节长度<br>涉及到中文问题就产生了变化<br>unicode 字符集，存储的时候需要编码 utf8编码规则，<br>utf8编码是一个动态可变长的编码规则<br>utf8编码，3个字节表示中文字符 还能够用一个字节表示英文<br>1个中文字符占用3个字节<br>一个字符占一个字节</li>
</ol>
<p>使用<code>[]byte</code> 类型转换 每个中文字符转换成3个字节，英文一个字节的字符转换成一个byte</p>
<p>使用range遍历pos（索引不连续），rune（索引连续）对<br>使用<code>utf8.RuneCountInString</code>获得字符数量</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">    <span class="string">"unicode/utf8"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    s := <span class="string">"Yes我爱慕课网!"</span> <span class="comment">// UTF-8 编码</span></span><br><span class="line">    fmt.Println(s) <span class="comment">// Yes我爱慕课网!</span></span><br><span class="line">    fmt.Printf(<span class="string">"%v\n"</span>, <span class="built_in">len</span>(s)) <span class="comment">// 19</span></span><br><span class="line"></span><br><span class="line">    byteArr := []<span class="keyword">byte</span>(s)</span><br><span class="line">    fmt.Printf(<span class="string">"%v\n"</span>, byteArr) <span class="comment">// [89 101 115 230 136 145 231 136 177 230 133 149 232 175 190 231 189 145 33]</span></span><br><span class="line">    fmt.Printf(<span class="string">"%s\n"</span>, byteArr) <span class="comment">// Yes我爱慕课网!</span></span><br><span class="line">    fmt.Printf(<span class="string">"%X\n"</span>, byteArr) <span class="comment">// 596573E68891E788B1E68595E8AFBEE7BD9121</span></span><br><span class="line">    fmt.Printf(<span class="string">"%v\n"</span>, <span class="built_in">len</span>(byteArr)) <span class="comment">// 19</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i, b := <span class="keyword">range</span> byteArr { <span class="comment">// 获得字节</span></span><br><span class="line">        fmt.Printf(<span class="string">"(%d %X) "</span>, i, b)</span><br><span class="line">        <span class="comment">// (0 59) (1 65) (2 73) (3 E6) (4 88) (5 91) (6 E7) (7 88) (8 B1) (9 E6) (10 85) (11 95) (12 E8) (13 AF) (14 BE) (15 E7) (16 BD) (17 91) (18 21) </span></span><br><span class="line">    }</span><br><span class="line">    fmt.Println()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i, ch := <span class="keyword">range</span> s {</span><br><span class="line">        <span class="comment">// i为索引 第几个字节开始，ch  is a rune为unicode编码</span></span><br><span class="line">        fmt.Printf(<span class="string">"(%d %X) "</span>, i, ch)</span><br><span class="line">        <span class="comment">// (0 59) (1 65) (2 73) (3 6211) (6 7231) (9 6155) (12 8BFE) (15 7F51) (18 21) </span></span><br><span class="line">        <span class="comment">// 从3开始，E6 88 91 的 UTF-8 编码 转换成 6211 的 Unicode 编码</span></span><br><span class="line">        <span class="comment">// 从6开始，E7 88 B1 的 UTF-8 编码 转换成 7231 的 Unicode 编码</span></span><br><span class="line">    }</span><br><span class="line">    fmt.Println()</span><br><span class="line"></span><br><span class="line">    fmt.Println(utf8.RuneCountInString(s)) <span class="comment">// 9</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">len</span>(byteArr) &gt; <span class="number">0</span> {</span><br><span class="line">        ch, size := utf8.DecodeRune(byteArr) <span class="comment">// ch is rune  size 为ch的字节长度</span></span><br><span class="line">        byteArr = byteArr[size:]</span><br><span class="line">        fmt.Printf(<span class="string">"%c "</span>, ch) <span class="comment">// Y e s 我 爱 慕 课 网 ! </span></span><br><span class="line">    }</span><br><span class="line">    fmt.Println()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 类型转换 每个字符转换成 rune 4个字节，英文一个字节的字符转换成一个rune，中文三个字节的字符转换成一个rune</span></span><br><span class="line">    runeArr := []<span class="keyword">rune</span>(s) <span class="comment">// int32 = rune</span></span><br><span class="line">    fmt.Printf(<span class="string">"%v\n"</span>, runeArr) <span class="comment">// [89 101 115 25105 29233 24917 35838 32593 33]</span></span><br><span class="line">    fmt.Printf(<span class="string">"%d\n"</span>, runeArr) <span class="comment">// [89 101 115 25105 29233 24917 35838 32593 33]</span></span><br><span class="line">    fmt.Printf(<span class="string">"%X\n"</span>, runeArr) <span class="comment">// [59 65 73 6211 7231 6155 8BFE 7F51 21]</span></span><br><span class="line">    fmt.Printf(<span class="string">"%c\n"</span>, runeArr) <span class="comment">// [Y e s 我 爱 慕 课 网 !]</span></span><br><span class="line">    fmt.Printf(<span class="string">"%v\n"</span>, <span class="built_in">len</span>(runeArr)) <span class="comment">// 9</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i, ch := <span class="keyword">range</span> runeArr {</span><br><span class="line">        fmt.Printf(<span class="string">"(%d %c) "</span>, i, ch)</span><br><span class="line">        <span class="comment">// (0 Y) (1 e) (2 s) (3 我) (4 爱) (5 慕) (6 课) (7 网) (8 !) </span></span><br><span class="line">        <span class="comment">// 下标连续，一个中文字符算1字节长度</span></span><br><span class="line">    }</span><br><span class="line">    fmt.Println()</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>转义符算一个字符</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name <span class="keyword">string</span> = <span class="string">"bobby:\"慕课网\""</span></span><br><span class="line">fmt.Println(<span class="built_in">len</span>(name))            <span class="comment">// 17</span></span><br><span class="line"><span class="comment">// 类型转换</span></span><br><span class="line">name_arr := []<span class="keyword">int32</span>(name)  <span class="comment">// int32 = rune</span></span><br><span class="line">fmt.Println(<span class="built_in">len</span>(name_arr)) <span class="comment">// 11</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">date := <span class="string">"2020\\06\\18"</span> <span class="comment">//转义符</span></span><br><span class="line">fmt.Println(date)      <span class="comment">// 2020\06\18</span></span><br><span class="line">date1 := <span class="string">`2020\06\18`</span>  <span class="comment">//转义符</span></span><br><span class="line">fmt.Println(date1)     <span class="comment">// 2020\06\18</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="是否包含某个子串"><a href="#是否包含某个子串" class="headerlink" title="是否包含某个子串"></a>是否包含某个子串</h4><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name <span class="keyword">string</span> = <span class="string">"bobby:\"慕课网\""</span></span><br><span class="line">fmt.Println(strings.Contains(name, <span class="string">"慕课网"</span>)) <span class="comment">// true</span></span><br><span class="line">fmt.Println(strings.Index(name, <span class="string">"慕课网"</span>))    <span class="comment">// 7</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="子串统计出现的次数"><a href="#子串统计出现的次数" class="headerlink" title="子串统计出现的次数"></a>子串统计出现的次数</h4><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fmt.Println(strings.Count(name, <span class="string">"b"</span>)) <span class="comment">// 3</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="前缀和后缀"><a href="#前缀和后缀" class="headerlink" title="前缀和后缀"></a>前缀和后缀</h4><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fmt.Println(strings.HasPrefix(name, <span class="string">"o"</span>))  <span class="comment">// false</span></span><br><span class="line">fmt.Println(strings.HasPrefix(name, <span class="string">"b"</span>))  <span class="comment">// true</span></span><br><span class="line">fmt.Println(strings.HasSuffix(name, <span class="string">"\""</span>)) <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="大小写转换"><a href="#大小写转换" class="headerlink" title="大小写转换"></a>大小写转换</h4><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fmt.Println(strings.ToUpper(<span class="string">"bobby"</span>)) <span class="comment">// BOBBY</span></span><br><span class="line">fmt.Println(strings.ToLower(<span class="string">"BOBBY"</span>)) <span class="comment">// bobby</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="字符串的比较是"><a href="#字符串的比较是" class="headerlink" title="字符串的比较是"></a>字符串的比较是</h4><p>先比较第一个字符ascii，第一个小于第二个返回-1， 第一个大于第二个返回1， 相等0</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">fmt.Println(strings.Compare(<span class="string">"ab"</span>, <span class="string">"aa"</span>)) <span class="comment">// 1</span></span><br><span class="line">fmt.Println(strings.Compare(<span class="string">"ab"</span>, <span class="string">"b"</span>))  <span class="comment">// -1</span></span><br><span class="line">fmt.Println(strings.Compare(<span class="string">"b"</span>, <span class="string">"a"</span>))   <span class="comment">// 1</span></span><br><span class="line">fmt.Println(strings.Compare(<span class="string">"b"</span>, <span class="string">"b"</span>))   <span class="comment">// 0</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="去掉空格和指定字符串"><a href="#去掉空格和指定字符串" class="headerlink" title="去掉空格和指定字符串"></a>去掉空格和指定字符串</h4><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fmt.Println(strings.TrimSpace(<span class="string">" bobby "</span>))    <span class="comment">// bobby</span></span><br><span class="line">fmt.Println(strings.TrimLeft(<span class="string">"bobby"</span>, <span class="string">"b"</span>))  <span class="comment">// obby</span></span><br><span class="line">fmt.Println(strings.TrimLeft(<span class="string">"obobby"</span>, <span class="string">"b"</span>)) <span class="comment">// obobby</span></span><br><span class="line">fmt.Println(strings.Trim(<span class="string">"bobbyb"</span>, <span class="string">"b"</span>))     <span class="comment">// obby</span></span><br><span class="line">fmt.Println(strings.Trim(<span class="string">"bobby"</span>, <span class="string">"b"</span>))      <span class="comment">// obby</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="split分割方法"><a href="#split分割方法" class="headerlink" title="split分割方法"></a><code>split</code>分割方法</h4><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fmt.Println(strings.Split(<span class="string">"bobby imooc"</span>, <span class="string">" "</span>)) <span class="comment">// [bobby imooc]</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="join合并方法将字符串数组连接起来"><a href="#join合并方法将字符串数组连接起来" class="headerlink" title="join合并方法将字符串数组连接起来"></a><code>join</code>合并方法将字符串数组连接起来</h4><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arrs := strings.Split(<span class="string">"bobby imooc"</span>, <span class="string">" "</span>)</span><br><span class="line">fmt.Println(strings.Join(arrs, <span class="string">"-"</span>)) <span class="comment">// bobby-imooc</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="字符串连接可以通过-实现-，会产生一个新的字符串对效率有所影响"><a href="#字符串连接可以通过-实现-，会产生一个新的字符串对效率有所影响" class="headerlink" title="字符串连接可以通过 + 实现 ，会产生一个新的字符串对效率有所影响"></a>字符串连接可以通过 <code>+</code> 实现 ，会产生一个新的字符串对效率有所影响</h4><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fmt.Println(<span class="string">"Google"</span> + <span class="string">"Runoob"</span>) <span class="comment">// GoogleRunoob</span></span><br></pre></td></tr></tbody></table></figure>

<p>字符串拼接 还可以借助函数 <code>fmt.Sprintf</code>、<code>buffer.WriteString</code> 等实现</p>
<h4 id="字符串替换"><a href="#字符串替换" class="headerlink" title="字符串替换"></a>字符串替换</h4><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fmt.Println(strings.Replace(<span class="string">"bobby: 18 电话：18888888"</span>, <span class="string">"18"</span>, <span class="string">"19"</span>, <span class="number">2</span>))</span><br><span class="line"><span class="comment">// bobby: 19 电话：19888888</span></span><br></pre></td></tr></tbody></table></figure>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2021/06/29/go-ji-ben-shu-ju-lei-xing/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/06/29/go-ji-ben-shu-ju-lei-xing/" class="post-title-link" itemprop="url">go基本数据类型</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-06-28 17:46:44" itemprop="dateCreated datePublished" datetime="2021-06-28T17:46:44Z">2021-06-28</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-08-08 09:06:07" itemprop="dateModified" datetime="2021-08-08T09:06:07Z">2021-08-08</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/go/" itemprop="url" rel="index"><span itemprop="name">go</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>静态语言中中文处理很容易出错</p>
<p>值类型：整型，浮点型,bool,数组array,string 和结构体,变量直接存储值，内存通常在栈中分配</p>
<p>以值类型传递参数，是对应值的拷贝，不会改变实参的值</p>
<p>引用类型：指针，slice,map,chan,interface<br>以引用类型传递参数，传递的是对应的地址，这个地址占用的空间是轻量级的，对内存占用是极少的，可以通过指针传递的方式，传递一个何种较大的数据，会改变实参的值<br>变量存储的是一个地址，这个地址对应的空间才真正存储数据(值)，内存通常在堆上分配，当没有任何变量引用这个地址时，该地址对应的数据空间就成为一个垃圾，由 GC 来回收<br>如果希望函数内的变量能修改函数外的变量，可以传入变量的地址&amp;，函数内以指针的方式操作变量。从效果上看类似引用。</p>
<p>值类型参数默认就是值传递，而引用类型参数默认就是引用传递。</p>
<p>不管是值传递还是引用传递，传递给函数的都是变量的副本，不同的是：<br>值传递的是值的拷贝<br>引用传递的是地址的拷贝<br>一般来说，地址拷贝效率高，因为数据量小，而值拷贝决定拷贝的数据大小，数据越大，效率越低。</p>
<h3 id="bool类型"><a href="#bool类型" class="headerlink" title="bool类型"></a>bool类型</h3><p>布尔型的值只可以是常量 true 或者 false(default)。<br>不接受其他类型赋值和强制转换</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> b <span class="keyword">bool</span> = <span class="literal">true</span></span><br><span class="line">boolVaraibles1 = <span class="number">123</span> <span class="comment">// cannot use 123 (type untyped int) as type bool in assignment</span></span><br><span class="line">fmt.Println(!<span class="literal">true</span>, !<span class="literal">false</span>, !!<span class="literal">true</span>) <span class="comment">// false true true</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="数值型"><a href="#数值型" class="headerlink" title="数值型"></a>数值型</h3><p>二进制和位数的关系，以及int和uint的关系</p>
<h4 id="整数型"><a href="#整数型" class="headerlink" title="整数型"></a>整数型</h4><p>有符号位：第一位符号位，0正1负     数值范围<br>int8  有符号 1个字节 8 位bit整型 (-2^7=-128 ~ 2^7-1=127)<br>int16 有符号 2个字节 16 位整型 (-2^15=-32768 ~ 2^15-1= 32767)<br>int32 有符号 4个字节 32 位整型 (-2^31~2^31-1 -2147483648 ~ 2^31-1= 2147483647)<br>int64 有符号 8个字节 64 位整型 (-2^63=-9223372036854775808 ~ 2^63-1= 9223372036854775807)</p>
<p>unsigned 第一位不是符号位，最高位用正数表示<br>uint8 无符号  1个字节 8 位整型 (0 到  2^8-1=255) 8位都用于表示数值：<br>uint16 无符号 2个字节 16 位整型 (0 到  2^16-1=65535)<br>uint32 无符号 4个字节 32 位整型 (0 到 2^32-1=4294967295)<br>uint64 无符号 8个字节 64 位整型 (0 到 2^64-1=18446744073709551615)</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// int is a signed integer type that is at least 32 bits in size. It is a</span></span><br><span class="line"><span class="comment">// distinct type, however, and not an alias for, say, int32.</span></span><br><span class="line"><span class="keyword">type</span> <span class="keyword">int</span> <span class="keyword">int</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">age := <span class="number">18</span></span><br><span class="line">fmt.Printf(<span class="string">"%T\n"</span>, age) <span class="comment">// int</span></span><br></pre></td></tr></tbody></table></figure>

<p>默认 int 类型，未指定长度时根据操作系统是多少位来决定<br>int32,int64由于占用空间大小不一样，被认为是不同的类型，所有不能相互赋值</p>
<h3 id="浮点型"><a href="#浮点型" class="headerlink" title="浮点型"></a>浮点型</h3><p>float32  4个字节32位浮点型数，类似c 单精度的 float<br>float64  8个字节64位浮点型数，类似c 双精度的 double，默认类型</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fmt.Println(math.MaxFloat32) <span class="comment">// 3.4028234663852886e+38</span></span><br><span class="line">fmt.Println(math.MaxFloat64) <span class="comment">// 1.7976931348623157e+308</span></span><br></pre></td></tr></tbody></table></figure>

<p>为什么64位的float最大值远大于int64，float底层存储和int的存储不一样<br>float32和float64两者占用内存不一样，64位的最大数和精度都比32位高</p>
<h4 id="1-以十进制的形式来展示"><a href="#1-以十进制的形式来展示" class="headerlink" title="1. 以十进制的形式来展示"></a>1. 以十进制的形式来展示</h4><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> floatVariables1 <span class="keyword">float32</span> = <span class="number">3.1415926</span></span><br><span class="line">floatVariables2 := <span class="number">.1416926</span> <span class="comment">// 0.1416926</span></span><br><span class="line">fmt.Printf(<span class="string">"floatVariables1的类型=%T，占用的字节大小=%d\n"</span>, floatVariables1, unsafe.Sizeof(floatVariables1))</span><br><span class="line"><span class="comment">//floatVariables1的类型=float32，占用的字节大小=4</span></span><br><span class="line">fmt.Printf(<span class="string">"floatVariables2的类型=%T，占用的字节大小=%d\n"</span>, floatVariables2, unsafe.Sizeof(floatVariables2))</span><br><span class="line"><span class="comment">//floatVariables2的类型=float64，占用的字节大小=8</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="2-以科学计数法来展示"><a href="#2-以科学计数法来展示" class="headerlink" title="2. 以科学计数法来展示"></a>2. 以科学计数法来展示</h4><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">floatVariables3 := <span class="number">3.1415926e2</span>  <span class="comment">//3.1415926乘以10的2次方</span></span><br><span class="line">floatVariables4 := <span class="number">3.1415926e-2</span> <span class="comment">//3.1415926除以10的2次方</span></span><br><span class="line">fmt.Println(floatVariables3, floatVariables4) <span class="comment">// 314.15926 0.031415926</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="不同精度的浮点类型的转换"><a href="#不同精度的浮点类型的转换" class="headerlink" title="不同精度的浮点类型的转换"></a>不同精度的浮点类型的转换</h4><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> floatVariables5 <span class="keyword">float32</span> = <span class="number">3.14</span></span><br><span class="line"><span class="keyword">var</span> floatVariables6 <span class="keyword">float64</span> = <span class="number">3.14</span></span><br><span class="line">floatVariables6 = <span class="keyword">float64</span>(floatVariables5)</span><br><span class="line">fmt.Println(floatVariables5, floatVariables6) <span class="comment">// 3.14 3.140000104904175</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="3-复数"><a href="#3-复数" class="headerlink" title="3. 复数"></a>3. 复数</h4><p>实数”+”虚数i，虚数的单位</p>
<p><code>complex64</code> 32实数+32位虚数组成，虚数的单位<br><code>complex128</code> 64实数+64位虚数，虚数单位i 默认</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> complexVariables1 <span class="keyword">complex64</span></span><br><span class="line">complexVariables1 = <span class="number">3.14</span> + <span class="number">12i</span></span><br><span class="line">complexVariables2 := <span class="built_in">complex</span>(<span class="number">3.14</span>, <span class="number">12</span>)</span><br><span class="line"></span><br><span class="line">fmt.Printf(<span class="string">"complexVariables1的类型=%T,值=%v\n"</span>, complexVariables1, complexVariables1)</span><br><span class="line"><span class="comment">//complexVariables1的类型=complex64,值=(3.14+12i)</span></span><br><span class="line">fmt.Printf(<span class="string">"complexVariables2的类型=%T,值=%v\n"</span>, complexVariables2, complexVariables2)</span><br><span class="line"><span class="comment">//complexVariables2的类型=complex128,值=(3.14+12i)</span></span><br><span class="line"></span><br><span class="line">fmt.Println(<span class="built_in">real</span>(complexVariables1), <span class="built_in">imag</span>(complexVariables1)) <span class="comment">// 3.14 12</span></span><br><span class="line"></span><br><span class="line">c := <span class="number">3</span> + <span class="number">4i</span></span><br><span class="line">fmt.Println(cmplx.Abs(c)) <span class="comment">// 5</span></span><br></pre></td></tr></tbody></table></figure>

<p>欧拉公式<br>e^(iπ)+1=0</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">euler</span><span class="params">()</span></span> {</span><br><span class="line">    fmt.Printf(<span class="string">"%.3f\n"</span>,</span><br><span class="line">        cmplx.Pow(math.E, <span class="number">1i</span> * math.Pi) + <span class="number">1</span>) <span class="comment">// (0.000+0.000i)</span></span><br><span class="line">    fmt.Printf(<span class="string">"%.3f\n"</span>,</span><br><span class="line">        cmplx.Exp(<span class="number">1i</span> * math.Pi) + <span class="number">1</span>) <span class="comment">// (0.000+0.000i)</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="uint-32-或-64-位"><a href="#uint-32-或-64-位" class="headerlink" title="uint 32 或 64 位"></a>uint 32 或 64 位</h3><p>相比python而言，go语言为什么有这么多种整数类型<br>年龄，分数都是有上线 年龄不超过0-200 分数0-150<br>很多场景之下，数字有上限，我们可以选择合适的数据类型来降低内存的占用，<br>int是一种动态类型，取决机器本身是多少位，64位机器上运行那么int 就是int64占8个字节，如果是32位机器上那么就是4个字节<br>一般情况下我们都会指明int占用多少个字节</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> age <span class="keyword">int</span> = <span class="number">18</span></span><br><span class="line">fmt.Println(unsafe.Sizeof(age)) <span class="comment">// 8</span></span><br><span class="line"><span class="keyword">var</span> age1 <span class="keyword">int8</span> = <span class="number">18</span></span><br><span class="line">fmt.Println(unsafe.Sizeof(age1)) <span class="comment">// 1</span></span><br><span class="line"><span class="keyword">var</span> age2 <span class="keyword">int16</span> = <span class="number">18</span></span><br><span class="line">fmt.Println(unsafe.Sizeof(age2)) <span class="comment">// 2</span></span><br><span class="line"><span class="keyword">var</span> age3 <span class="keyword">int32</span> = <span class="number">18</span></span><br><span class="line">fmt.Println(unsafe.Sizeof(age3)) <span class="comment">// 4</span></span><br><span class="line"><span class="keyword">var</span> age4 <span class="keyword">int64</span> = <span class="number">18</span></span><br><span class="line">fmt.Println(unsafe.Sizeof(age4)) <span class="comment">// 8</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="对于python来说，int占用字节是动态，python的int我们不用担心超过上限"><a href="#对于python来说，int占用字节是动态，python的int我们不用担心超过上限" class="headerlink" title="对于python来说，int占用字节是动态，python的int我们不用担心超过上限"></a>对于python来说，int占用字节是动态，python的int我们不用担心超过上限</h4><figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line">print(sys.getsizeof(<span class="number">18</span>))  <span class="comment"># 28 整数</span></span><br><span class="line">print(sys.getsizeof(<span class="number">71.2</span>))  <span class="comment"># 24 浮点数</span></span><br></pre></td></tr></tbody></table></figure>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2021/06/29/go-ji-ben-shu-ju-lei-xing-zhuan-huan/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/06/29/go-ji-ben-shu-ju-lei-xing-zhuan-huan/" class="post-title-link" itemprop="url">go基本数据类型转换</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-06-28 17:46:44" itemprop="dateCreated datePublished" datetime="2021-06-28T17:46:44Z">2021-06-28</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-08-02 13:58:50" itemprop="dateModified" datetime="2021-08-02T13:58:50Z">2021-08-02</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/go/" itemprop="url" rel="index"><span itemprop="name">go</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1. 基本的类型转换</span></span><br><span class="line">a := <span class="keyword">int</span>(<span class="number">3.0</span>)</span><br><span class="line">fmt.Printf(<span class="string">"%T\n"</span>, a) <span class="comment">// int</span></span><br><span class="line">fmt.Println(a)        <span class="comment">// 3</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a1 <span class="keyword">int32</span></span><br><span class="line">a1 = <span class="keyword">int32</span>(a)</span><br><span class="line">fmt.Println(a1)        <span class="comment">// 3</span></span><br><span class="line">fmt.Printf(<span class="string">"%T\n"</span>, a1) <span class="comment">// int32</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight cpp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    <span class="comment">// cout &lt;&lt; "Hello, world!" &lt;&lt; endl;</span></span><br><span class="line">    <span class="comment">// return 0;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 类型转换</span></span><br><span class="line">    <span class="keyword">int</span> a = <span class="number">5</span>;</span><br><span class="line">    <span class="keyword">float</span> b = <span class="number">6.2</span>;</span><br><span class="line">    a = b;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; a&lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">}</span><br><span class="line"><span class="comment">// 运行输出 6  做了隐式类型转换</span></span><br></pre></td></tr></tbody></table></figure>

<p>在go语言中不能像c++这样不支持 变量间 的隐式类型转换</p>
<p>常量到变量是会进行隐式转换</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> b <span class="keyword">int</span> = <span class="number">5.0</span> <span class="comment">// 5.0常量，b变量</span></span><br><span class="line">fmt.Println(b)  <span class="comment">// 5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// '5.1' (type untyped float) cannot be represented by the type int</span></span><br><span class="line"><span class="keyword">var</span> p <span class="keyword">int</span> = <span class="number">5.1</span> <span class="comment">// constant 5.1 truncated to integer</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">c := <span class="number">5.1</span></span><br><span class="line">fmt.Printf(<span class="string">"%T\n"</span>, c) <span class="comment">// float64</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//var d int = c // cannot use c (type float64) as type int in assignment</span></span><br><span class="line"><span class="comment">// 浮点数 转换为int类型</span></span><br><span class="line"><span class="keyword">var</span> d <span class="keyword">int</span> = <span class="keyword">int</span>(c)</span><br><span class="line">fmt.Println(d) <span class="comment">// 5</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">triangle</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="keyword">var</span> a, b <span class="keyword">int</span> = <span class="number">3</span>, <span class="number">4</span></span><br><span class="line">    fmt.Println(calcTriangle(a, b))</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">calcTriangle</span><span class="params">(a, b <span class="keyword">int</span>)</span> <span class="title">int</span></span> {</span><br><span class="line">    <span class="keyword">var</span> c = <span class="keyword">int</span>(math.Sqrt(<span class="keyword">float64</span>(a*a + b*b)))</span><br><span class="line">    <span class="keyword">return</span> c</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">consts</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="keyword">const</span> (</span><br><span class="line">        filename = <span class="string">"abc.txt"</span></span><br><span class="line">        a, b     = <span class="number">3</span>, <span class="number">4</span> <span class="comment">// 常量不指定类型，既可以做float 也可以做int</span></span><br><span class="line">    )</span><br><span class="line">    <span class="keyword">var</span> c <span class="keyword">int</span></span><br><span class="line">    <span class="comment">// 常量中的数据类型只可以是布尔型、数字型（整数型、浮点型和复数）和字符串型</span></span><br><span class="line">    c = <span class="keyword">int</span>(math.Sqrt(a*a + b*b)) <span class="comment">// ab常量不用类型转换</span></span><br><span class="line">    fmt.Println(filename, c) <span class="comment">// abc.txt 5</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>不是所有数据类型都能转换的，</p>
<p>例如字母格式的string类型<code>"abcd"</code>转换为int肯定会失败</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Cannot convert an expression of the type 'string' to the type 'int</span></span><br><span class="line"><span class="keyword">var</span> e <span class="keyword">int</span> = <span class="keyword">int</span>(<span class="string">"1"</span>) <span class="comment">// cannot convert "1" (type untyped string) to type int</span></span><br></pre></td></tr></tbody></table></figure>

<p>Go允许在底层结构相同的两个类型之间互转</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// IT类型的底层是int类型</span></span><br><span class="line"><span class="keyword">type</span> IT <span class="keyword">int</span></span><br><span class="line"><span class="comment">// a的类型为IT，底层是int</span></span><br><span class="line"><span class="keyword">var</span> a IT = <span class="number">5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 将a(IT)转换为int，b现在是int类型</span></span><br><span class="line">b := <span class="keyword">int</span>(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 将b(int)转换为IT，c现在是IT类型</span></span><br><span class="line">c := IT(b)</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a <span class="keyword">int64</span> = <span class="number">56</span></span><br><span class="line"><span class="comment">//var b int32 = a // cannot use a (type int64) as type int32 in assignment</span></span><br><span class="line"><span class="keyword">var</span> b <span class="keyword">int32</span> = <span class="keyword">int32</span>(a)</span><br><span class="line">fmt.Println(b) <span class="comment">// 56</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">valueOfTypeB = typeB(valueOfTypeA)</span><br></pre></td></tr></tbody></table></figure>

<p>低精度转换为高精度时是安全的，高精度的值转换为低精度时会丢失精度。例如int32转换为int16，float32转换为int<br>这种简单的转换方式不能对int(float)和string进行互转，要跨大类型转换，可以使用strconv包提供的函数</p>
<h3 id="strconv-string-convert"><a href="#strconv-string-convert" class="headerlink" title="strconv  string convert"></a><code>strconv</code>  string convert</h3><p>int转字符串 <code>itoa()</code></p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Itoa is equivalent to FormatInt(int64(i), 10).</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Itoa</span><span class="params">(i <span class="keyword">int</span>)</span> <span class="title">string</span></span> { <span class="comment">// go 认为这个Itoa的函数不可能出错， 没有必要返回error 内部代码出错这个时候应该抛出异常 panic</span></span><br><span class="line">    <span class="keyword">return</span> FormatInt(<span class="keyword">int64</span>(i), <span class="number">10</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fmt.Printf(<span class="string">"%T\n"</span>, strconv.Itoa(<span class="keyword">int</span>(a))) <span class="comment">// string</span></span><br><span class="line"><span class="built_in">println</span>(<span class="string">"a"</span> + strconv.Itoa(<span class="number">32</span>))  <span class="comment">// a32</span></span><br></pre></td></tr></tbody></table></figure>

<p>string字符串转int <code>aoti()</code></p>
<p>由于string可能无法转换为int，所以这个函数有两个返回值：第一个返回值是转换成int的值，第二个返回值判断是否转换成功</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Atoi is equivalent to ParseInt(s, 10, 0), converted to type int.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">Atoi</span><span class="params">(s <span class="keyword">string</span>)</span> <span class="params">(<span class="keyword">int</span>, error)</span></span> { <span class="comment">// Atoi这个函数认为我的函数内部会出现一些预知错误情况</span></span><br><span class="line">    <span class="keyword">const</span> fnAtoi = <span class="string">"Atoi"</span></span><br><span class="line"></span><br><span class="line">    sLen := <span class="built_in">len</span>(s)</span><br><span class="line">    <span class="keyword">if</span> intSize == <span class="number">32</span> &amp;&amp; (<span class="number">0</span> &lt; sLen &amp;&amp; sLen &lt; <span class="number">10</span>) ||</span><br><span class="line">        intSize == <span class="number">64</span> &amp;&amp; (<span class="number">0</span> &lt; sLen &amp;&amp; sLen &lt; <span class="number">19</span>) {</span><br><span class="line">        <span class="comment">// Fast path for small integers that fit int type.</span></span><br><span class="line">        s0 := s</span><br><span class="line">        <span class="keyword">if</span> s[<span class="number">0</span>] == <span class="string">'-'</span> || s[<span class="number">0</span>] == <span class="string">'+'</span> {</span><br><span class="line">            s = s[<span class="number">1</span>:]</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(s) &lt; <span class="number">1</span> {</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>, &amp;NumError{fnAtoi, s0, ErrSyntax}</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line"></span><br><span class="line">        n := <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> _, ch := <span class="keyword">range</span> []<span class="keyword">byte</span>(s) {</span><br><span class="line">            ch -= <span class="string">'0'</span></span><br><span class="line">            <span class="keyword">if</span> ch &gt; <span class="number">9</span> {</span><br><span class="line">                <span class="keyword">return</span> <span class="number">0</span>, &amp;NumError{fnAtoi, s0, ErrSyntax}</span><br><span class="line">            }</span><br><span class="line">            n = n*<span class="number">10</span> + <span class="keyword">int</span>(ch)</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">if</span> s0[<span class="number">0</span>] == <span class="string">'-'</span> {</span><br><span class="line">            n = -n</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">return</span> n, <span class="literal">nil</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Slow path for invalid, big, or underscored integers.</span></span><br><span class="line">    i64, err := ParseInt(s, <span class="number">10</span>, <span class="number">0</span>)</span><br><span class="line">    <span class="keyword">if</span> nerr, ok := err.(*NumError); ok {</span><br><span class="line">        nerr.Func = fnAtoi</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">int</span>(i64), err</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">i,_ := strconv.Atoi(<span class="string">"3"</span>)</span><br><span class="line">fmt.<span class="built_in">println</span>(<span class="number">3</span> + i)   <span class="comment">// 6</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// Atoi()转换失败</span></span><br><span class="line">i,err := strconv.Atoi(<span class="string">"a"</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> {</span><br><span class="line">    fmt.<span class="built_in">println</span>(<span class="string">"converted failed"</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="Parse类函数"><a href="#Parse类函数" class="headerlink" title="Parse类函数"></a>Parse类函数</h3><p>用于转换字符串为给定类型的值</p>
<p><code>ParseBool()</code>、<code>ParseFloat()</code>、<code>ParseInt()</code>、<code>ParseUint()</code>。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">a, err := strconv.ParseBool(<span class="string">"a"</span>)</span><br><span class="line">fmt.Println(a)   <span class="comment">// false</span></span><br><span class="line">fmt.Println(err) <span class="comment">// strconv.ParseBool: parsing "a": invalid syntax</span></span><br><span class="line"></span><br><span class="line">t, err := strconv.ParseBool(<span class="string">"true"</span>)</span><br><span class="line">fmt.Println(t)   <span class="comment">// true</span></span><br><span class="line">fmt.Println(err) <span class="comment">// &lt;nil&gt;</span></span><br><span class="line"></span><br><span class="line">b, err := strconv.ParseBool(<span class="string">"False"</span>) <span class="comment">// 大小写的F或f都可以</span></span><br><span class="line">fmt.Println(b)                       <span class="comment">// false</span></span><br><span class="line">fmt.Println(err)                     <span class="comment">// &lt;nil&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p><code>ParseFloat</code>转换成<code>float64</code></p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">f, err := strconv.ParseFloat(<span class="string">"3.1415"</span>, <span class="number">64</span>)</span><br><span class="line">    f, err := strconv.ParseFloat(<span class="string">"3.1415"</span>, <span class="number">32</span>)</span><br><span class="line">    fmt.Println(err)      <span class="comment">// &lt;nil&gt;</span></span><br><span class="line">    fmt.Println(f)        <span class="comment">// 3.1414999961853027</span></span><br><span class="line">    fmt.Printf(<span class="string">"%T\n"</span>, f) <span class="comment">// float64</span></span><br></pre></td></tr></tbody></table></figure>

<p><code>func ParseInt(s string, base int, bitSize int) (i int64, err error)</code></p>
<p><code>func ParseUint(s string, base int, bitSize int) (uint64, error)</code><br>3个参数：说明：</p>
<p><code>bitSize</code>参数表示转换为什么位的int/uint，有效值为0、8、16、32、64。<br>当bitSize=0的时候，表示转换为int或uint类型。<br>例如bitSize=8表示转换后的值的类型为int8或uint8。</p>
<p><code>base</code>参数表示以什么进制的方式去解析给定的字符串，有效值为0、2-36。<br>当<code>base=0</code>的时候，表示根据string的前缀来判断以什么进制去解析：<code>0x</code>开头的以16进制的方式去解析，<code>0</code>开头的以8进制方式去解析，其它的以10进制方式解析。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">i, err := strconv.ParseInt(<span class="string">"-42"</span>, <span class="number">10</span>, <span class="number">64</span>)</span><br><span class="line">fmt.Println(err)            <span class="comment">// &lt;nil&gt;</span></span><br><span class="line">fmt.Printf(<span class="string">"%T %d\n"</span>, i, i) <span class="comment">// int64 -42</span></span><br><span class="line"></span><br><span class="line">a, err := strconv.ParseInt(<span class="string">"12"</span>, <span class="number">16</span>, <span class="number">64</span>)</span><br><span class="line">fmt.Println(err)            <span class="comment">// &lt;nil&gt;</span></span><br><span class="line">fmt.Printf(<span class="string">"%T %d\n"</span>, a, a) <span class="comment">// int64 18</span></span><br><span class="line"></span><br><span class="line">b, err := strconv.ParseInt(<span class="string">"012"</span>, <span class="number">8</span>, <span class="number">64</span>)</span><br><span class="line">fmt.Println(err)            <span class="comment">// &lt;nil&gt;</span></span><br><span class="line">fmt.Printf(<span class="string">"%T %d\n"</span>, b, b) <span class="comment">// int64 10</span></span><br><span class="line"></span><br><span class="line">c, err := strconv.ParseInt(<span class="string">"0x12"</span>, <span class="number">0</span>, <span class="number">64</span>)</span><br><span class="line">fmt.Println(err)            <span class="comment">// &lt;nil&gt;</span></span><br><span class="line">fmt.Printf(<span class="string">"%T %d\n"</span>, c, c) <span class="comment">// int64 18</span></span><br><span class="line"></span><br><span class="line">i, err := strconv.ParseInt(<span class="string">"012"</span>, <span class="number">0</span>, <span class="number">64</span>)</span><br><span class="line">fmt.Println(err)            <span class="comment">// &lt;nil&gt;</span></span><br><span class="line">fmt.Printf(<span class="string">"%T %d\n"</span>, i, i) <span class="comment">// int64 10</span></span><br><span class="line"></span><br><span class="line">u, err := strconv.ParseUint(<span class="string">"42"</span>, <span class="number">10</span>, <span class="number">64</span>)</span><br></pre></td></tr></tbody></table></figure>

<h3 id="Format类函数"><a href="#Format类函数" class="headerlink" title="Format类函数"></a>Format类函数</h3><p>将给定类型格式化为string类型：FormatBool()、FormatFloat()、FormatInt()、FormatUint()。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// FormatBool returns "true" or "false" according to the value of b.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">FormatBool</span><span class="params">(b <span class="keyword">bool</span>)</span> <span class="title">string</span></span> {</span><br><span class="line">    <span class="keyword">if</span> b {</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"true"</span></span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"false"</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">s := strconv.FormatBool(<span class="literal">true</span>)</span><br><span class="line">fmt.Println(s) <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">s := strconv.FormatFloat(<span class="number">3.1415</span>, <span class="string">'E'</span>, <span class="number">-1</span>, <span class="number">64</span>)</span><br><span class="line">fmt.Println(s) <span class="comment">// 3.1415E+00</span></span><br><span class="line"></span><br><span class="line">s := strconv.FormatInt(<span class="number">-42</span>, <span class="number">16</span>) <span class="comment">// 将-42转换为16进制数</span></span><br><span class="line">fmt.Println(s)                  <span class="comment">// -2a</span></span><br><span class="line">s := strconv.FormatUint(<span class="number">42</span>, <span class="number">10</span>)</span><br><span class="line">fmt.Println(s) <span class="comment">// 42</span></span><br></pre></td></tr></tbody></table></figure>

<p>第二个参数<code>base</code>指定将第一个参数转换为多少进制，有效值为2&lt;=base&lt;=36。<br>当指定的进制位大于10的时候，超出10的数值以a-z字母表示。<br>例如16进制时，10-15的数字分别使用a-f表示，<br>17进制时，10-16的数值分别使用a-g表示。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// The precision prec controls the number of digits (excluding the exponent)</span></span><br><span class="line"><span class="comment">// printed by the 'e', 'E', 'f', 'g', 'G', 'x', and 'X' formats.</span></span><br><span class="line"><span class="comment">// For 'e', 'E', 'f', 'x', and 'X', it is the number of digits after the decimal point.</span></span><br><span class="line"><span class="comment">// For 'g' and 'G' it is the maximum number of significant digits (trailing</span></span><br><span class="line"><span class="comment">// zeros are removed).</span></span><br><span class="line"><span class="comment">// The special precision -1 uses the smallest number of digits</span></span><br><span class="line"><span class="comment">// necessary such that ParseFloat will return f exactly.</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">FormatFloat</span><span class="params">(f <span class="keyword">float64</span>, fmt <span class="keyword">byte</span>, prec, bitSize <span class="keyword">int</span>)</span> <span class="title">string</span></span> {</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">string</span>(genericFtoa(<span class="built_in">make</span>([]<span class="keyword">byte</span>, <span class="number">0</span>, max(prec+<span class="number">4</span>, <span class="number">24</span>)), f, fmt, prec, bitSize))</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p><code>bitSize</code>表示f的来源类型（32：float32、64：float64），会据此进行舍入。</p>
<p><code>fmt</code>表示格式：’f’（-ddd.dddd）、’b’（-ddddp±ddd，指数为二进制）、’e’（-d.dddde±dd，十进制指数）、’E’（-d.ddddE±dd，十进制指数）、’g’（指数很大时用’e’格式，否则’f’格式）、’G’（指数很大时用’E’格式，否则’f’格式）。</p>
<p><code>prec</code>控制精度（排除指数部分）：对’f’、’e’、’E’，它表示小数点后的数字个数；对’g’、’G’，它控制总的数字个数。如果prec 为-1，则代表使用最少数量的、但又必需的数字来表示f</p>
<hr>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">data, err = strconv.Atoi(<span class="string">"12"</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> {</span><br><span class="line">    fmt.Println(<span class="string">"转换出错"</span>)</span><br><span class="line">}</span><br><span class="line">fmt.Println(data) <span class="comment">// 12</span></span><br></pre></td></tr></tbody></table></figure>

<p>两行变一行</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> data <span class="keyword">int</span></span><br><span class="line"><span class="keyword">var</span> err error</span><br><span class="line"><span class="keyword">if</span> data, err = strconv.Atoi(<span class="string">"12"</span>); err != <span class="literal">nil</span> {</span><br><span class="line">    fmt.Println(<span class="string">"转换出错"</span>)</span><br><span class="line">}</span><br><span class="line">fmt.Println(data) <span class="comment">// 12</span></span><br></pre></td></tr></tbody></table></figure>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2021/06/29/go-yun-suan-fu-he-biao-da-shi/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/06/29/go-yun-suan-fu-he-biao-da-shi/" class="post-title-link" itemprop="url">go运算符和表达式</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-06-28 17:46:44" itemprop="dateCreated datePublished" datetime="2021-06-28T17:46:44Z">2021-06-28</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-07-11 08:05:49" itemprop="dateModified" datetime="2021-07-11T08:05:49Z">2021-07-11</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/go/" itemprop="url" rel="index"><span itemprop="name">go</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="算数运算符"><a href="#算数运算符" class="headerlink" title="算数运算符"></a>算数运算符</h3><ul>
<li><ul>
<li><ul>
<li>/ %(求余) ++ –</li>
</ul>
</li>
</ul>
</li>
</ul>
<p><code>a++</code> 等同于 <code>a=a+1</code></p>
<h3 id="关系运算符"><a href="#关系运算符" class="headerlink" title="关系运算符"></a>关系运算符</h3><p>== != &gt; &lt; &gt;= &lt;=</p>
<h3 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h3><p>&amp;&amp;    所谓逻辑与运算符。如果两个操作数都非零，则条件变为真<br>||    所谓的逻辑或操作。如果任何两个操作数是非零，则条件变为真<br>!    所谓逻辑非运算符。使用反转操作数的逻辑状态。如果条件为真，那么逻辑非操后结果为假</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">   <span class="keyword">var</span> a <span class="keyword">bool</span> = <span class="literal">true</span></span><br><span class="line">   <span class="keyword">var</span> b <span class="keyword">bool</span> = <span class="literal">false</span></span><br><span class="line">   <span class="keyword">if</span> ( a &amp;&amp; b ) {</span><br><span class="line">      fmt.Printf(<span class="string">"第一行 - 条件为 true\n"</span> )</span><br><span class="line">   }</span><br><span class="line">   <span class="keyword">if</span> ( a || b ) {</span><br><span class="line">      fmt.Printf(<span class="string">"第二行 - 条件为 true\n"</span> )</span><br><span class="line">   }</span><br><span class="line">   <span class="comment">/* 修改 a 和 b 的值 */</span></span><br><span class="line">   a = <span class="literal">false</span></span><br><span class="line">   b = <span class="literal">true</span></span><br><span class="line">   <span class="keyword">if</span> ( a &amp;&amp; b ) {</span><br><span class="line">      fmt.Printf(<span class="string">"第三行 - 条件为 true\n"</span> )</span><br><span class="line">   } <span class="keyword">else</span> {</span><br><span class="line">      fmt.Printf(<span class="string">"第三行 - 条件为 false\n"</span> )</span><br><span class="line">   }</span><br><span class="line">   <span class="keyword">if</span> ( !(a &amp;&amp; b) ) {</span><br><span class="line">      fmt.Printf(<span class="string">"第四行 - 条件为 true\n"</span> )</span><br><span class="line">   }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>使用括号来临时提升某个表达式的整体运算优先级</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">   <span class="keyword">var</span> a <span class="keyword">int</span> = <span class="number">21</span></span><br><span class="line">   <span class="keyword">var</span> c <span class="keyword">int</span></span><br><span class="line"></span><br><span class="line">   c =  a</span><br><span class="line">   fmt.Printf(<span class="string">"第 1 行 - =  运算符实例，c 值为 = %d\n"</span>, c )</span><br><span class="line"></span><br><span class="line">   c +=  a</span><br><span class="line">   fmt.Printf(<span class="string">"第 2 行 - += 运算符实例，c 值为 = %d\n"</span>, c )</span><br><span class="line"></span><br><span class="line">   c -=  a</span><br><span class="line">   fmt.Printf(<span class="string">"第 3 行 - -= 运算符实例，c 值为 = %d\n"</span>, c )</span><br><span class="line"></span><br><span class="line">   c *=  a</span><br><span class="line">   fmt.Printf(<span class="string">"第 4 行 - *= 运算符实例，c 值为 = %d\n"</span>, c )</span><br><span class="line"></span><br><span class="line">   c /=  a</span><br><span class="line">   fmt.Printf(<span class="string">"第 5 行 - /= 运算符实例，c 值为 = %d\n"</span>, c )</span><br><span class="line"></span><br><span class="line">   c  = <span class="number">200</span>;</span><br><span class="line"></span><br><span class="line">   c &lt;&lt;=  <span class="number">2</span></span><br><span class="line">   fmt.Printf(<span class="string">"第 6行  - &lt;&lt;= 运算符实例，c 值为 = %d\n"</span>, c )</span><br><span class="line"></span><br><span class="line">   c &gt;&gt;=  <span class="number">2</span></span><br><span class="line">   fmt.Printf(<span class="string">"第 7 行 - &gt;&gt;= 运算符实例，c 值为 = %d\n"</span>, c )</span><br><span class="line"></span><br><span class="line">   c &amp;=  <span class="number">2</span></span><br><span class="line">   fmt.Printf(<span class="string">"第 8 行 - &amp;= 运算符实例，c 值为 = %d\n"</span>, c )</span><br><span class="line"></span><br><span class="line">   c ^=  <span class="number">2</span></span><br><span class="line">   fmt.Printf(<span class="string">"第 9 行 - ^= 运算符实例，c 值为 = %d\n"</span>, c )</span><br><span class="line"></span><br><span class="line">   c |=  <span class="number">2</span></span><br><span class="line">   fmt.Printf(<span class="string">"第 10 行 - |= 运算符实例，c 值为 = %d\n"</span>, c )</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>&amp;    返回变量存储地址    &amp;a; 将给出变量的实际地址。</p>
<ul>
<li>   指针变量。    *a; 是一个指针变量</li>
</ul>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">   <span class="keyword">var</span> a <span class="keyword">int</span> = <span class="number">4</span></span><br><span class="line">   <span class="keyword">var</span> b <span class="keyword">int32</span></span><br><span class="line">   <span class="keyword">var</span> c <span class="keyword">float32</span></span><br><span class="line">   <span class="keyword">var</span> ptr *<span class="keyword">int</span></span><br><span class="line"></span><br><span class="line">   <span class="comment">/* 运算符实例 */</span></span><br><span class="line">   fmt.Printf(<span class="string">"第 1 行 - a 变量类型为 = %T\n"</span>, a );</span><br><span class="line">   fmt.Printf(<span class="string">"第 2 行 - b 变量类型为 = %T\n"</span>, b );</span><br><span class="line">   fmt.Printf(<span class="string">"第 3 行 - c 变量类型为 = %T\n"</span>, c );</span><br><span class="line"></span><br><span class="line">   <span class="comment">/*  &amp; 和 * 运算符实例 */</span></span><br><span class="line">   ptr = &amp;a     <span class="comment">/* 'ptr' 包含了 'a' 变量的地址 */</span></span><br><span class="line">   fmt.Printf(<span class="string">"a 的值为  %d\n"</span>, a);</span><br><span class="line">   fmt.Printf(<span class="string">"*ptr 为 %d\n"</span>, *ptr);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/3/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/35/">35</a><a class="extend next" rel="next" href="/page/5/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>

</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">外心人D</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous"></script>
<script src="/js/comments.js"></script><script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  




  





</body>
</html>
