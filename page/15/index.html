<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.0.2">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<meta name="hexo-config" content="{&quot;hostname&quot;:&quot;bubbleboy11.github.io&quot;,&quot;root&quot;:&quot;/&quot;,&quot;images&quot;:&quot;/images&quot;,&quot;scheme&quot;:&quot;Muse&quot;,&quot;version&quot;:&quot;8.3.0&quot;,&quot;exturl&quot;:false,&quot;sidebar&quot;:{&quot;position&quot;:&quot;left&quot;,&quot;display&quot;:&quot;post&quot;,&quot;padding&quot;:18,&quot;offset&quot;:12},&quot;copycode&quot;:true,&quot;bookmark&quot;:{&quot;enable&quot;:false,&quot;color&quot;:&quot;#222&quot;,&quot;save&quot;:&quot;auto&quot;},&quot;fancybox&quot;:false,&quot;mediumzoom&quot;:false,&quot;lazyload&quot;:false,&quot;pangu&quot;:false,&quot;comments&quot;:{&quot;style&quot;:&quot;tabs&quot;,&quot;active&quot;:null,&quot;storage&quot;:true,&quot;lazyload&quot;:false,&quot;nav&quot;:null},&quot;motion&quot;:{&quot;enable&quot;:true,&quot;async&quot;:false,&quot;transition&quot;:{&quot;post_block&quot;:&quot;fadeIn&quot;,&quot;post_header&quot;:&quot;fadeInDown&quot;,&quot;post_body&quot;:&quot;fadeInDown&quot;,&quot;coll_header&quot;:&quot;fadeInLeft&quot;,&quot;sidebar&quot;:&quot;fadeInUp&quot;}},&quot;prism&quot;:false,&quot;i18n&quot;:{&quot;placeholder&quot;:&quot;搜索...&quot;,&quot;empty&quot;:&quot;没有找到任何搜索结果：${query}&quot;,&quot;hits_time&quot;:&quot;找到 ${hits} 个搜索结果（用时 ${time} 毫秒）&quot;,&quot;hits&quot;:&quot;找到 ${hits} 个搜索结果&quot;}}">
<meta name="description" content="本博客大多内容为慕课和网上博客，并非原创">
<meta property="og:type" content="website">
<meta property="og:title" content="外心人D的博客">
<meta property="og:url" content="https://bubbleboy11.github.io/page/15/index.html">
<meta property="og:site_name" content="外心人D的博客">
<meta property="og:description" content="本博客大多内容为慕课和网上博客，并非原创">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="外心人D">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://bubbleboy11.github.io/page/15/">



<meta name="hexo-config-page" content="{&quot;sidebar&quot;:&quot;&quot;,&quot;isHome&quot;:true,&quot;isPost&quot;:false,&quot;lang&quot;:&quot;zh-CN&quot;}">
<meta name="hexo-config-calendar" content="">
<script data-pjax src="/js/load-config.js"></script>
  <title>外心人D的博客</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="外心人D的博客" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism.css" type="text/css"></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">外心人D的博客</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">外心人D</p>
  <div class="site-description" itemprop="description">本博客大多内容为慕课和网上博客，并非原创</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">165</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">17</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">25</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/jin-zhi/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/jin-zhi/" class="post-title-link" itemprop="url">进制</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-04-02 12:24:46" itemprop="dateModified" datetime="2021-04-02T12:24:46Z">2021-04-02</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>python整数类型为Unifying Long Integers，无限长整数类型，<br>没有 32 / 64 位 int long 等不同长度等概念，但肯定是大于 32 位</p>
<p>八进制：包括0-7的数字</p>
<p>十六进制表示：包括0-9的数字，及字母a-f，A-F，a表示10</p>
<p>Python 中浮点数的运算存在误差<br>计算机底层运算的时候操作的是二进制，<br>当带小数点的十进制转换成二进制的时候可能存在小数部分乘不尽的情况</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="number">1.2</span> - <span class="number">1.0</span>)  <span class="comment"># 0.19999999999999996</span></span><br><span class="line">print(<span class="number">0.1</span> + <span class="number">0.2</span>)  <span class="comment"># 0.30000000000000004</span></span><br><span class="line">print(<span class="number">0.1</span> + <span class="number">2</span>)  <span class="comment"># 2.1</span></span><br><span class="line">print(<span class="number">0.1</span> * <span class="number">2</span>)  <span class="comment"># 0.2</span></span><br><span class="line"></span><br><span class="line">print(<span class="number">1.2</span> - <span class="number">1.0</span> == <span class="number">0.2</span>)  <span class="comment"># False</span></span><br><span class="line">print(type(<span class="number">2</span> / <span class="number">2</span>))  <span class="comment"># &lt;class 'float'&gt;</span></span><br><span class="line"></span><br><span class="line">print(float(<span class="number">1</span>))   <span class="comment"># 1.0</span></span><br></pre></td></tr></tbody></table></figure>

<p>python中<code>0b</code>(数字0和小写字母B前缀)代表二进制数字</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="number">0b101</span>)  <span class="comment"># 5  </span></span><br><span class="line">print(<span class="number">0b11</span>)  <span class="comment"># 3  </span></span><br></pre></td></tr></tbody></table></figure>

<p>java中以<code>0</code>开头代表八进制数字，如：037，056<br>python中<code>0o</code>(数字0和小写字母O前缀)代表八进制数字，</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="number">0o11</span>)  <span class="comment"># 9  </span></span><br><span class="line">print(<span class="number">0o110</span>)  <span class="comment"># 72  </span></span><br></pre></td></tr></tbody></table></figure>

<p>java中以<code>0x</code>或<code>0X</code>开头代表十六进制数字，如：0x12，0xabcf，0XABCF<br>python中<code>0x</code>(数字0和小写字母X前缀)代表十六进制数字</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="number">0x101</span>)  <span class="comment"># 257   </span></span><br><span class="line">print(<span class="number">0x1F</span>)  <span class="comment"># 31</span></span><br><span class="line">print(<span class="number">0x1f</span>)  <span class="comment"># 31</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight plain"><figcaption><span>代表不同类型数据转换为10进制数字</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">```oct()```  代表不同类型数据转换为8进制数字</span><br><span class="line"></span><br><span class="line">```hex(x)```，将不同类型进制整数转换为以“0x”为前缀的小写十六进制数的字符串。如果 x 不是 Python int 对象，则必须定义返回整数的 __index__() 方法。</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line">print(hex(1))  # 0x1 补码</span><br><span class="line">print(hex(-1))  # -0x1 负号 + 原码 （Python 特色，Java 会直接输出补码）</span><br><span class="line"></span><br><span class="line">print(hex(3), type(hex(3)))  # 0x3 &lt;class 'str'&gt;</span><br><span class="line">print(hex(0b11))  # 0x3  将2进制数字转换为2=16进制</span><br></pre></td></tr></tbody></table></figure>

<p>如果要将整数转换为大写或小写的十六进制字符串，并可选择有无“0x”前缀，则可以使用如下方法：</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">'%#x'</span> % <span class="number">3</span>, <span class="string">'%x'</span> % <span class="number">3</span>, <span class="string">'%X'</span> % <span class="number">3</span>, )</span><br><span class="line"><span class="comment"># 0x3 3 3</span></span><br><span class="line"></span><br><span class="line">print(format(<span class="number">3</span>, <span class="string">'#x'</span>), format(<span class="number">3</span>, <span class="string">'x'</span>), format(<span class="number">3</span>, <span class="string">'X'</span>))</span><br><span class="line"><span class="comment"># 0x3 3 3</span></span><br><span class="line">print(f'{3:#x}', f'{3:x}', f'{3:X}')</span><br><span class="line"><span class="comment"># 0x3 3 3</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">'%#x'</span> % <span class="number">-3</span>, <span class="string">'%x'</span> % <span class="number">-3</span>, <span class="string">'%X'</span> % <span class="number">-3</span>, )</span><br><span class="line"><span class="comment"># -0x3 -3 -3</span></span><br><span class="line"></span><br><span class="line">print(format(<span class="number">-3</span>, <span class="string">'#x'</span>), format(<span class="number">-3</span>, <span class="string">'x'</span>), format(<span class="number">-3</span>, <span class="string">'X'</span>))</span><br><span class="line"><span class="comment"># -0x3 -3 -3</span></span><br><span class="line">print(f'{-3:#x}', f'{-3:x}', f'{-3:X}')</span><br><span class="line"><span class="comment"># -0x3 -3 -3</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight plain"><figcaption><span>将一个不同类型进制整数转变为一个前缀为“0b”的二进制数的字符串。结果是一个合法的 Python 表达式。</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">如果 x 不是 Python 的 ```int``` 对象，那它需要定义 ```__index__()``` 方法返回一个整数。</span><br><span class="line">bin一个正数（十进制表示），输出的是它的原码的二进制表示</span><br><span class="line">bin一个负数（十进制表示），输出的是它的原码的二进制表示加上个负号，而不是补码的形式。</span><br><span class="line">```python</span><br><span class="line">print(bin(3), type(bin(3)))  # 0b11 &lt;class 'str'&gt;</span><br><span class="line">print(bin(-3))  # -0b11</span><br></pre></td></tr></tbody></table></figure>

<p>对数值进行与操作就获得补码形式的二进制表示 </p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">print(bin(<span class="number">-3</span> &amp; <span class="number">0b111</span>))  </span><br><span class="line"><span class="comment"># 0b101</span></span><br><span class="line">print(bin(<span class="number">-3</span> &amp; <span class="number">0b1111111111111111</span>))</span><br><span class="line"><span class="comment"># 0b1111111111111101</span></span><br><span class="line">---</span><br><span class="line">title: HTML</span><br><span class="line">date: <span class="number">2020</span><span class="number">-08</span><span class="number">-20</span> <span class="number">16</span>:<span class="number">21</span>:<span class="number">41</span></span><br><span class="line">author: 外心人D</span><br><span class="line">toc: true</span><br><span class="line">mathjax: false</span><br><span class="line">summary: 爱编程</span><br><span class="line">categories: Markdown</span><br><span class="line">tags:</span><br><span class="line">  - Leetcode</span><br><span class="line">  - 剑指offer</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">```py</span><br><span class="line">print(bin(<span class="number">-5</span>))</span><br><span class="line"><span class="comment"># -0b101</span></span><br><span class="line"></span><br><span class="line">print(bin(<span class="number">-5</span> &amp; <span class="number">0b1111</span>))  </span><br><span class="line"><span class="comment"># 0b1011</span></span><br><span class="line"></span><br><span class="line">print(bin(<span class="number">-5</span> &amp; <span class="number">0b11111</span>))  </span><br><span class="line"><span class="comment"># 0b11011</span></span><br><span class="line"></span><br><span class="line">print(bin(<span class="number">-5</span> &amp; <span class="number">0b1111111111111111</span>))</span><br><span class="line"><span class="comment"># 0b1111111111111011</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># bin一个负数（十六进制表示），输出的是对应的二进制表示。</span></span><br><span class="line">print(bin(<span class="number">-3</span> &amp; <span class="number">0xffffffff</span>))</span><br><span class="line"><span class="comment"># 0b11111111111111111111111111111101</span></span><br><span class="line">print(bin(<span class="number">0xfffffffd</span>))</span><br><span class="line"><span class="comment"># 0b11111111111111111111111111111101</span></span><br><span class="line"></span><br><span class="line">print(bin(<span class="number">0o7</span>))  <span class="comment"># 0b111 将8进制数字转换为2进制</span></span><br><span class="line">print(bin(<span class="number">0xE</span>))  <span class="comment"># 0b1110 将16进制数字转换为2进制</span></span><br></pre></td></tr></tbody></table></figure>

<p>If prefix “0b” is desired or not, you can use either of the following ways.<br>如果不一定需要前缀“0b”，还可以使用如下的方法。<br>用format字符串获取一个int的binary表示：</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">```f"{a:030b}"```：将a转换成binary的str，并在前面补0使其总位数是30。</span><br><span class="line"></span><br><span class="line">```py</span><br><span class="line">format(14, '#b'), format(14, 'b')</span><br><span class="line"># ('0b1110', '1110')</span><br><span class="line">f'{14:#b}', f'{14:b}'</span><br><span class="line"># ('0b1110', '1110')</span><br></pre></td></tr></tbody></table></figure>

<p>4bit有符号整型， 其数值范围为[-8， 7]<br>-2 + 3 可以通过补码计算 1110 + 0011 =(1) 0001</p>
<figure class="highlight angelscript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">    <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span></span><br><span class="line">+   <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span></span><br><span class="line">-----------</span><br><span class="line">(<span class="number">1</span>) <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> # 注意溢出</span><br></pre></td></tr></tbody></table></figure>

<p>python 由于不知道符号位具体是第几位，因此需要进行的操作是</p>
<ol>
<li>将输入数字转化成无符号整数</li>
<li>计算无符号整数相加并的到结果</li>
<li>讲结果根据范围判定，映射为有符号整型</li>
</ol>
<p>转化为4bit无符号整数</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a &amp;= <span class="number">0xF</span> <span class="comment"># a = a &amp; 0b1111 = 1110 = 14</span></span><br><span class="line">b &amp;= <span class="number">0xF</span> <span class="comment"># b = 0011 = 3</span></span><br></pre></td></tr></tbody></table></figure>

<p>原码：直接将一个数值转化为二进制，其首位代表符号，<code>0</code> 为正， <code>1</code> 为负<br>正数：原码 = 反码 = 补码<br>负数反码：原码最高位符号位不变，其余为取反<br>负数补码：负数反码+1，即 符号位不变，各位取反再加 1</p>
<h4 id="补码特性："><a href="#补码特性：" class="headerlink" title="补码特性："></a>补码特性：</h4><p>1、一个负整数（或原码）与其补数（或补码）相加，和为模。<br>2、对一个整数的补码再求补码，等于该整数自身。<br>3、补码的正零与负零表示方法相同</p>
<ul>
<li>Python 负数的存储：<ul>
<li>获取负数的补码：<br>将整数与 0xffffffff 相与，<br>可理解为该数从 32 位开始到最高位全部置零，最高位为0为正数<br>从无限长度变为一个 32 位内二进制可以表示的正整数<br>一直循环左移并不会存在溢出的现象，模拟其他语言的32位溢出机制。<br>一个负整数（或原码）与其补数（或补码）相加，和为模。2 的32 次方 是模。<br>那么就是 2 的32 次方 然后 + n  这是在取一个负数的补码<br>就相当于  n &amp; 0xffffffff<br>高位第一位的数字取决于此数字是正数还是负数，是正数则为 0 ，是负数则为 1</li>
</ul>
</li>
</ul>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(hex(<span class="number">1</span> &amp; <span class="number">0xffffffff</span>))  <span class="comment"># 0x1 正数补码</span></span><br><span class="line">print(hex(<span class="number">-1</span> &amp; <span class="number">0xffffffff</span>))  <span class="comment"># 0xffffffff 负数补码</span></span><br><span class="line">print(<span class="number">-1</span> &amp; <span class="number">0xffffffff</span>)  <span class="comment"># 4294967295（Python 将其认为正数）</span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>返回前数字还原 补码转原码：<br>若补码 a 为负数（第 32位是 1），<br>a ^ 0xffffffff 运算将 1 至 32 位按位取反；<br>~ 运算是将所有位的数字会取反；<br>因此， ~(a ^ 0xffffffff) 是将低的 1 至 32 位不变。<br>32 位以上的位取反，即 32位以上所有位全部置 1了，<br>对于32位的数字来说最高位是1则说明此数为负数<br>把这个负数补码恢复到 超过32位的 python 存储负数的形式，</li>
</ul>
<p>如果不对负数特殊处理，那么负数的前32位里的最高位还可能存在 0，最后输出的是大于32位的正数</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/di-gui/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/di-gui/" class="post-title-link" itemprop="url">HTML</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-04-02 12:24:45" itemprop="dateModified" datetime="2021-04-02T12:24:45Z">2021-04-02</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Markdown/" itemprop="url" rel="index"><span itemprop="name">Markdown</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>“””<br>在递归过程中，，函数可能会有多个位置将自身作为子例程调用<br>每当递归函数调用自身时，它都会将给定的问题拆解为子问题。<br>递归调用继续进行，直到到子问题无需进一步递归就可以解决的地步。</p>
<p>为了确保递归函数不会导致无限循环，它应具有以下属性：</p>
<ul>
<li>一个简单的基本案例（basic case）（一般情况），<br>能够不使用递归来产生答案的终止方案，必须要有终止条件，</li>
<li>一组规则，也称作递推关系（recurrence relation），可将所有其他情况拆分到基本案例。<br>不断调用自身，直到遇到终止条件后进行回溯，最终返回答案。</li>
</ul>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func1</span>(<span class="params">x</span>):</span></span><br><span class="line">    print(x)</span><br><span class="line">    func1(x - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func2</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">if</span> x &gt; <span class="number">0</span>:</span><br><span class="line">        print(x)</span><br><span class="line">        func2(x + <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func3</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">if</span> x &gt; <span class="number">0</span>:</span><br><span class="line">        print(x)</span><br><span class="line">        func3(x - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func4</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">if</span> x &gt; <span class="number">0</span>:</span><br><span class="line">        func4(x - <span class="number">1</span>)</span><br><span class="line">        print(x)</span><br></pre></td></tr></tbody></table></figure>
<p>func3和func4是递归，x为正整数，func3会连续输出x到1，func4会输出1 到x</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">printReverse</span>(<span class="params">str</span>):</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> str:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    printReverse(str+<span class="number">1</span>)</span><br><span class="line">    print()</span><br></pre></td></tr></tbody></table></figure>

<p>高斯求和</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 循环</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_number</span>(<span class="params">n</span>):</span></span><br><span class="line">    total = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n + <span class="number">1</span>):</span><br><span class="line">        total += i</span><br><span class="line">    <span class="keyword">return</span> total</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(sum_number(<span class="number">10</span>))  <span class="comment"># 5</span></span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 递归</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_number</span>(<span class="params">n</span>):</span></span><br><span class="line">    <span class="keyword">if</span> n &lt;= <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">return</span> n + sum_number(n - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(sum_number(<span class="number">10</span>))  <span class="comment"># 55</span></span><br></pre></td></tr></tbody></table></figure>

<p>基本情况：sum_number(0) = 0<br>其它情形: sum_number(n) = n + sum_number</p>
<p>sum_number(n-1)又是一次sum_number函数的调用，<br>不过参数的值变成了n-1，<br>要得sum_number(n)到的值就必须等待sum_number(n-1)的值被计算出来，<br>同样要得到sum_number(n-1)的值必须等待sum_number(n-2)的值，<br>如此一路推算下去，直到sum_number(0)，<br>因为if语句的存在，它不需要等待sum_number(-1)的计算了，而是直接给出结果0。<br>参数值由 10 9 8 7 6 5 4 3 2 1 0<br>sun_number(1)=1+sun_number(0)=1<br>sun_number(2)=2+sun_number(1)=2+1+sun_number(0)=2+1+0=3<br>sun_number(3)=3+sun_number(2)=3+3=6<br>….<br>然后程序一路返回，直到回到最初的sum_number(n)，并给出最终结果。<br>“””</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 求阶乘</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">F</span>(<span class="params">n</span>):</span></span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">0</span> <span class="keyword">or</span> n == <span class="number">1</span>:</span><br><span class="line">        <span class="comment"># 对应基本情形</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> F(n - <span class="number">1</span>) * n  <span class="comment"># 对应递归情形</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(F(<span class="number">4</span>))  <span class="comment"># 24</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string"> F(0) = 1, F(1) = 1</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">其它情形: F(n) = F(n-1) * n</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算s=a+aa+aaa+aaaa+aa...a，其中 a是一个数字。</span></span><br><span class="line"><span class="comment"># 例如2+22+222+2222+22222(此时共有5个数相加)，几个数相加由键盘控制。</span></span><br><span class="line"><span class="comment"># 其中，a 以及 n 由用户输入，但是我们在这里就直接给定了。</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sss</span>(<span class="params">a, n</span>):</span></span><br><span class="line">    <span class="comment"># 这里我说明一下，直接用input函数得到的就是字符串，除非你已经做了转换</span></span><br><span class="line">    <span class="comment"># 所以,我们设定a、n都是字符串</span></span><br><span class="line">    n = int(n)  <span class="comment"># 转换</span></span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> int(a)</span><br><span class="line">    <span class="keyword">return</span> sss(a, n - <span class="number">1</span>) + int(a * n)  <span class="comment"># 请思考这里a*n</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">"""基本情形：sss(a, 1) = a</span></span><br><span class="line"><span class="string">sss(a, 2) = a+aa=sss(a, 1)+aa</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">其它情形:</span></span><br><span class="line"><span class="string">sss(a, n) = sss(a, n-1) + a...a(共n项)""</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line">print(sss(<span class="string">'2'</span>, <span class="string">'1'</span>))  <span class="comment"># 2</span></span><br><span class="line">print(sss(<span class="string">'2'</span>, <span class="string">'2'</span>))  <span class="comment"># 24</span></span><br><span class="line">print(<span class="string">'-----'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line"></span><br><span class="line">n = int(input(<span class="string">"请输入层数n："</span>))  <span class="comment"># &lt;class 'int'&gt;</span></span><br><span class="line">a = int(input(<span class="string">"请输入数字a："</span>))  <span class="comment"># &lt;class 'int'&gt;</span></span><br><span class="line"></span><br><span class="line">Tn = <span class="number">0</span>  <span class="comment"># 初始化数字叠加后的值</span></span><br><span class="line">Sn = []  <span class="comment"># 创建一个空列表，以便接收叠加后的数值</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(n):  <span class="comment"># 此处的循环表示，n为几，i就循环几次，</span></span><br><span class="line">    <span class="comment"># 也就是，层数为几，下面的循环体就执行几次</span></span><br><span class="line">    Tn = Tn + a  <span class="comment"># 将循环的值赋值给Tn</span></span><br><span class="line">    <span class="comment"># print("数字叠加后值为：", Tn)  # 打印出数字叠加后的值</span></span><br><span class="line">    Sn.append(Tn)  <span class="comment"># 将数字叠加后的值依次添加到Sn这个空的列表中</span></span><br><span class="line">    <span class="comment"># print("创建的数列为：", Sn)  # 打印出列表Sn中的所有值</span></span><br><span class="line">    a = a * <span class="number">10</span>  <span class="comment"># 为下一个数做循环准备</span></span><br><span class="line">print(<span class="string">"创建的数列为："</span>, Sn)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 法一</span></span><br><span class="line"><span class="comment"># sum_ = reduce(lambda x, y: x + y, Sn)  # 计算Sn的值</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 法二</span></span><br><span class="line">sum_ = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> Sn:</span><br><span class="line">    sum_ += i</span><br><span class="line">print(<span class="string">"计算的和为："</span>, sum_)  <span class="comment"># 打印出Sn的值</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a = input(<span class="string">"a:"</span>)  <span class="comment"># &lt;class 'str'&gt;</span></span><br><span class="line">n = int(input(<span class="string">"n:"</span>))  <span class="comment"># &lt;class 'int'&gt;</span></span><br><span class="line">ls = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n + <span class="number">1</span>):</span><br><span class="line">    ls.append(i * a)  <span class="comment"># 字符串乘一个数</span></span><br><span class="line">sum = <span class="number">0</span></span><br><span class="line">print(ls)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> ls:</span><br><span class="line">    sum += eval(i)  <span class="comment"># 字符串表达式</span></span><br><span class="line">print(sum)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getNum</span>(<span class="params">a, count</span>):</span></span><br><span class="line">    list1 = []</span><br><span class="line">    res = <span class="number">0</span></span><br><span class="line">    a = str(a)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, count + <span class="number">1</span>):</span><br><span class="line">        list1.append(int(a * i))</span><br><span class="line">        print(list1[i - <span class="number">1</span>], end=<span class="string">" "</span>)</span><br><span class="line">        <span class="keyword">if</span> i &lt; count:</span><br><span class="line">            print(<span class="string">"+"</span>, end=<span class="string">" "</span>)</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> list1:</span><br><span class="line">        res += j</span><br><span class="line">    print(<span class="string">"="</span>, res)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">getNum(<span class="number">2</span>, <span class="number">2</span>)  <span class="comment"># 2 + 22 = 24</span></span><br></pre></td></tr></tbody></table></figure>

<p>判断用户输入的数组的逆序数。<br>定义：OP(seq, n)为序列seq中前n项的逆序数</p>
<p>基本情形:<br>OP(seq[1…n], 1) = 0，对于只有一个元素的集合，逆序数必然只有0<br>其它情形:<br>OP(seq[1…n], n) = OP(seq[1…n, n-1] + F(n)，其中，F(n)是n关于seq[1…n-1]的逆序数.</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">OP</span>(<span class="params">seq, n</span>):</span></span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="comment"># 不为0</span></span><br><span class="line">    Fn = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, n - <span class="number">1</span>):</span><br><span class="line">        <span class="keyword">if</span> seq[n - <span class="number">1</span>] &lt; seq[i]:</span><br><span class="line">            Fn += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> OP(seq, n - <span class="number">1</span>) + Fn</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">s = [<span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line">print(OP(s, len(s)))  <span class="comment"># 10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># n=5 n-1-1=3</span></span><br><span class="line"><span class="comment"># 当i=0,seq[4]=1&lt;seq[0]=5</span></span><br><span class="line"><span class="comment"># 当i=1,seq[4]=1&lt;seq[1]=4</span></span><br><span class="line"><span class="comment"># 当i=2,seq[4]=1&lt;seq[2]=3</span></span><br><span class="line"><span class="comment"># 当i=3,seq[4]=1&lt;seq[3]=2</span></span><br></pre></td></tr></tbody></table></figure>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/luo-ji-yun-suan-fu/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/luo-ji-yun-suan-fu/" class="post-title-link" itemprop="url">HTML</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-04-02 12:24:46" itemprop="dateModified" datetime="2021-04-02T12:24:46Z">2021-04-02</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Markdown/" itemprop="url" rel="index"><span itemprop="name">Markdown</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>逻辑运算优先 not&gt;and&gt;or<br>0被认为是False，非0表示True</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">10</span></span><br><span class="line">b = <span class="number">20</span></span><br><span class="line"><span class="comment"># 布尔"与" x and y</span></span><br><span class="line"><span class="comment"># 如果 x 为 False，返回 False，</span></span><br><span class="line"><span class="comment"># x 为 True， 返回 y 的计算值。</span></span><br><span class="line"><span class="comment"># 同真取最后一个真，有假取第一个假。</span></span><br><span class="line"><span class="keyword">if</span> (a <span class="keyword">and</span> b):  <span class="comment"># (a and b) 返回 20</span></span><br><span class="line">    print(<span class="string">"1.变量 a 和 b 都为 true"</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">"1.变量 a 和 b 有一个不为 true"</span>)</span><br><span class="line"><span class="comment"># 1.变量 a 和 b 都为 true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 布尔"或"     x or y</span></span><br><span class="line"><span class="comment"># 如果x是True，它返回x的值，</span></span><br><span class="line"><span class="comment"># x 为False，它返回y的计算值</span></span><br><span class="line"><span class="comment"># 同假取最后一个假，有真取第一个真。</span></span><br><span class="line"><span class="keyword">if</span> (a <span class="keyword">or</span> b):  <span class="comment"># (a or b) 返回 10</span></span><br><span class="line">    print(<span class="string">"2.变量 a 和 b 都为 true，或其中一个变量为 true"</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">"2.变量 a 和 b 都不为 true"</span>)</span><br><span class="line"><span class="comment"># 2.变量 a 和 b 都为 true，或其中一个变量为 true</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">'a'</span> &gt; <span class="string">'b'</span>)</span><br><span class="line"><span class="comment"># False 'a' 的 ASCII 码比 ‘b’ 小</span></span><br><span class="line">print(<span class="string">'a'</span> &gt; <span class="string">'b'</span> <span class="keyword">or</span> <span class="string">'c'</span>)  <span class="comment"># c</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改变量 a 的值</span></span><br><span class="line">a = <span class="number">0</span></span><br><span class="line"><span class="keyword">if</span> (a <span class="keyword">and</span> b):</span><br><span class="line">    print(<span class="string">"3.变量 a 和 b 都为 true"</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">"3.变量 a 和 b 有一个不为 true"</span>)</span><br><span class="line"><span class="comment"># 3.变量 a 和 b 有一个不为 true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (a <span class="keyword">or</span> b):</span><br><span class="line">    print(<span class="string">"4.变量 a 和 b 都为 true，或其中一个变量为 true"</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">"4.变量 a 和 b 都不为 true"</span>)</span><br><span class="line"><span class="comment"># 4.变量 a 和 b 都为 true，或其中一个变量为 true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 布尔"非" not x ，取反</span></span><br><span class="line"><span class="comment"># 如果 x 为 True，返回 False 。</span></span><br><span class="line"><span class="comment"># 如果 x 为 False，返回 True。</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> (a <span class="keyword">and</span> b):</span><br><span class="line">    print(<span class="string">"5.变量 a 和 b 都为 false，或其中一个变量为 false"</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">"5.变量 a 和 b 都为 true"</span>)</span><br><span class="line"><span class="comment"># 5.变量 a 和 b 都为 false，或其中一个变量为 false</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">x = <span class="literal">True</span></span><br><span class="line">y = <span class="literal">False</span></span><br><span class="line">z = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> x <span class="keyword">or</span> y <span class="keyword">and</span> z:</span><br><span class="line">    print(<span class="string">"yes"</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">"no"</span>)</span><br><span class="line"><span class="comment"># yes</span></span><br><span class="line">print(<span class="string">'----'</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="keyword">not</span> <span class="number">0.1</span>)  <span class="comment"># False</span></span><br><span class="line">print(<span class="keyword">not</span> <span class="string">''</span>)  <span class="comment"># True</span></span><br><span class="line">print(<span class="keyword">not</span> <span class="string">'0'</span>)  <span class="comment"># False</span></span><br><span class="line">print(<span class="keyword">not</span> [])  <span class="comment"># True</span></span><br><span class="line">print(<span class="keyword">not</span> [<span class="number">1</span>, <span class="number">2</span>])  <span class="comment"># False</span></span><br><span class="line">print(bool(<span class="literal">None</span>))  <span class="comment"># False</span></span><br><span class="line"></span><br><span class="line">x = <span class="literal">True</span></span><br><span class="line">y = <span class="literal">False</span></span><br><span class="line">z = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> x <span class="keyword">or</span> y:</span><br><span class="line">    print(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">elif</span> <span class="keyword">not</span> x <span class="keyword">or</span> <span class="keyword">not</span> y <span class="keyword">and</span> z:</span><br><span class="line">    print(<span class="number">2</span>)</span><br><span class="line"><span class="keyword">elif</span> <span class="keyword">not</span> x <span class="keyword">or</span> y <span class="keyword">or</span> <span class="keyword">not</span> y <span class="keyword">and</span> x:</span><br><span class="line">    print(<span class="number">3</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="number">4</span>)</span><br><span class="line"><span class="comment"># not x or y or not y and x就可以这么理解</span></span><br><span class="line"><span class="comment"># 假 or 假 or 真 and 真</span></span><br><span class="line"><span class="comment"># 假 or 假 or 真</span></span><br><span class="line"><span class="comment"># 假 or 真</span></span><br><span class="line"><span class="comment"># 真</span></span><br></pre></td></tr></tbody></table></figure><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/bi-bao/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/bi-bao/" class="post-title-link" itemprop="url">闭包</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-04-02 12:24:46" itemprop="dateModified" datetime="2021-04-02T12:24:46Z">2021-04-02</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Markdown/" itemprop="url" rel="index"><span itemprop="name">Markdown</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="闭包-Closure-‘kləʊʒə"><a href="#闭包-Closure-‘kləʊʒə" class="headerlink" title="闭包 Closure /‘kləʊʒə/"></a>闭包 Closure /‘kləʊʒə/</h3><ul>
<li>绑定了外部作用域的变量的函数</li>
<li>即使程序离开外部作用域，如果闭包仍然可见，绑定变量不会销毁</li>
<li>每次运行外部函数都会重新创建闭包</li>
<li>自由变量：不在当前函数定义的变量。</li>
<li>外函数outer中定义了内函数inner，<br>内部函数inner引用外部函数outer的自由变量，<br>当外部函数outer返回内部函数名inner时，即外函数的返回值是内函数的引用，<br>相关参数和变量都保存在返回的函数中<br>这样就构成了一个闭包。即使外部函数结束了，但只要内部函数还在引用外部函数的变量，外部变量它就依然存在。</li>
</ul>
<h4 id="外函数返回了内函数的引用："><a href="#外函数返回了内函数的引用：" class="headerlink" title="外函数返回了内函数的引用："></a>外函数返回了内函数的引用：</h4><p>当进行a=1的时候，实际上在内存当中有一个地方存了值1，<br>然后用a这个变量名存了1所在内存位置的引用。<br>引用就好像c语言里的指针，可以把引用理解成地址。<br>a只不过是一个变量名字，a里面存的是1这个数值所在的地址，就是a里面存了数值1的引用。</p>
<p>相同的道理，在python中定义一个函数def demo():的时候，<br>内存当中会开辟一些空间，存下这个函数的代码、内部的局部变量等等。<br>这个demo只不过是一个变量名字，它里面存了这个函数所在位置的引用而已。<br>我们还可以进行x = demo， y = demo， 这样的操作就相当于，<br>把demo里存的东西赋值给x和y，这样x 和y 都指向了demo函数所在的引用，<br>在这之后我们可以用x() 或者 y() 来调用我们自己创建的demo() ，<br>调用的实际上根本就是一个函数，x、y和demo三个变量名存了同一个函数的引用。</p>
<p>对于闭包，在外函数outer中 最后return inner，<br>我们在调用外函数 demo = outer() 的时候，<br>outer返回了inner，inner是一个函数的引用，这个引用被存入了demo中。<br>所以接下来我们再进行demo() 的时候，相当于运行了inner函数。<br>一个函数，如果函数名后紧跟一对括号，相当于现在我就要调用这个函数，<br>如果不跟括号，相当于只是一个函数的名字，里面存了函数所在位置的引用，那它可以被到处传递，并且可以赋值给别的变量而不去执行它。</p>
<p>2 外函数把临时变量绑定给内函数：<br>一般情况下，如果一个函数结束，函数的内部所有东西都会释放掉，<br>还给内存，临时局部变量都会消失。<br>如果没有在函数中引用全局变量，或者仅引用局部变量，<br>在内函数给局部变量赋值python认为是一个局部变量，不能引用外部函数的环境变量，<br>都不会形成闭包</p>
<p>但是闭包是一种特殊情况，发现有自己的临时变量将来会在内部函数中用到，<br>自己在结束的时候，返回内函数的同时，会把外函数的临时变量绑定给了内部函数，<br>所以外函数已经结束了，调用内函数的时候仍然能够使用外函数的临时变量。</p>
<p>python中一切都是对象，虽然函数我们只定义了一次，<br>但是外函数在运行的时候，<br>实际上是按照里面代码执行的，<br>外函数里创建了一个函数，每次调用外函数，<br>它都创建一个代码、功能一样的内函数，<br>但是却创建了不同的对象，并且把每次传入的临时变量数值绑定给内函数，再把内函数引用返回。</p>
<p>特性：自由变量会和闭包函数同时存在，即闭包函数和外部变量会同时存在。</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">outer</span>(<span class="params">a</span>):</span></span><br><span class="line">    <span class="comment"># a和b都是外函数的临时变量</span></span><br><span class="line">    b = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span>():</span></span><br><span class="line">        print(a + b)  <span class="comment"># 在内函数中 用到了外函数的临时变量</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> inner  <span class="comment"># 外函数的返回值是内函数的引用和环境变量</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">        调用外函数传入参数5</span></span><br><span class="line"><span class="string">        此时外函数两个临时变量 a是5 b是10 ，</span></span><br><span class="line"><span class="string">        并创建了内函数，然后把内函数的引用返回存给了demo</span></span><br><span class="line"><span class="string">        外函数结束的时候发现内部函数将会用到自己的临时变量，</span></span><br><span class="line"><span class="string">        这两个临时变量就不会释放，会绑定给这个内部函数</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    demo = outer(<span class="number">5</span>)</span><br><span class="line">    <span class="comment"># demo存了外函数的返回值，也就是inner函数的引用，这里相当于执行inner函数</span></span><br><span class="line">    demo()  <span class="comment"># 15</span></span><br><span class="line"></span><br><span class="line">    demo2 = outer(<span class="number">7</span>)</span><br><span class="line">    demo2()  <span class="comment"># 17</span></span><br></pre></td></tr></tbody></table></figure>
<p>两次调用外部函数outer，分别传入的值是5和7。<br>内部函数只定义了一次，我们发现调用的时候，内部函数是能识别外函数的临时变量是不一样的。</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> wraps</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cache</span>(<span class="params">func</span>):</span>  <span class="comment"># 定义装饰器，cache是外层函数</span></span><br><span class="line">    store = {} <span class="comment"># 外部变量</span></span><br><span class="line">    </span><br><span class="line"><span class="meta">    @wraps(func)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_</span>(<span class="params">n</span>):</span>     <span class="comment"># 闭包函数</span></span><br><span class="line">        <span class="keyword">if</span> n <span class="keyword">in</span> store:</span><br><span class="line">            <span class="keyword">return</span> store[n]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            res = func(n)</span><br><span class="line">            store[n] = res</span><br><span class="line">            <span class="keyword">return</span> res</span><br><span class="line">    <span class="keyword">return</span> _</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 用装饰器的方式记录前面的结果    </span></span><br><span class="line"><span class="meta">@cache </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib</span>(<span class="params">n</span>):</span>       <span class="comment"># 斐波那契数列</span></span><br><span class="line">    <span class="keyword">if</span> n &lt;= <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> fib(n - <span class="number">1</span>) + fib(n - <span class="number">2</span>)</span><br></pre></td></tr></tbody></table></figure>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/mian-xiang-dui-xiang-bian-cheng-oop/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/mian-xiang-dui-xiang-bian-cheng-oop/" class="post-title-link" itemprop="url">面向对象编程OOP</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-04-02 12:24:45" itemprop="dateModified" datetime="2021-04-02T12:24:45Z">2021-04-02</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>面向对象编程 Object Oriented Programming（OOP）<br>面向对象的设计思想是 描述现实世界<br>把对象作为基本单元，把对象抽象成类(Class)，包含成员(属性)和方法(用来操作成员)。<br>根据Class创建Instance。</p>
<p>面向对象三大特点：</p>
<ul>
<li>封装：对外部隐藏有关对象工作原理的细节，提供一些可以被外界访问的属性的方法</li>
<li>继承：使用现有类的所有功能，并在无需重新编写原来的类的情况下对这些功能进行扩展</li>
<li>多态：子类重写父类方法</li>
</ul>
<p>Python 中使用类来实现。过程式编程(函数)，OOP(类)<br>(object)，表示该类是从哪个类继承下来的，<br>默认继承object类，可不写<br>创建类</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>(<span class="params">object</span>):</span> </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age</span>):</span>  <span class="comment"># 构造方法用来初始化成员(属性)</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.age = age</span><br><span class="line">        </span><br><span class="line">     <span class="function"><span class="keyword">def</span> <span class="title">print_name</span>(<span class="params">self</span>)：          # 操作成员(<span class="params">属性</span>)的类的方法</span></span><br><span class="line"><span class="function">         <span class="title">print</span>(<span class="params"><span class="string">'my name is {}'</span>.format(<span class="params">self.name</span>)</span>)</span></span><br></pre></td></tr></tbody></table></figure>
<pre><code>变量名前加单下划线表示的是 protected 类型的变量，即保护类型只能允许其本身与子类进行访问，如：self._sex = 0  。

变量名前加双下划线表示的是 私有类型(private)的变量, 只能是允许这个类本身进行访问了。如：self.__foo = 0。

Python在名称前后加双下划线表示的是特殊方法（魔术方法），一般是系统定义名字，如：def __len__(self): .....。
</code></pre>
<p>2.classmethod / staticmethod区别  (它们两个经常被用作类方法的装饰器)</p>
<ul>
<li><p>都可以通过 Class.method() 的方式调用</p>
</li>
<li><p>类方法：定义加@classmethod，类方法关联的是类，通常用来操作类变量，第一个形参是 cls，cls代表的是调用的类，类方法不会被自动调用，（也可以是别的，建议cls）<br>类方法可以通过类名.方法名()和实例名.方法名()两种方法进行调用<br>在类方法中访问类变量，用cls.变量名访问；<br>可以用类也可以用对象调用类方法（但是不建议用对象调用类方法，毕竟逻辑不符），<br>在类方法中不可以访问实例变量。</p>
</li>
<li><p><code>staticmethod</code> 静态方法，使用起来和普通函数一样，只不过放在类里去组织<br>类的静态方法可以通过类名.方法名()调用<br>类的静态方法可以通过实例名.方法名()调用<br>staticmethod是代码组织的需要，完全可以放到类之外<br>并没有引用当前类的任何东西，可以把staticmethod理解为本来该放到外面的函数只是给塞到类里。其实跟类并没有什么关系，相当于给了它一个作用范围，让它可以在类里面去使用</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Persion</span>:</span></span><br><span class="line">    Country = <span class="string">'China'</span>   <span class="comment"># class var</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">    </span><br><span class="line"><span class="meta">    @classmethod        </span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">print_country</span>(<span class="params">cls</span>):</span>   </span><br><span class="line">        print(cls.Country)</span><br><span class="line">    </span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">join_name</span>(<span class="params">first_name, last_name</span>):</span></span><br><span class="line">        <span class="keyword">return</span> last_name + first_name    <span class="comment"># last_name 姓</span></span><br></pre></td></tr></tbody></table></figure>

</li>
</ul>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span>(<span class="params">object</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, x, y</span>):</span></span><br><span class="line">        self.x = x</span><br><span class="line">        self.y = y</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'点的位置:({0}, {1})'</span>.format(self.x, self.y)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    p = Point(<span class="number">1</span>, <span class="number">2</span>)</span><br><span class="line">    print(p)  <span class="comment"># 点的位置:(1, 2)</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyDate</span>(<span class="params">object</span>):</span></span><br><span class="line">    <span class="string">"""自己实现的日期类"""</span></span><br><span class="line">    source = <span class="string">'ioomc'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, month, day</span>):</span></span><br><span class="line">        <span class="string">"""构造方法"""</span></span><br><span class="line">        self.month = month</span><br><span class="line">        self.day = day</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">show_info</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">"""展示日期详情"""</span></span><br><span class="line">        print(<span class="string">'月份: {0}; 日期: {1}'</span>.format(self.month, self.day))</span><br><span class="line">        print(<span class="string">'实例方法访问类的属性: {0}'</span>.format(self.source))</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">validate_month</span>(<span class="params">month</span>):</span></span><br><span class="line">        <span class="string">"""静态方法，验证我们的月份是否合法"""</span></span><br><span class="line">        month = int(month)</span><br><span class="line">        print(<span class="string">'类的属性: {}'</span>.format(MyDate.source))</span><br><span class="line">        <span class="comment"># return month &gt;= 1 and month &lt;= 12</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> &lt;= month &lt;= <span class="number">12</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    my_date = MyDate(<span class="number">5</span>, <span class="number">20</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 实例方法的调用</span></span><br><span class="line">    my_date.show_info()</span><br><span class="line">    <span class="comment"># 月份: 5; 日期: 20</span></span><br><span class="line">    <span class="comment"># 实例方法访问类的属性: ioomc</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 静态方法的调用</span></span><br><span class="line">    print(MyDate.validate_month(<span class="string">'15'</span>))</span><br><span class="line">    <span class="comment"># 类的属性: ioomc</span></span><br><span class="line">    <span class="comment"># False</span></span><br><span class="line"></span><br><span class="line">    print(my_date.validate_month(<span class="string">'11'</span>))</span><br><span class="line">    <span class="comment"># 类的属性: ioomc</span></span><br><span class="line">    <span class="comment"># True</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>(<span class="params">object</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, score</span>):</span></span><br><span class="line">        self.name = name</span><br><span class="line">        self.score = score</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">print_score</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">'%s: %s'</span> % (self.name, self.score))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">bart = Student(<span class="string">'Bart Simpson'</span>, <span class="number">59</span>)</span><br><span class="line">lisa = Student(<span class="string">'Lisa Simpson'</span>, <span class="number">87</span>)</span><br><span class="line">bart.print_score()  <span class="comment"># Bart Simpson: 59</span></span><br><span class="line">lisa.print_score()  <span class="comment"># Lisa Simpson: 87</span></span><br></pre></td></tr></tbody></table></figure>

<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/python3-he-python2-chai-yi/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/python3-he-python2-chai-yi/" class="post-title-link" itemprop="url">Python3和python2差异</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-04-02 12:24:45" itemprop="dateModified" datetime="2021-04-02T12:24:45Z">2021-04-02</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Python关键字</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> keyword</span><br><span class="line">print(keyword.kwlist)</span><br><span class="line"><span class="comment"># ['False', 'None', 'True', 'and', 'as', 'assert', 'break', 'class', 'continue', 'def', 'del',</span></span><br><span class="line"><span class="comment"># 'elif', 'else', 'except', 'finally', 'for', 'from', 'global', 'if', 'import', 'in', 'is', 'lambda',</span></span><br><span class="line"><span class="comment"># 'nonlocal', 'not', 'or', 'pass', 'raise', 'return', 'try', 'while', 'with', 'yield']</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="print"><a href="#print" class="headerlink" title="print"></a>print</h3><p>python2中是关键字。</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python2的打印 print</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">print</span> <span class="string">'b'</span></span><br><span class="line">b</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'a'</span>, <span class="string">'b'</span>) <span class="comment"># 打印的是a和b合并成tuple对象</span></span><br><span class="line">(<span class="string">'a'</span>, <span class="string">'b'</span>)</span><br></pre></td></tr></tbody></table></figure>

<p>python3成为函数就支持传入不同参数，比如不同换行符end或者分隔符sep</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python3的打印 print()</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'b'</span>)</span><br><span class="line">b</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'a'</span>, <span class="string">'b'</span>,sep=<span class="string">'|'</span> ) <span class="comment"># sep:分隔符，end:换行符</span></span><br><span class="line">a|b</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'a'</span>, <span class="string">'b'</span>)</span><br><span class="line">a b</span><br></pre></td></tr></tbody></table></figure>

<p>计算机是 以字节为单位 来 存储和传输数据的，</p>
<blockquote>
<p>一个字节 由 8位二进制数字表示，最多可以表示从0到255，一共256个字符。</p>
</blockquote>
<p>Python中字符串的类型只有两种（str，bytes）文本字符串和字节字符串。<br>其中文本字符串类型被命名为str，内部采用Unicode字符集（兼容ASCII码），<br>而字节字符串则直接用来表示原始的字节序列（用print函数来打印字节字符串时，若字节在ascii码范围内，则显示为ascii码对应的字符，其余的则直接显示为16进制数），该类型被命名为bytes。</p>
<p>有三种前缀</p>
<ul>
<li><p>无前缀<br>一般英文字符在使用各种编码下, 基本都可以正常解析, 所以一般不带u；<br>但是中文, 必须表明所需编码, 否则一旦编码转换就会出现乱码。</p>
</li>
<li><p>前缀u/U:<br>一个具体的unicode字符表示法<code>\uxxxx</code>，<code>\u</code>会自动去寻找后面4位16进制数，然后去Unicode字符集寻找对应的字符来显式输出。<br>不是仅仅是针对中文, 可以针对任何的字符串，代表是对字符串进行unicode编码。</p>
</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义变量存放unicode编码表示的字符</span></span><br><span class="line"><span class="keyword">char</span> c = <span class="string">'\u005d'</span>;</span><br><span class="line">System.out.println(<span class="string">"c="</span> + c);  <span class="comment">// c=]</span></span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>前缀b: bytes 文件操作模式会用到 可存储到文件或者传输到网络中</li>
</ul>
<h3 id="Python3"><a href="#Python3" class="headerlink" title="Python3"></a>Python3</h3><p>字符串str==unicode，是和人交互的，用来操作的，前缀带不带u，其实都一样。<br>每个字符用字符本身或者\u1234，来表示都可以，<br>后者则是直接是Unicode编码。但打印时都是打印字符本身。</p>
<p>想在py3里看字符，必须得是unicode编码，其它编码一律按bytes格式展示。<br>unicode是某种特定编码的字节流，是bytes的子集。这就意味着：所有的unicode都能放进bytes，但某些bytes无法放进unicode。<br>不是utf-8，utf-8编码的是bytes</p>
<p>字节串bytes!=str：计算机自己能理解的“语言”是二进制数，最小的信息标识是二进制位，给计算机传输或者保存的 字节是将unicode编码后的utf或gbk字节串，bytes是(py2.x)的str<br>不能print，直接print你decode出来的那个str就行了，不需要再encode</p>
<h3 id="python2"><a href="#python2" class="headerlink" title="python2"></a>python2</h3><p>字符串有两种字符串类型unicode，str和是python3中的byte，<br>bytes==str<br>unicode!=str</p>
<p>python里写入文件出现乱码通常都是因为编码导致的。很多人说我已经encode设置为utf-8了呀，怎么还会出现乱码呢？<br>其实这里涉及到2个编码的问题<br>1、字符串的编码，比如我们爬虫返回的text的编码<br>2、文件的编码<br>要想不出现编码，必须保证文字的编码和文件的编码一致。</p>
<p>编码和解码就是Python中str和bytes这两种字符串类型之间的互相转换。</p>
<p><code>str.encode(encoding='UTF-8', errors='strict')</code><br>以指定的编码格式编码，把str类型的字符串转换为bytes字符串，字符对应的若干十六进制数，</p>
<figure class="highlight plain"><figcaption><span>如```\xc9```，代表两位16进制，一个字节</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">- encoding -- 要使用的编码</span><br><span class="line">   - ```utf-8``` ```UTF8``` 用三个十六进制 3个字节 来表示一个中文字符，</span><br><span class="line"></span><br><span class="line">   - ```gbk```编码中文用 二个十六进制 2个字节Bytes 来表示一个中文字符，</span><br><span class="line">每个bytes，即8位bit的第一个位作为标志位，</span><br><span class="line">标志位为1则表示是中文字符，如果标志位为0则表示为英文字符</span><br><span class="line"></span><br><span class="line">```py</span><br><span class="line">import sys</span><br><span class="line">print(sys.platform)  # win32</span><br><span class="line">print(sys.getdefaultencoding())  # utf-8</span><br><span class="line"># 平台默认选择的就是utf-8编码方式。</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>errors – 设置不同错误的处理方案。默认为 ‘strict’，意为编码错误引起一个UnicodeError。 其他可能得值有 ‘ignore’, ‘replace’, ‘xmlcharrefreplace’, ‘backslashreplace’ 以及通过 codecs.register_error() 注册的任何值。<br>该方法返回编码后的字符串，它是一个 bytes 对象。</li>
</ul>
<p><code>bytes.decode(encoding="utf-8", errors="strict")</code><br>以指定的编码格式解码 bytes 对象。</p>
<ul>
<li>encoding – 要使用的编码，默认编码为 ‘utf-8’。</li>
<li>errors – 设置不同错误的处理方案。默认为 ‘strict’,意为编码错误引起一个UnicodeError。<br>其他可能得值有 ‘ignore’, ‘replace’, ‘xmlcharrefreplace’, ‘backslashreplace’ 以及通过 codecs.register_error() 注册的任何值。</li>
</ul>
<p>从文件中读入文字信息， 从网络上接收 文字信息，获取的数据通常是使用某种字符编码后的 字节串</p>
<p>当python解释器执行到产生字符串的代码时（例如x=’上’），<br>会申请新的内存地址，然后将’上’编码成文件开头指定的编码格式</p>
<p>想看x在内存中的真实格式，可以将其放入列表中再打印，<br>而不要直接打印，因为直接print()会自动转换编码，</p>
<p>字符串编码转换</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python2 编码</span></span><br><span class="line"><span class="comment"># coding:gbk</span></span><br><span class="line">x=<span class="string">'上'</span></span><br><span class="line">y=<span class="string">'下'</span></span><br><span class="line">print([x,y]) <span class="comment"># ['\xc9\xcf', '\xcf\xc2']</span></span><br><span class="line">print(type(x),type(y)) <span class="comment"># (&lt;type 'str'&gt;, &lt;type 'str'&gt;)</span></span><br><span class="line"><span class="comment"># c9cf总共4位16进制数，</span></span><br><span class="line"><span class="comment"># 一个16进制 4个比特位</span></span><br><span class="line"><span class="comment"># 4个16进制数则是16个比特位，即2个Bytes</span></span><br><span class="line"></span><br><span class="line">x=<span class="string">'上'</span>.decode(<span class="string">'gbk'</span>)</span><br><span class="line">y=<span class="string">'下'</span>.decode(<span class="string">'gbk'</span>)</span><br><span class="line">print([x,y]) <span class="comment">#[u'\u4e0a', u'\u4e0b']</span></span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = <span class="string">u'中文'</span> <span class="comment"># python2中定义包含中文字符串必须加U前缀</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>type(s)</span><br><span class="line">&lt;type <span class="string">'unicode'</span>&gt;</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python3 编码</span></span><br><span class="line">string = <span class="string">u'中文'</span>  </span><br><span class="line"><span class="comment"># 加u，'中文'也会被以unicode形式保存新的内存空间中</span></span><br><span class="line">print(string, type(string), len(string))  <span class="comment"># 中文 &lt;class 'str'&gt; 2</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">'中文'</span>  </span><br><span class="line"><span class="comment"># 无需加u，'中文'也会被以unicode形式保存新的内存空间中</span></span><br><span class="line">print(s, type(s), type(s), len(s))  <span class="comment"># 中文 &lt;class 'str'&gt; 2</span></span><br><span class="line"></span><br><span class="line">print(string == s)  <span class="comment"># True</span></span><br><span class="line">print(string <span class="keyword">is</span> s)  <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 将 Unicode 编码格式字符串转换成 UTF-8</span></span><br><span class="line">print(s.encode(), type(s.encode()), len(s.encode()))  <span class="comment"># 默认UTF-8</span></span><br><span class="line"><span class="comment"># b'\xe4\xb8\xad\xe6\x96\x87' &lt;class 'bytes'&gt; 6</span></span><br><span class="line"><span class="comment"># utf-8是多字节编码，你的\xe4\xb8\xad合起来是一个字符，</span></span><br><span class="line"><span class="comment"># 而unicode里面，\xe4, \xb8, \xad各自是一个字符，</span></span><br><span class="line"><span class="comment"># 相当于\u00e4, \u00b8, \u00ad，所以当然是乱码了</span></span><br><span class="line"></span><br><span class="line">print(s.encode(encoding=<span class="string">"UTF8"</span>, type(s.encode()), len(s.encode())),</span><br><span class="line">      type(s.encode(encoding=<span class="string">"UTF-8"</span>)))</span><br><span class="line"><span class="comment"># b'\xe4\xb8\xad\xe6\x96\x87' &lt;class 'bytes'&gt;</span></span><br><span class="line"></span><br><span class="line">print(s.encode(encoding=<span class="string">"UTF-8"</span>, type(s.encode()), len(s.encode())),</span><br><span class="line">      type(s.encode(encoding=<span class="string">"UTF-8"</span>)))</span><br><span class="line"><span class="comment"># b'\xe4\xb8\xad\xe6\x96\x87' &lt;class 'bytes'&gt;</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">b'\xe4\xb8\xad\xe6\x96\x87'</span>.decode(<span class="string">"UTF-8"</span>),\</span><br><span class="line">    type(<span class="string">b'\xe4\xb8\xad\xe6\x96\x87'</span>.decode(<span class="string">"UTF-8"</span>)),len(<span class="string">b'\xe4\xb8\xad\xe6\x96\x87'</span>.decode(<span class="string">"UTF-8"</span>)))</span><br><span class="line"><span class="comment"># 中文 &lt;class 'str'&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 将 Unicode 编码格式字符串 转换成 GBK 编码</span></span><br><span class="line">print(s.encode(<span class="string">"GBK"</span>), type(s.encode(<span class="string">"GBK"</span>)), len(s.encode(<span class="string">"GBK"</span>)))</span><br><span class="line"><span class="comment"># b'\xd6\xd0\xce\xc4' &lt;class 'bytes'&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 将 GBK 编码格式字符串 转化成 Unicode</span></span><br><span class="line">print(<span class="string">b'\xd6\xd0\xce\xc4'</span>.decode(<span class="string">'GBK'</span>),\</span><br><span class="line">    type(<span class="string">b'\xd6\xd0\xce\xc4'</span>.decode(<span class="string">'GBK'</span>, <span class="string">'strict'</span>)),len(<span class="string">b'\xd6\xd0\xce\xc4'</span>.decode(<span class="string">'GBK'</span>, <span class="string">'strict'</span>)))</span><br><span class="line"><span class="comment"># 中文 &lt;class 'str'&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 只有ascii字符集中的字符，三种编码方式得到的结果才完全一致。</span></span><br><span class="line">print(<span class="string">'abc'</span>.encode())  <span class="comment"># b'abc'</span></span><br><span class="line">print(<span class="string">'abc'</span>.encode(<span class="string">'GBK'</span>))  <span class="comment"># b'abc'</span></span><br><span class="line">print(<span class="string">'abc'</span>.encode(<span class="string">'latin-1'</span>))  <span class="comment"># b'abc'</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> 大写(<span class="params">s</span>):</span></span><br><span class="line">    <span class="keyword">return</span> s.upper()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(大写(<span class="string">'abc'</span>))  <span class="comment"># 'ABC'</span></span><br></pre></td></tr></tbody></table></figure>

<p>如果**<em>type(text) is str**</em>，<br>那么<code>text.encode(‘latin1’).decode(‘unicode_escape’)</code></p>
<p>如果**<em>type(text) is bytes**</em>，<br>那么<code>text.decode('unicode_escape')</code></p>
<h3 id="unicode-escape-unicode-escape-的解码与编码规则，"><a href="#unicode-escape-unicode-escape-的解码与编码规则，" class="headerlink" title="unicode_escape unicode-escape 的解码与编码规则，"></a>unicode_escape unicode-escape 的解码与编码规则，</h3><p>编码用unicode数字字符串表示字符</p>
<p>解码碰到\会去掉一个\，编码的时候会添上一个,<br>所以就解释了b’\uxxxx’就是b’\uxxxx’ ，<br>因为\u的情况下面，根本不可能出现一个\的情况。<br>所以总的思路是出现’\uxxxx’的字符串，首先通过一种常规的字符编码方式utf8 gbc随便你，<br>转换成b’\uxxxx’的形式，然后再通过’unicode_escape’的编码解码，变成’\uxxxx’的形式，</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">'中文'</span>.encode(<span class="string">'unicode_escape'</span>))</span><br><span class="line"><span class="comment"># b'\\u4e2d\\u6587'</span></span><br><span class="line">print(<span class="string">'中文'</span>.encode(<span class="string">'unicode-escape'</span>))</span><br><span class="line"><span class="comment"># b'\\u4e2d\\u6587'</span></span><br><span class="line">print(type(<span class="string">'中文'</span>.encode(<span class="string">'unicode_escape'</span>)), len(<span class="string">'中文'</span>.encode(<span class="string">'unicode_escape'</span>)))</span><br><span class="line"><span class="comment"># &lt;class 'bytes'&gt; 12</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 一个反斜杠 unicode转义数字 写字符串</span></span><br><span class="line">print(<span class="string">'\u4e2d\u6587'</span>, type(<span class="string">'\u4e2d\u6587'</span>), len(<span class="string">'\u4e2d\u6587'</span>))</span><br><span class="line"><span class="comment"># 中文 &lt;class 'str'&gt; 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Python的字符串中应该不会出现'\uxxxx'的字符。</span></span><br><span class="line"><span class="comment"># 如果出现了，那应该是'\\uxxxx'注意前面应该是两个反斜杠，直接把\u的反斜杠转义了</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">r'\u5bb6'</span>)  <span class="comment"># \u5bb6 </span></span><br><span class="line">print(<span class="string">b'\u5bb6'</span>)  <span class="comment"># b'\\u5bb6'</span></span><br><span class="line">print(<span class="string">b'\u5bb6'</span>.decode(<span class="string">'unicode_escape'</span>))  <span class="comment"># 家</span></span><br><span class="line">print(<span class="string">'\u5bb6'</span>)  <span class="comment"># 家</span></span><br><span class="line">print(<span class="string">'\\u5bb6'</span>)  <span class="comment"># \u5bb6</span></span><br><span class="line">print(<span class="string">'\\u5bb6'</span>.encode())  <span class="comment"># b'\\u5bb6'</span></span><br><span class="line">print(<span class="string">'\\u5bb6'</span>.encode().decode())  <span class="comment"># \u5bb6</span></span><br><span class="line">print(<span class="string">'\\u5bb6'</span>.encode().decode(<span class="string">'unicode_escape'</span>))  <span class="comment"># 家</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">'\\u5bb6'</span>.encode(<span class="string">'unicode_escape'</span>))  <span class="comment"># b'\\\\u5bb6'</span></span><br><span class="line">print(<span class="string">'\\u5bb6'</span>.encode(<span class="string">'unicode_escape'</span>).decode(<span class="string">'unicode_escape'</span>))  <span class="comment"># \u5bb6</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">b = <span class="string">b'apple'</span></span><br><span class="line">print(b, type(b))</span><br><span class="line"><span class="comment"># b'apple' &lt;class 'bytes'&gt;</span></span><br><span class="line">print(b[<span class="number">0</span>])  <span class="comment"># 97</span></span><br><span class="line">print(b[<span class="number">1</span>:])  <span class="comment"># b'pple'</span></span><br><span class="line">print(list(b))  <span class="comment"># [97, 112, 112, 108, 101]</span></span><br><span class="line"></span><br><span class="line">userInputTag = [<span class="string">"\xe5\x8f\xa4\xe8\xbf\xb9"</span>, <span class="string">"\xe5\xbb\xba\xe7\xad\x91"</span>]</span><br><span class="line">print(userInputTag[<span class="number">0</span>].encode(<span class="string">'latin-1'</span>).decode(<span class="string">'utf-8'</span>), type(userInputTag[<span class="number">0</span>]))</span><br><span class="line"><span class="comment"># 古迹 &lt;class 'str'&gt;</span></span><br></pre></td></tr></tbody></table></figure>


<h3 id="除法变化"><a href="#除法变化" class="headerlink" title="除法变化"></a>除法变化</h3><p>Python3除号返回浮点数，<br>Python2中直接截断并且返回整数，像是C语言的除法</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python2中除法</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">5</span>/<span class="number">2</span></span><br><span class="line"><span class="number">2</span>  <span class="comment"># 会做整数截断，只保留整数值 </span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python3中除法</span></span><br><span class="line">print(<span class="number">5</span>/<span class="number">2</span>)  <span class="comment"># 2.5  float的值</span></span><br><span class="line">print(<span class="number">5</span>//<span class="number">2</span>)  <span class="comment"># 2 实现python2一样除法</span></span><br><span class="line">print(<span class="number">-5</span>//<span class="number">2</span>)  <span class="comment"># -3 实现python2一样除法</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="类型注解-type-hint-。"><a href="#类型注解-type-hint-。" class="headerlink" title="类型注解(type hint)。"></a>类型注解(type hint)。</h3><p>给变量添加类型提示<br>IDE可以根据它检查类型是否一致。<br>解释器运行时，并不会做检查</p>
<p>Once compiled, a function’s annotations are available via the function’s <strong>annotations</strong> attribute.<br>This attribute is a mutable dictionary,s<br>There is a special key in the <strong>annotations</strong> mapping, “return”.<br>This key is present only if an annotation was supplied for the function’s return value.<br>如果该函数上没有注释，或者该函数是从lambda表达式创建的，则__annotations__是一个空的可变字典。<br>第一行输出中的__annotations__是函数的保留属性，保存的是函数声明中的注释内容，</p>
<p>使用dir(fucntionName)的时候，多了一个__annotations__的属性annotations：注解; 评注; 注文; 释文</p>
<p>Python 3 extends the feature by allowing you to attach metadata<br>to functions describing their parameters and return values<br>为了标注 输入参数参数和返回值的类型。<br>“-&gt;” 函数返回值的类型建议符，<br>类型建议符并非强制规定和检查，也就是说即使传入的实际参数与建议参数不符，也不会报错。<br>-&gt; str 意思即是提醒函数使用者返回值会是一个str型。<br>:后面是建议传入的参数类型，</p>
<p>使用第三方工具mypy实现类型检查，消除一些代码错误</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># name:str 表示输入的name的值是str类型, -&gt; st 表示返回值是str类型</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello</span>(<span class="params">name: str</span>) -&gt; str:</span>  <span class="comment"># 起到提示作用，并没有实现真正类型检查</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">'hello '</span> + name</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(hello(<span class="string">'Ashe'</span>))</span><br><span class="line"><span class="comment"># hello Ashe</span></span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">greeting</span>(<span class="params">name: str</span>) -&gt; str:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Hello '</span> + name</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(greeting.__annotations__)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span>(<span class="params">a: <span class="string">'x'</span>, b: <span class="number">5</span> + <span class="number">6</span>, c: list</span>) -&gt; max(2, 9):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(foo.__annotations__)</span><br><span class="line"><span class="comment"># {'a': 'x', 'b': 11, 'c': &lt;class 'list'&gt;, 'return': 9}</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">twoSum</span>(<span class="params">num1: int, num2: int = <span class="number">100</span></span>) -&gt; int:</span></span><br><span class="line">    sum = num1 + num2</span><br><span class="line">    <span class="keyword">return</span> sum</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(<span class="string">'-----'</span>)</span><br><span class="line">print(dir(twoSum))</span><br><span class="line"><span class="comment"># output: ['__annotations__', '__call__', '__class__', '__closure__', ... ]</span></span><br><span class="line">print(twoSum.__annotations__)</span><br><span class="line"><span class="comment"># {'num1': &lt;class 'int'&gt;, 'num2': &lt;class 'int'&gt;, 'return': &lt;class 'int'&gt;}</span></span><br><span class="line">print(twoSum(<span class="number">1</span>, <span class="number">2</span>))  <span class="comment"># 3</span></span><br><span class="line">print(twoSum(<span class="number">1</span>))  <span class="comment"># 101</span></span><br><span class="line">print(twoSum(<span class="string">'I love '</span>, <span class="string">'python'</span>))  <span class="comment"># I love python</span></span><br><span class="line"><span class="comment"># print(twoSum('python'))  # TypeError: can only concatenate str (not "int") to str</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">第二行输出是正常用法。</span></span><br><span class="line"><span class="string">第三行输出验证了：注释内容后可以跟等号"=",意思为未传入实参时，该参数获得的默认值</span></span><br><span class="line"><span class="string">第四行输出则验证了该解释说明符并非强制检查，我们传入了两个str实参，</span></span><br><span class="line"><span class="string">并不会报错，而是继续进行函数中的加法运算。</span></span><br><span class="line"><span class="string">如果传入的两个实参无法进行函数中规定的运算，则会正常报错。</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">kinetic_energy</span>(<span class="params">m: <span class="string">'in KG'</span>, v: <span class="string">'in M/S'</span></span>) -&gt; 'Joules':</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> / <span class="number">2</span> * m * v ** <span class="number">2</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(kinetic_energy.__annotations__)</span><br><span class="line"><span class="comment"># {'m': 'in KG', 'v': 'in M/S', 'return': 'Joules'}</span></span><br><span class="line">print(<span class="string">'{:,} {}'</span>.format(kinetic_energy(<span class="number">20</span>, <span class="number">3000</span>),</span><br><span class="line">                       kinetic_energy.__annotations__[<span class="string">'return'</span>]))</span><br><span class="line"><span class="comment"># 90,000,000.0 Joules</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Annotations are dictionaries</span></span><br><span class="line"><span class="comment"># There is a special key in the __annotations__ mapping, "return".</span></span><br><span class="line"><span class="comment"># This key is present only if an annotation was supplied for the function's return value.</span></span><br><span class="line">rd = {<span class="string">'type'</span>: float, <span class="string">'units'</span>: <span class="string">'Joules'</span>, <span class="string">'docstring'</span>: <span class="string">'Given mass and velocity returns kinetic energy in Joules'</span>}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>() -&gt; rd:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(f.__annotations__[<span class="string">'return'</span>][<span class="string">'type'</span>])</span><br><span class="line"><span class="comment"># &lt;class 'float'&gt;</span></span><br><span class="line">print(f.__annotations__[<span class="string">'return'</span>][<span class="string">'units'</span>])</span><br><span class="line"><span class="comment"># 'Joules'</span></span><br><span class="line">print(f.__annotations__[<span class="string">'return'</span>][<span class="string">'docstring'</span>])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 'Given mass and velocity returns kinetic energy in Joules'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># you can use function attributes to validate called values:</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">validate</span>(<span class="params">func, locals</span>):</span></span><br><span class="line">    <span class="keyword">for</span> var, test <span class="keyword">in</span> func.__annotations__.items():</span><br><span class="line">        value = locals[var]</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            pr = test.__name__ + <span class="string">': '</span> + test.__docstring__</span><br><span class="line">        <span class="keyword">except</span> AttributeError:</span><br><span class="line">            pr = test.__name__</span><br><span class="line">        msg = <span class="string">'{}=={}; Test: {}'</span>.format(var, value, pr)</span><br><span class="line">        <span class="keyword">assert</span> test(value), msg</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">between</span>(<span class="params">lo, hi</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_between</span>(<span class="params">x</span>):</span></span><br><span class="line">        <span class="keyword">return</span> lo &lt;= x &lt;= hi</span><br><span class="line"></span><br><span class="line">    _between.__docstring__ = <span class="string">'must be between {} and {}'</span>.format(lo, hi)</span><br><span class="line">    <span class="keyword">return</span> _between</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">x: between(<span class="params"><span class="number">3</span>, <span class="number">10</span></span>), y: lambda _y: isinstance(<span class="params">_y, int</span>)</span>):</span></span><br><span class="line">    validate(f, locals())</span><br><span class="line">    print(x, y)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">f(<span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line"><span class="comment"># AssertionError: x==2; Test: _between: must be between 3 and 10</span></span><br><span class="line">f(<span class="number">3</span>, <span class="number">2.1</span>)</span><br><span class="line"><span class="comment"># AssertionError: y==2.1; Test: &lt;lambda&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="优化的-super-方便直接调用父类函数"><a href="#优化的-super-方便直接调用父类函数" class="headerlink" title="优化的 super() 方便直接调用父类函数"></a>优化的 super() 方便直接调用父类函数</h3><pre><code>  super().eat()  # 直接就可以调用父类，像什么 self 都不必传递
</code></pre>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Base</span>(<span class="params">object</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hello</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="string">'hello'</span>)</span><br><span class="line">        </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span>(<span class="params">Base</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hello</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="comment"># py2，显示调用父类方法</span></span><br><span class="line">        <span class="keyword">return</span> super(C, self).hello()</span><br><span class="line"> </span><br><span class="line">c = C()</span><br><span class="line">c.hello()   <span class="comment"># hello</span></span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C2</span>(<span class="params">Base</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hello</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="comment"># py3，显示调用父类方法</span></span><br><span class="line">        <span class="keyword">return</span> super().hello()</span><br><span class="line"> </span><br><span class="line">c2 = C2()</span><br><span class="line">c2.hello()  <span class="comment"># hello</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="高级解包操作"><a href="#高级解包操作" class="headerlink" title="高级解包操作"></a>高级解包操作</h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python2中无解包操作</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a, b, c = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a,b,c</span><br><span class="line">(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a, b, *c = range(<span class="number">10</span>)  </span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span></span><br><span class="line">    a, b, *c = range(<span class="number">10</span>)</span><br><span class="line">          ^</span><br><span class="line">SyntaxError: invalid syntax</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python3中解包操作</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a, b, *c = range(<span class="number">10</span>)  </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c</span><br><span class="line">[<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]  <span class="comment"># 剩下的元素全部赋值给c</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a, b, *_ = range(<span class="number">5</span>)  <span class="comment"># 丢弃2,3,4元素</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="限定关键字参数"><a href="#限定关键字参数" class="headerlink" title="限定关键字参数"></a>限定关键字参数</h3><p>当参数特别多的时候，想把后面参数指定名字进行传入，<br>限定关键字参数需要指定参数名传参，<br>关键字参数实际就是传入值得时候指定值的参数名字，</p>
<p>Keyword only arguments 关键字参数<br>根据参数名来传入参数值，则无须遵守定义形参的顺序，<br>以param = value的方式传递数据</p>
<p>使用关键字参数好处 :<br>①关键字参数顺序也可以不按函数声明参数的顺序。可以防止参数的位置顺序搞混<br>②清晰地指出了参数值，有助于提高程序的可读性</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">a, b, *, c</span>):</span></span><br><span class="line">    <span class="comment"># python3中支持语法，要显示转入c的值，前面加一个参数*号就行。</span></span><br><span class="line">    <span class="keyword">return</span> a + b + c</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># c = 3 就是限定关键字参数方式</span></span><br><span class="line">print(add(<span class="number">1</span>, <span class="number">2</span>, c=<span class="number">3</span>))</span><br></pre></td></tr></tbody></table></figure>


<h3 id="Chained-exception-连接异常-。"><a href="#Chained-exception-连接异常-。" class="headerlink" title="Chained exception(连接异常)。"></a>Chained exception(连接异常)。</h3><p>Python3重新抛出异常不会丢失栈信息，有 raise from 保留异常栈信息<br>python2重新抛出异常会丢失栈信息、原来的 traceback 信息</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```python</span><br><span class="line">import shutil</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">def mycopy(source, dest):</span><br><span class="line">    # Python3中支持 raise from保留异常栈信息</span><br><span class="line">    try:</span><br><span class="line">        shutil.copy2(source, dest)</span><br><span class="line">    except OSError: # python2中raise会丢失原来的 traceback信息</span><br><span class="line">        raise NotImplementedError("automatic sudo injection") from OSError</span><br><span class="line">        # 这样会把所有栈信息抛出，有利于去排错</span><br><span class="line">  </span><br><span class="line">mycopy('old', 'new')</span><br><span class="line">输出结果：</span><br><span class="line"># OSError</span><br><span class="line"> </span><br><span class="line"># The above exception was the direct cause of the following exception:</span><br><span class="line"> </span><br><span class="line"># Traceback (most recent call last):</span><br><span class="line">#   File "chain_exception.py", line 12, in &lt;module&gt;</span><br><span class="line">#     mycopy('old', 'new')</span><br><span class="line">#   File "chain_exception.py", line 9, in mycopy</span><br><span class="line">#     raise NotImplementedError("automatic sudo injection") from OSError</span><br><span class="line"># NotImplementedError: automatic sudo injection</span><br></pre></td></tr></tbody></table></figure>


<h3 id="一切都是返回迭代对象-range-zip-map-dict-values-etc-are-all-iterators。"><a href="#一切都是返回迭代对象-range-zip-map-dict-values-etc-are-all-iterators。" class="headerlink" title="一切都是返回迭代对象 range, zip, map, dict.values, etc, are.all iterators。"></a>一切都是返回迭代对象 range, zip, map, dict.values, etc, are.all iterators。</h3><p>python2中range和map返回的都是列表，当这个列表非常大时候会非常消耗内存，<br>python3中很多内置函数之前返回列表的现在返回是迭代器，迭代器是”惰性加载”的，这样会省很多内存<br>如果我们需要显示得到一个列表时候，我么就需要list进行强转一下)，返回列表会消耗大的内存</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python2中</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>range(<span class="number">10</span>)</span><br><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]  <span class="comment"># 返回列表</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(type(range(<span class="number">10</span>)))</span><br><span class="line">&lt;type <span class="string">'list'</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(xrange(<span class="number">10</span>))</span><br><span class="line">xrange(<span class="number">10</span>)</span><br><span class="line"> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> i <span class="keyword">in</span> xrange(<span class="number">100</span>):print(i) </span><br><span class="line"><span class="comment"># python2中xrange返回可迭代对象，python3中没有xrange函数</span></span><br><span class="line"> </span><br><span class="line">---------------------------------------------------------------</span><br><span class="line"><span class="comment"># python3中</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>range(<span class="number">10</span>)</span><br><span class="line">range(<span class="number">0</span>, <span class="number">10</span>)  <span class="comment"># 返回软加载可迭代对象</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(type(range(<span class="number">10</span>)))</span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">range</span>'&gt;</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">print</span>(<span class="params">list(<span class="params">range(<span class="params"><span class="number">10</span></span>)</span>)</span>)</span></span><br><span class="line">[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]  </span><br><span class="line"> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>):print(i， end=<span class="string">' '</span>)   <span class="comment"># end默认值是'\n'换行，置空表示水平输出</span></span><br><span class="line">...</span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span></span><br></pre></td></tr></tbody></table></figure>
<p>python3中不再使用dict.iteritems() ，直接使用dict.items()方法就可以返回可迭代对象。</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/python-chang-yong-nei-zhi-suan-fa-he-shu-ju-jie-gou/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/python-chang-yong-nei-zhi-suan-fa-he-shu-ju-jie-gou/" class="post-title-link" itemprop="url">Python常用内置算法和数据结构</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-04-02 12:24:46" itemprop="dateModified" datetime="2021-04-02T12:24:46Z">2021-04-02</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">数据结构与算法</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Python常用内置算法和数据结构"><a href="#Python常用内置算法和数据结构" class="headerlink" title="Python常用内置算法和数据结构"></a>Python常用内置算法和数据结构</h1><table>
<thead>
<tr>
<th>数据结构/算法</th>
<th>语言内置</th>
<th>内置库</th>
</tr>
</thead>
<tbody><tr>
<td>线性结构</td>
<td>list(列表)/tuple(元祖)</td>
<td>array(数组，不常用)/collections.namedtuple</td>
</tr>
<tr>
<td>链式结构</td>
<td></td>
<td>collections.deque(双端队列)</td>
</tr>
<tr>
<td>字典结构</td>
<td>dict(字典)</td>
<td>collections.Counter(计数器)/OrderedDict(有序字典)/defaultdict</td>
</tr>
<tr>
<td>集合结构</td>
<td>set(集合)/frozenset(不可变集合)</td>
<td></td>
</tr>
<tr>
<td>排序算法</td>
<td>sorted</td>
<td></td>
</tr>
<tr>
<td>二分算法</td>
<td></td>
<td>bisect模块</td>
</tr>
<tr>
<td>堆算法</td>
<td></td>
<td>heapq模块</td>
</tr>
<tr>
<td>缓存算法</td>
<td></td>
<td>functools.lru_cache(Least Recent Used, python3)</td>
</tr>
</tbody></table>
<h3 id="frozenset固定集合"><a href="#frozenset固定集合" class="headerlink" title="frozenset固定集合"></a>frozenset固定集合</h3><p>是不可变、无序的，含有唯一元素的不可迭代的集合，<br>作用：固定集合可以作为字典的键，还可以作为字典的值</p>
<figure class="highlight plain"><figcaption><span>frozenset([iterable])``` 固定集合的构造函数</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">iterable -- 可迭代的对象，比如列表、字典、元组等等。</span><br><span class="line">用可迭代对象创建一个固定的、不能再添加或删除任何元素的集合，返回新的 frozenset 对象，</span><br><span class="line">如果不提供任何参数，默认会生成空的固定集合</span><br><span class="line"></span><br><span class="line">为什么需要冻结的集合（即不可变的集合）呢？因为在集合的关系中，有集合的中的元素是另一个集合的情况，但是普通集合（set）本身是可变的，那么它的实例就不能放在另一个集合中（set中的元素必须是不可变类型）。</span><br><span class="line"></span><br><span class="line">所以，frozenset提供了不可变的集合的功能，当集合不可变时，它就满足了作为集合中的元素的要求，就可以放在另一个集合中了。</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line">&gt;&gt;&gt;a = frozenset(range(10))     # 生成一个新的不可变集合</span><br><span class="line">&gt;&gt;&gt; a</span><br><span class="line">frozenset([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</span><br><span class="line">&gt;&gt;&gt; b = frozenset('runoob') </span><br><span class="line">&gt;&gt;&gt; b</span><br><span class="line">frozenset(['b', 'r', 'u', 'o', 'n'])   # 创建不可变集合</span><br></pre></td></tr></tbody></table></figure>

<h3 id="collections是Python内建的一个集合模块，提供的一些内置数据结构拓展，"><a href="#collections是Python内建的一个集合模块，提供的一些内置数据结构拓展，" class="headerlink" title="collections是Python内建的一个集合模块，提供的一些内置数据结构拓展，"></a><code>collections</code>是Python内建的一个集合模块，提供的一些内置数据结构拓展，</h3><p>力扣提交时环境中已经有<code>import collections</code></p>
<h3 id="namedtuple"><a href="#namedtuple" class="headerlink" title="namedtuple()"></a>namedtuple()</h3><p>factory function for creating tuple subclasses with named fields<br>创建命名元组子类的工厂函数  具名元组<br>接受类型的名称和属性列表创建一个自定义的 tuple 对象，并且规定了tuple元素的个数，<br>并可以用属性而不是索引来引用tuple的某个元素。<br>作用场景：通过下标不太可读通过属性名称变得比较可读。<br>它具备tuple的不变性</p>
<p>tuple可以表示一个元组，是不可变的集合,例如一个点的二维坐标就可以这样表示成p=(1,2)<br>但是，(1,2)很难看出这个tuple是用来表示一个坐标的</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> collections</span><br><span class="line">Point = collections.namedtuple(<span class="string">'Point'</span>, <span class="string">'x,y'</span>)  <span class="comment"># 定义一个tuple对象</span></span><br><span class="line">p = Point(<span class="number">1</span>, <span class="number">2</span>)  <span class="comment"># 给x赋值1，y赋值2</span></span><br><span class="line">print(p.x)  <span class="comment"># 1</span></span><br><span class="line">print(p.y)  <span class="comment"># 2</span></span><br><span class="line">print(p[<span class="number">0</span>])  <span class="comment"># 1</span></span><br><span class="line">print(p[<span class="number">1</span>])  <span class="comment"># 2</span></span><br><span class="line">print(p.x == p[<span class="number">0</span>])  <span class="comment"># True</span></span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><p>deque /dek/<br>list-like container with fast appends and pops on either end<br>类似列表(list)的容器，实现了在两端快速添加(append)和弹出(pop)<br>是为了高效实现插入和删除操作的双向列表，<br>deque可以方便实现 queue (队列 ) / stack (栈)。</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> collections</span><br><span class="line">de = collections.deque()  <span class="comment"># 定义deque对象</span></span><br><span class="line">print(de)  <span class="comment"># deque([])</span></span><br><span class="line">de.append(<span class="number">1</span>)  <span class="comment"># 右边添加1元素</span></span><br><span class="line">de.appendleft(<span class="number">0</span>)  <span class="comment"># 左边添加0元素</span></span><br><span class="line">print(de)  <span class="comment"># deque([0, 1])</span></span><br><span class="line">de.pop()  <span class="comment"># 1 输出右边元素</span></span><br><span class="line">de.popleft()  <span class="comment"># 0 输出左边元素</span></span><br><span class="line">print(de)  <span class="comment"># deque([])</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>Counter<br>dict subclass for counting hashable objects<br>字典的子类，提供了可哈希对象的计数功能，值是一个字典</p>
</li>
</ul>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> collections</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c = collections.Counter()   <span class="comment"># 定义Counter对象</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c = collections.Counter(<span class="string">'abcab'</span>) <span class="comment"># 统计字符数目</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c</span><br><span class="line">Counter({<span class="string">'a'</span>: <span class="number">2</span>, <span class="string">'b'</span>: <span class="number">2</span>, <span class="string">'c'</span>: <span class="number">1</span>})   <span class="comment"># 值是一个字典，a是有2个，b是有2个，c是有1个</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c[<span class="string">'a'</span>]  <span class="comment"># 统计字符串每个字符个数</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c.most_common() <span class="comment"># 获取从大到小每个字符数量</span></span><br><span class="line">[(<span class="string">'a'</span>, <span class="number">2</span>), (<span class="string">'b'</span>, <span class="number">2</span>), (<span class="string">'c'</span>, <span class="number">1</span>)]</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> ch <span class="keyword">in</span> <span class="string">'programming'</span>:</span><br><span class="line">      c[ch]=c[ch]+<span class="number">1</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c</span><br><span class="line">Counter({<span class="string">'g'</span>:<span class="number">2</span>,<span class="string">'m'</span><span class="number">2</span>,<span class="string">'r'</span>:<span class="number">2</span>,<span class="string">'a'</span>:<span class="number">1</span>,<span class="string">'i'</span>:<span class="number">1</span>,<span class="string">'o'</span>:<span class="number">1</span>,<span class="string">'n'</span>:<span class="number">1</span>,<span class="string">'p'</span>:<span class="number">1</span>})</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><p>OrderedDict<br>dict subclass that remembers the order entries were added<br>字典的子类，保存了他们被添加的顺序，key 顺序是第一次插入的顺序。</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> collections</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>od = collections.OrderedDict()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>od[<span class="string">'c'</span>] = <span class="string">'c'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>od[<span class="string">'a'</span>] = <span class="string">'a'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>od[<span class="string">'b'</span>] = <span class="string">'b'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list(od.keys())</span><br><span class="line">[<span class="string">'c'</span>, <span class="string">'a'</span>, <span class="string">'b'</span>]   <span class="comment"># key的顺序是第一次插入的顺序。</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>defaultdict<br>dict subclass that calls a factory function to supply missing values<br>defaultdict字典的子类，提供了一个工厂函数，为字典查询提供一个默认值</p>
</li>
</ul>
<figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> collections</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dd = collections.defaultdict(int) <span class="comment"># 第一个参数必须是可调用的，否则为None</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dd[<span class="string">'a'</span>]  <span class="comment"># 不存在的key默认为0</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dd[<span class="string">'b'</span>] += <span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dd</span><br><span class="line">defaultdict(&lt;class 'int'&gt;, {'a': 0, 'b': 1})</span><br></pre></td></tr></tbody></table></figure>

<h3 id="Python-dict-set-底层都是哈希表"><a href="#Python-dict-set-底层都是哈希表" class="headerlink" title="Python dict/set 底层都是哈希表"></a>Python dict/set 底层都是哈希表</h3><ul>
<li>哈希表的实现原理, 底层其实就是一个数组, 通过哈希函数把相应的元素映射到一个数组槽里面。</li>
<li>根据哈希函数快速定位一个元素，平均查找时间复杂度O(1)，查找和插入的速度极快，不会随着key的增加而变慢；二分查找</li>
<li>不断加入元素会引起哈希表重新开辟空间，拷贝之前元素到新数组，需要占用大量的内存，内存浪费多。</li>
<li>dict是用来存储键值对（key-value）结构的数据的，</li>
<li>set没有存储对应的value，其实也是存储的键值对，只是默认键和值是相同的,</li>
</ul>
<p>dict是python中的一个可变的数据类型，用{}表示，dict curly bracket 花括号<br>dict的key必须是不可变的数据类型对象，同一个字典中的键必须唯一，如果出现多个相同的键，则最新的键会被记住<br>而value的数据类型可以任意</p>
<p>新版哈希表结构：</p>
<figure class="highlight asciidoc"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Indices</span><br><span class="line">----------------------------------------------------</span><br><span class="line">None | index | None | None | index | None | index ...</span><br><span class="line">----------------------------------------------------</span><br><span class="line"></span><br><span class="line">Entries</span><br><span class="line">--------------------</span><br><span class="line">hash0   key0  value0</span><br><span class="line">---------------------</span><br><span class="line">hash1   key1  value1</span><br><span class="line">---------------------</span><br><span class="line">hash2   key2  value2</span><br><span class="line">---------------------</span><br><span class="line"><span class="code">        ...</span></span><br><span class="line">---------------------</span><br></pre></td></tr></tbody></table></figure>

<p>集合并不支持索引操作，因为集合本质上是一个哈希表，和列表不一样。所以，同样不可以放入可变对象，<br>因为无法判断两个可变对象是否相等，<br>也就无法保证set内部“不会有重复元素”。</p>
<p>dict根据key来计算value的存储位置，<br>如果每次计算相同的key得出的结果不同，那dict内部就完全混乱了。<br>这个通过key计算位置的算法称为哈希算法（Hash）</p>
<p>{0, 1, 2} set 无序，不能通过索引访问，不重复，用来去重<br>set() 创建一个空集合，<br>{}新建一个空字典<br>{} - {}求两个集合的差集，去掉相同的元素，以前面集合为标准，从一个集合里面去掉后面集合特有的元素<br>{} &amp; {}求两个集合的交集，找两个集合的公有元素<br>{} | {}求两个集合的并集，把两个集合合并在一起，按照从前往后的顺序，去掉相同的元素</p>
<ul>
<li>CPython解释器使用二次探查解决哈希冲突问题</li>
</ul>
<p>哈希冲突<br>当插入一个Entry&lt;k,v&gt;时，将key经过hash计算出的下标中已经存在另一个Entry&lt;k,v&gt;，这时就会产生哈希冲突。哈希冲突主要是是由于哈希函数产生的哈希值是有限的</p>
<p>解决哈希冲突的常用方法有</p>
<ul>
<li>链接法：元素key冲突之后使用一个链表填充相同key 的元素</li>
<li>开放寻址法(探查法) 又分为线性探查和二次探查等，冲突之后根据一种方式(二次探查)寻找下一个可用的槽。( 探查是一次还是二次看使用函数是一次还是二次的)，</li>
</ul>
<p>哈希扩容：HashMap的初始值是16（1,&lt;&lt;4）,负载因子0.75（听说这个值是经过大量实践算出来的，这个值设定最合理），初始值16指的是数组的长度（1&lt;&lt;4是2的4次方，这样写计算机执行更快），当数组的容量达到12（16*0.75）时，这时开始扩容，扩容为32（1&lt;&lt;5即2的5次方），每次扩容按照2的倍数递增，扩容是为了减少hash碰撞，让链表的数据更少（最好链表上就一个数据，即为数组的下标数据）</p>
<p>当前数据存储的数量（即size()）大小必须大于等于阈值；<br>当前加入的数据是否发生了hash冲突，满足这两个条件就会哈希扩容。</p>
<p>dict则为了快速查找使用了一种特别的方法，哈希表，<br>采用哈希函数从key计算得到一个数字<br>（哈希函数有个特点：对于不同的key，有很大的概率得到的哈希值也不同），<br>然后直接把value存储到这个数字所对应的地址上，<br>比如key=’ABC’，value=10，经过哈希函数得到key对应的哈希值为123，<br>那么就申请一个有1000个地址（从0到999）的内存，<br>然后把10存放在地址为123的地方。<br>对于key=’BCD’，value=20，得到key的哈希值为234，<br>那么就把20存放在地址为234的地方。<br>对于这样的表查找起来是非常方便的。只要给出key，计算得到哈希值，<br>然后直接到对应的地址去找value就可以了。<br>无论有几个元素，都可以直接找到value，无需遍历整个表。<br>不过虽然dict查找速度快，但内存浪费严重，你看我们只存储了两个元素，都要申请一个长度为1000的内存。<br>3.现在你知道为啥key要用不可变对象了吧？因为不可变对象是常量，每次的哈希值算出来都是固定的，这样就不会出错。比如key=’ABC’，value=10，存储地址为123，假设我突发奇想，把key改成’BCD’，那么当查找’BCD’的value的时候就会去234的地址找，但那里啥也没有，这就乱套了。</p>
<blockquote>
<p>Dictionary key 必须是不可变的</p>
</blockquote>
<h3 id="Python中list-tuple区别"><a href="#Python中list-tuple区别" class="headerlink" title="Python中list/tuple区别"></a>Python中list/tuple区别</h3><ul>
<li><p>都是线性结构、支持下标访问</p>
</li>
<li><p>list是可变对象，查找和删除的时间复杂度是O(n)，添加的时间复杂度是O(1)<br>没有办法作为字典的key，因为list有可能因为添加新的元素而导致内存地址的更换<br>list既可以当栈、也可以当队列，通过数组实现，而不是链表；<br>因此，每当执行 insert(0, val) 操作时，<br>需要将元素都向后移动一位才可插入，复杂度 O(N) ；<br>这和insert方法不同，是根据索引值来判断插入到链表的哪个位置。</p>
</li>
<li><p>tuple是保存的引用不可变，你没法替换这个对象，但是如果它本身就是一个可变对象，是可以修改这个引用指向的可变对象，比如tuple中包容可变对象，如果tuple里面保存一个list，list本身还是可变的。 parenthese 圆括号，有序的 不变的顺序表<br>可以作为字典的key，可以用在字符串格式化中。</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">print((), type(()))</span><br><span class="line"><span class="comment"># () &lt;class 'tuple'&gt; 空元组</span></span><br><span class="line">print((<span class="number">3</span>), type((<span class="number">3</span>)))</span><br><span class="line"><span class="comment"># 3 &lt;class 'int'&gt;</span></span><br><span class="line">print((<span class="number">3</span>, ), type((<span class="number">3</span>,)))</span><br><span class="line"><span class="comment"># (3,) &lt;class 'tuple'&gt; 只有一个元组元素后面要加逗号</span></span><br></pre></td></tr></tbody></table></figure>

</li>
</ul>
<p>1.list和tuple其实是用链表顺序存储的，也就是前一个元素中存储了下一个元素的位置，这样只要找到第一个元素的位置就可以顺藤摸瓜找到所有元素的位置，所以list的名字其实就是个指针，指向list的第一个元素的位置。list的插入和删除等可以直接用链表的方式进行，比如我要在第1个元素和第2个元素中间插入一个元素，那么直接在链表的最后面（我们假设这个list只有两个元素，那么也就是在第3个元素的位置上）插入这个元素，然后把第一个元素指针指向这个元素（第3个位置），然后再把新插入的元素的指针指向原来的第2个元素，这样插入操作就完成了。读取这个list的时候，先用list的名字（就是个指针，指向第1个元素的位置）找到第一个元素，然后用第1一个元素的指针找到第2个元素（位置3），然后用第2个元素的指针找到第3个元素（位置2），以此类推。所以list的顺序和内存中的实际顺序其实不一定完全对应。这种存储方式占用空间小，浪费内存很少。<br>因为要按照链表一个一个找下去，查找和插入的时间随着元素的增加而增加；</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">s = set([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">print(s)  <span class="comment"># {1, 2, 3}   </span></span><br><span class="line">s.add(<span class="number">4</span>)</span><br><span class="line">print(s)  <span class="comment"># {1, 2, 3, 4}</span></span><br><span class="line">s.remove(<span class="number">4</span>)</span><br><span class="line">print(s)  <span class="comment"># {1, 2, 3}   </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">t = ([<span class="number">1</span>], <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">print(t[<span class="number">0</span>])  <span class="comment"># [1]</span></span><br><span class="line">t[<span class="number">0</span>].append(<span class="number">1</span>)</span><br><span class="line">print(t)</span><br><span class="line"><span class="comment"># ([1, 1], 2, 3)  # 第一个列表对象元素虽然改变，但它依然是这个列表对象</span></span><br><span class="line"></span><br><span class="line">print(t[<span class="number">2</span>])  <span class="comment"># 3，不可变对象</span></span><br><span class="line">t[<span class="number">2</span>] = <span class="number">3</span>  <span class="comment"># TypeError: 'tuple' object does not support item assignment</span></span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">t = (<span class="number">1</span>, <span class="string">'23'</span>, [<span class="number">123</span>, <span class="string">'abc'</span>], (<span class="string">'python'</span>, <span class="string">'learn'</span>))</span><br><span class="line">tls = list(t)  <span class="comment">#tuple--&gt;list</span></span><br><span class="line">print(tls)</span><br><span class="line"><span class="comment"># [1, '23', [123, 'abc'], ('python', 'learn')]</span></span><br><span class="line"></span><br><span class="line">t_tuple = tuple(tls)  <span class="comment">#list--&gt;tuple</span></span><br><span class="line">print(t_tuple)</span><br><span class="line"><span class="comment"># (1, '23', [123, 'abc'], ('python', 'learn'))</span></span><br></pre></td></tr></tbody></table></figure>

<p>常用函数<br>list<br><code>min(list_name)</code> <code>max(list_name)</code> <code>sum(list_name)</code><br><code>len(list_name)</code></p>
<p><code>list.index(x[, start[, end]])</code><br>从列表中找出某个值第一个匹配项的索引位置。<br>x– 查找的对象。<br>start– 可选，查找的起始位置。<br>end– 可选，查找的结束位置。<br>返回：查找对象的索引位置，如果没有找到对象则抛出异常。</p>
<figure class="highlight plain"><figcaption><span>start, end)```返回开始的索引值，没找到则抛出异常。</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```py</span><br><span class="line">list1 = ['Google', 'Runoob', 'Taobao']</span><br><span class="line">print('Google 索引值为', list1.index('Google'))</span><br><span class="line"># Google 索引值为 0</span><br><span class="line">print('Runoob 索引值为', list1.index('Runoob'))</span><br><span class="line"># Runoob 索引值为 1</span><br><span class="line"></span><br><span class="line">print('Taobao 索引值为', list1.index('Taobao'))</span><br><span class="line"># Taobao 索引值为 2</span><br><span class="line"></span><br><span class="line"># 从指定位置开始搜索</span><br><span class="line">print('Runoob 索引值为', list1.index('Runoob', 1))</span><br><span class="line"># Runoob 索引值为 1</span><br><span class="line"># print('Runoob 索引值为', list1.index('Runoob', 2))</span><br><span class="line"># ValueError: 'Runoob' is not in list</span><br><span class="line"></span><br><span class="line">list1 = ['Google', 'Runoob', 'Taobao']</span><br><span class="line">list2 = ['Runoob', 'Taobao', 'Google']</span><br><span class="line">dic = {}</span><br><span class="line">for i in range(len(list2)):</span><br><span class="line">    dic[list2[i]] = i</span><br><span class="line">    print(dic)</span><br><span class="line"># {'Runoob': 0}</span><br><span class="line"># {'Runoob': 0, 'Taobao': 1}</span><br><span class="line"># {'Runoob': 0, 'Taobao': 1, 'Google': 2}</span><br><span class="line"># {'Runoob': 0, 'Taobao': 1, 'Google': 2}</span><br><span class="line"></span><br><span class="line">print(list1[0])  # Google</span><br><span class="line">i = dic[list1[0]]</span><br><span class="line">print(i)  # 2</span><br><span class="line"></span><br><span class="line">x = dict()</span><br><span class="line">print(x)  # {}</span><br><span class="line"></span><br><span class="line">dict2 = {val: idx for idx, val in enumerate(list2)}</span><br><span class="line">print(dict2)</span><br><span class="line"># {'Runoob': 0, 'Taobao': 1, 'Google': 2}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight plain"><figcaption><span>根据值移除元素</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">```del a[索引号]```</span><br><span class="line">```list.pop([index=-1])```移除列表中指定索引号一个元素（默认最后一个元素），并且返回该元素的值。</span><br><span class="line">```python</span><br><span class="line">list1 = ['Google', 'Runoob', 'Taobao', "Yahoo"]</span><br><span class="line">list1.pop()  # 括号里没有参数，表示删除list数组中最后一个元素</span><br><span class="line">print("列表现在为 : ", list1)</span><br><span class="line"># 列表现在为 :  ['Google', 'Runoob', 'Taobao']</span><br><span class="line">list_pop = list1.pop(1)</span><br><span class="line">print("删除的项为 :", list_pop)</span><br><span class="line"># 删除的项为 : Runoob</span><br><span class="line">print("列表现在为 : ", list1)</span><br><span class="line"># 列表现在为 :  ['Google', 'Taobao']</span><br><span class="line">print("删除的项为 :", list1.pop(0), "，列表现在为 : ", list1)</span><br><span class="line"># 删除的项为 : Google ，列表现在为 :  ['Taobao']</span><br></pre></td></tr></tbody></table></figure>

<p><code> .sort(key=lambda x: x[0], reverse=True)</code><br><code> .sort(key=lambda x:(-x[1],x[0],x[2]))</code><br><code> .sort(key=lambda x:(-x[1],x[0],x[2]))</code><br>默认是升序，加个符号变降序，可做多级排序。</p>
<figure class="highlight plain"><figcaption><span>不在本地做排序</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```.reverse()```函数用于反向列表中元素。不能将字符串反转。</span><br><span class="line">```.reversed()```函数是返回序列seq的反向访问的迭代子。参数可以是列表，元组，字符串</span><br><span class="line"></span><br><span class="line">```py</span><br><span class="line"># 组织列表 sort() 永久性排序 abcde正向或逆向顺序排序</span><br><span class="line">che = ["motuo", "qiche", "zixingche", 'huoche']</span><br><span class="line"></span><br><span class="line"># 倒着打印列表  永久性的修改顺序 也可以随时改回来</span><br><span class="line">che = ["motuo", "qiche", "zixingche", 'huoche']</span><br><span class="line"># 倒着打印</span><br><span class="line">che.reverse()</span><br><span class="line">print(che)</span><br><span class="line"># ['huoche', 'zixingche', 'qiche', 'motuo']</span><br><span class="line"># 再次倒着改回</span><br><span class="line">che.reverse()</span><br><span class="line">print(che)</span><br><span class="line"># ['motuo', 'qiche', 'zixingche', 'huoche']</span><br><span class="line"></span><br><span class="line"># "iloveChina".reverse()  # 直接将字符串用reverse异常，reverse适用于list(列表)</span><br><span class="line">a= "ilovechina"[::-1] </span><br><span class="line">print(a)</span><br><span class="line">b = ''.join(reversed('ilovechina'))</span><br><span class="line">print(b)</span><br></pre></td></tr></tbody></table></figure>

<p>元素 in list_name<br><code>.append</code><br><code>.insert(序号，内容)</code><br>函数参数是可以是任意一个元素，<br>作用是在列表的最后添加上这个新元素。</p>
<p>变量<br><code>float(‘inf’)</code></p>
<p>字典</p>
<figure class="highlight plain"><figcaption><span>查询字典的键</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">```.values()``` 查询字典的值</span><br><span class="line">```.items()``` 返回的是元组</span><br><span class="line"></span><br><span class="line">```dict.get(key, default=None)``` 查询某个键是否存在，</span><br><span class="line">key -- 字典中要查找的键。</span><br><span class="line">default -- 如果指定键的值不存在时，返回该默认值。</span><br><span class="line">返回指定键的值，如果值不在字典中或不存在此键，返回默认值None。</span><br><span class="line">可以在get()方法中添加信息避免出现None</span><br><span class="line"></span><br><span class="line">```py</span><br><span class="line"># 字典的查询</span><br><span class="line">dict1 = {'name': 'Ashe', 'age': 18, 'male': '男'}</span><br><span class="line">print(dict1.keys())  # dict_keys(['name', 'age', 'male'])</span><br><span class="line">print(dict1.values())  # dict_values(['Ashe', 18, '男'])</span><br><span class="line">print(dict1.items())  </span><br><span class="line"># dict_items([('name', 'Ashe'), ('age', 18), ('male', '男')])</span><br><span class="line"></span><br><span class="line"># 判断key是否在字典里</span><br><span class="line">print('name' in dict1)  # True，效率高</span><br><span class="line">print('name' in dict1.keys())  # True 效率低，要先生成遍历字典的所有内容一个列表，这样字典的优势就没有了</span><br><span class="line"></span><br><span class="line"># 打印dict1的键</span><br><span class="line">for i in dict1.keys():</span><br><span class="line">    print(i)</span><br><span class="line">    # name</span><br><span class="line">    # age</span><br><span class="line">    # male</span><br><span class="line"></span><br><span class="line"># 打印dict的值</span><br><span class="line">for v in dict1.values():</span><br><span class="line">    print(v)  #Ashe 18 男</span><br><span class="line">    # Ashe</span><br><span class="line">    # 18</span><br><span class="line">    # 男</span><br></pre></td></tr></tbody></table></figure>

<p>打印字典的键值：</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">dict1 = {<span class="string">'name'</span>: <span class="string">'Ashe'</span>, <span class="string">'age'</span>: <span class="number">18</span>, <span class="string">'male'</span>: <span class="string">'男'</span>}</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> dict1.items():</span><br><span class="line">    print(i)</span><br><span class="line">    <span class="comment"># ('name', 'Ashe')</span></span><br><span class="line">    <span class="comment"># ('age', 18)</span></span><br><span class="line">    <span class="comment"># 'male', '男')</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> dict1.items():</span><br><span class="line">    print(k, v)</span><br><span class="line">    <span class="comment"># name Ashe</span></span><br><span class="line">    <span class="comment"># age 18</span></span><br><span class="line">    <span class="comment"># male 男</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">dict1 = {<span class="string">'name'</span>: <span class="string">'Ashe'</span>, <span class="string">'age'</span>: <span class="number">18</span>, <span class="string">'male'</span>: <span class="string">'男'</span>}</span><br><span class="line">print(dict1.get(<span class="string">'name'</span>))  <span class="comment"># Ashe</span></span><br><span class="line">print(dict1.get(<span class="string">'address'</span>))  <span class="comment"># None</span></span><br><span class="line">print(dict1.get(<span class="string">'address'</span>, <span class="string">'没有此键'</span>))  <span class="comment"># 没有此键</span></span><br><span class="line">print(dict1.get(<span class="string">'name'</span>, <span class="string">'age'</span>))  <span class="comment"># Ashe</span></span><br><span class="line">print(dict1.get(<span class="string">'age'</span>, <span class="string">'name'</span>))  <span class="comment"># 18</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">a = {<span class="string">'x'</span>: <span class="number">1</span>}</span><br><span class="line">print(a[<span class="string">'x'</span>])  <span class="comment"># 1</span></span><br><span class="line"><span class="comment"># print(a[1]) # KeyError:1</span></span><br><span class="line">b = {(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>): <span class="string">'test'</span>}</span><br><span class="line">print(b[(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)])  <span class="comment"># test</span></span><br><span class="line"><span class="comment"># c = {[1, 2, 3]: 'test'}</span></span><br><span class="line"><span class="comment"># print(c[[1, 2, 3]])  # TypeError: unhashable type: 'list'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(a.keys())  <span class="comment"># dict_keys(['x'])</span></span><br><span class="line">print(a.values())  <span class="comment"># dict_values([1])</span></span><br><span class="line">print(b.keys())  <span class="comment"># dict_keys([(1, 2, 3)])</span></span><br><span class="line">print(b.values())  <span class="comment"># dict_values(['test'])</span></span><br><span class="line"></span><br><span class="line">print(a.get(<span class="string">'x'</span>))  <span class="comment"># 1</span></span><br><span class="line">print(a.get(<span class="string">'x'</span>, <span class="number">4</span>))  <span class="comment"># 1 指定的键的值不存在，返回默认值</span></span><br><span class="line">print(a.get(<span class="number">4</span>))  <span class="comment"># None 指定的键的值不存在，返回默认值None</span></span><br><span class="line"></span><br><span class="line">print(b.get((<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)))  <span class="comment"># test</span></span><br><span class="line">print(b.get(<span class="string">'y'</span>))  <span class="comment"># None，指定键的值不存在时，返回该默认值None。</span></span><br><span class="line">print(b.get(<span class="string">'y'</span>, <span class="number">2</span>))  <span class="comment"># 2，如果指定键的值不存在时，返回该默认值2。</span></span><br></pre></td></tr></tbody></table></figure>

<p>dict有两种增加的方法<br>如果没有的键值对，则进行添加，如果有，则将值进行覆盖</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">dict1={<span class="string">'name'</span>:<span class="string">'Ashe'</span>,<span class="string">'age'</span>:<span class="number">18</span>,<span class="string">'male'</span>:<span class="string">'男'</span>}</span><br><span class="line">print(dict1)</span><br><span class="line">dict1[<span class="string">'high'</span>]=<span class="number">185</span></span><br><span class="line">print(dict1)  <span class="comment"># {'name': 'Ashe', 'age': 18, 'male': '男', 'high': 185}</span></span><br><span class="line">dict1[<span class="string">'age'</span>]=<span class="number">16</span></span><br><span class="line">print(dict1) <span class="comment">#  {'name': 'Ashe', 'age': 16, 'male': '男', 'high': 185}</span></span><br></pre></td></tr></tbody></table></figure>

<p>如果有键值对，不做任何改变，没有键值对，才进行添加</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">dict1 = {<span class="string">'name'</span>: <span class="string">'Ashe'</span>, <span class="string">'age'</span>: <span class="number">18</span>, <span class="string">'male'</span>: <span class="string">'男'</span>}</span><br><span class="line">dict1.setdefault(<span class="string">"weight"</span>)</span><br><span class="line">print(dict1)</span><br><span class="line"><span class="comment"># {'name': 'Ashe', 'age': 16, 'male': '男', 'high': 185, 'weight': None}</span></span><br><span class="line">dict1.setdefault(<span class="string">'weight'</span>, <span class="string">'65kg'</span>)</span><br><span class="line">print(dict1)</span><br><span class="line"><span class="comment"># {'name': 'Ashe', 'age': 16, 'male': '男', 'high': 185, 'weight': None}</span></span><br><span class="line">dict1.setdefault(<span class="string">'address'</span>, <span class="string">'北京'</span>)</span><br><span class="line">print(dict1)</span><br><span class="line"><span class="comment"># {'name': 'Ashe', 'age': 16, 'male': '男', 'high': 185, 'weight': None, 'address': '北京'}</span></span><br><span class="line">dict1.setdefault(<span class="string">'address'</span>, <span class="string">'桂林'</span>)</span><br><span class="line">print(dict1)</span><br><span class="line"><span class="comment"># {'name': 'Ashe', 'age': 16, 'male': '男', 'high': 185, 'weight': None, 'address': '北京'}</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">```py</span><br><span class="line">delDict={'name': 'Ashe', 'age': 16, 'male': '男', 'high': 185, 'weight': None, 'address': '北京'}</span><br><span class="line">print(delDict.pop('age'))  # 16</span><br><span class="line">print(delDict)  #{'name': 'Ashe', 'male': '男', 'high': 185, 'weight': None, 'address': '北京'}</span><br><span class="line">print(delDict.pop('职业','没有此键'))  #没有此键</span><br><span class="line"></span><br><span class="line">del a['x']  # 删除key</span><br><span class="line">print(a['y'])  # 2</span><br></pre></td></tr></tbody></table></figure>

<p><code>pop(key[,default])</code><br>删除字典给定键 key 所对应的值，返回值为被删除的值。<br>key: 要删除的键值<br>default: 如果没有 key，返回 default 值</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">site = {<span class="string">'name'</span>: <span class="string">'菜鸟教程'</span>, <span class="string">'alexa'</span>: <span class="number">10000</span>, <span class="string">'url'</span>: <span class="string">'www.runoob.com'</span>}</span><br><span class="line">pop_obj = site.pop(<span class="string">'name'</span>)</span><br><span class="line">print(pop_obj)  <span class="comment"># 菜鸟教程</span></span><br><span class="line"></span><br><span class="line">dict1 = {<span class="number">1</span>: <span class="string">"a"</span>, <span class="number">2</span>: [<span class="number">1</span>, <span class="number">2</span>]}</span><br><span class="line">print(dict1.pop(<span class="number">1</span>), dict1)</span><br><span class="line"><span class="comment"># a {2: [1, 2]}</span></span><br><span class="line">print(dict1.pop(<span class="number">3</span>, <span class="string">"nokey"</span>), dict1)  <span class="comment"># 设置默认值，必须添加，否则报错</span></span><br><span class="line"><span class="comment"># nokey {2: [1, 2]}</span></span><br><span class="line">print(dict1.pop(<span class="number">3</span>), dict1)  <span class="comment"># 没用设置默认值，报错</span></span><br><span class="line"><span class="comment"># Traceback (most recent call last):</span></span><br><span class="line"><span class="comment">#   print(dict1.pop(3), dict1)</span></span><br><span class="line"><span class="comment"># KeyError: 3</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">```py</span><br><span class="line">delDict = {</span><br><span class="line">    'name': 'Ashe',</span><br><span class="line">    'age': 16,</span><br><span class="line">    'male': '男',</span><br><span class="line">    'high': 185,</span><br><span class="line">    'weight': None,</span><br><span class="line">    'address': '北京'</span><br><span class="line">}</span><br><span class="line">print(delDict.pop('age'))  # 16</span><br><span class="line">print(delDict)</span><br><span class="line"># {'name': 'Ashe', 'male': '男', 'high': 185, 'weight': None, 'address': '北京'}</span><br><span class="line">print(delDict.pop('职业', '没有此键'))  # 没有此键</span><br><span class="line"></span><br><span class="line">print(delDict.popitem())  </span><br><span class="line"># ('address', '北京') 随机删除，返回值是删除的键值对</span><br><span class="line">print(delDict)  </span><br><span class="line"># {'name': 'Ashe', 'male': '男', 'high': 185, 'weight': None}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">```py</span><br><span class="line">delDict = {'name': 'Ashe', 'male': '男', 'high': 185, 'weight': None}</span><br><span class="line">del delDict['name']</span><br><span class="line">print(delDict)  # {'male': '男', 'high': 185, 'weight': None}</span><br><span class="line"></span><br><span class="line"># 使用del清空列表</span><br><span class="line">del delDict</span><br><span class="line">print(delDict)  # NameError: name 'delDict' is not defined</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">```py</span><br><span class="line">delDict = {'name': 'Ashe', 'male': '男', 'high': 185, 'weight': None}</span><br><span class="line">print(delDict.clear())  # None</span><br><span class="line">print(delDict)  # {}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 修改字典</span></span><br><span class="line">x = {<span class="string">'a'</span>: <span class="number">1</span>, <span class="string">'b'</span>: <span class="number">2</span>}</span><br><span class="line">y = {<span class="string">'c'</span>: <span class="number">3</span>, <span class="string">'d'</span>: <span class="number">4</span>}</span><br><span class="line">x.update(y)  <span class="comment"># 这里注意我是直接改变的x变量，具体根据程序逻辑来定，可以用其它变量接受。</span></span><br><span class="line">print(x)  <span class="comment"># {'a': 1, 'b': 2, 'c': 3, 'd': 4}</span></span><br><span class="line"></span><br><span class="line">x = {<span class="string">'a'</span>: <span class="number">1</span>, <span class="string">'b'</span>: <span class="number">2</span>}</span><br><span class="line">y = {<span class="string">'a'</span>: <span class="number">3</span>, <span class="string">'d'</span>: <span class="number">4</span>}</span><br><span class="line">x.update(y)  <span class="comment"># 这里注意我是直接改变的x变量，具体根据程序逻辑来定，可以用其它变量接受。</span></span><br><span class="line">print(x)  <span class="comment"># {'a': 3, 'b': 2, 'd': 4}</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 字典合并的方法</span></span><br><span class="line">print(<span class="string">'===='</span>)</span><br><span class="line">x = {<span class="string">'a'</span>: <span class="number">1</span>, <span class="string">'b'</span>: <span class="number">2</span>}</span><br><span class="line">y = {<span class="string">'c'</span>: <span class="number">3</span>, <span class="string">'d'</span>: <span class="number">4</span>}</span><br><span class="line"><span class="comment"># 法一</span></span><br><span class="line">z = {}</span><br><span class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> x.items():</span><br><span class="line">    z[k] = v</span><br><span class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> y.items():</span><br><span class="line">    z[k] = v</span><br><span class="line">print(z)</span><br><span class="line"><span class="comment"># {'a': 1, 'b': 2, 'c': 3, 'd': 4}</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 法二</span></span><br><span class="line">q = {**x, **y}</span><br><span class="line">print(q)</span><br><span class="line"></span><br><span class="line">print(<span class="string">'^^^^^^^'</span>)</span><br><span class="line">a = {<span class="string">"A"</span>: <span class="number">1</span>, <span class="string">"B"</span>: <span class="number">2</span>}</span><br><span class="line">b = {<span class="string">"A"</span>: <span class="number">3</span>, <span class="string">"D"</span>: <span class="number">4</span>}</span><br><span class="line"></span><br><span class="line">print({**a, **b})</span><br><span class="line"><span class="comment"># {'A': 3, 'B': 2, 'D': 4}  # 这里取的是b中的A，即b覆盖了a</span></span><br><span class="line">print(<span class="string">'-----'</span>)</span><br><span class="line">print(dict(a, **b))</span><br><span class="line"><span class="comment"># {'A': 3, 'B': 2, 'D': 4}</span></span><br></pre></td></tr></tbody></table></figure>


<p>字符串</p>
<figure class="highlight plain"><figcaption><span>beg</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">```py</span><br><span class="line">str = "this is string example....wow!!!"</span><br><span class="line">print(str.startswith('this'))  </span><br><span class="line"># True 字符串是否以 this 开头</span><br><span class="line">print(str.startswith('string', 8))  </span><br><span class="line"># True 从第九个字符开始的字符串是否以 string 开头</span><br><span class="line">print(str.startswith('this', 2, 4))  </span><br><span class="line"># False 从第2个字符开始到第四个字符结束的字符串是否以 this 开头</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight plain"><figcaption><span>beg</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">beg -- 开始索引，默认为0。</span><br><span class="line">```py</span><br><span class="line">info = 'abca'</span><br><span class="line">print(info.find('a'))  # 0 从下标0开始，查找在字符串里第一个出现的子串</span><br><span class="line">print(info.find('a', 1))  # 3 从下标1开始，查找在字符串里第一个出现的子串</span><br><span class="line">print(info.find('3'))  # -1 查找不到</span><br><span class="line"></span><br><span class="line">str1 = "Runoob example....wow!!!"</span><br><span class="line">str2 = "exam"</span><br><span class="line"></span><br><span class="line">print(str1.find(str2))  # 7</span><br><span class="line">print(str1.find(str2, 5))  # 7  第2个参数5，表示从素引5的位置开始往后查找</span><br><span class="line">print(str1.find(str2, 10))  # -1</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight plain"><figcaption><span>方法用于截掉字符串左边的空格或指定字符。</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">```str.rstrip([chars])``` 方法用于截掉字符串右边的空格或指定字符。</span><br><span class="line"></span><br><span class="line">从左到右移除字符串的指定字符，</span><br><span class="line">```.strip()```无字符集参数或为 None 时 去除首位空格</span><br><span class="line">匹配时不是按照整个字符串匹配的，而是一个个匹配的。</span><br><span class="line">移除所有属于字符集子串的字符一旦不属于则停止移除并返回字符串副本。</span><br><span class="line"></span><br><span class="line">chars --指定截取的字符。</span><br><span class="line">返回截掉字符串左边的空格或指定字符后生成的新字符串。</span><br><span class="line"></span><br><span class="line">```.strip().strip(‘-a’)```去除首位空格和字符</span><br><span class="line"></span><br><span class="line">```py</span><br><span class="line">str = "     this is string example....wow!!!     "</span><br><span class="line">print(str.lstrip())</span><br><span class="line"># this is string example....wow!!!</span><br><span class="line"></span><br><span class="line">str = "88888888this is string example....wow!!!8888888"</span><br><span class="line">print(str.lstrip('8'))</span><br><span class="line"># this is string example....wow!!!8888888</span><br><span class="line"></span><br><span class="line">print('www.example.com'.lstrip('we.'))</span><br><span class="line"># xample.com</span><br><span class="line">print('www.example.com'.lstrip('we'))</span><br><span class="line"># '.example.com'</span><br><span class="line"></span><br><span class="line">print('www.example.com'.lstrip('e'))</span><br><span class="line"># 'www.example.com'</span><br><span class="line"></span><br><span class="line">print('www.example.com'.lstrip('cmowz.'))</span><br><span class="line"># 'example.com'</span><br><span class="line"></span><br><span class="line">print('www.example.com'.lstrip('cmoz.'))</span><br><span class="line"># 'www.example.com'</span><br><span class="line"></span><br><span class="line">message = "\tpython xue xi\t"</span><br><span class="line"># 每个单词的首字母大写的写法</span><br><span class="line">print(message.title())</span><br><span class="line"># 单词全部大写的写法</span><br><span class="line">print(message.upper())  </span><br><span class="line"># 单词全部小写的写法</span><br><span class="line">print(message.lower())  </span><br><span class="line"># 去除字符串前面的空白</span><br><span class="line">print(message.lstrip())</span><br><span class="line"># 去除字符串后面的空白</span><br><span class="line">print(message.rstrip())</span><br><span class="line"># 去除字符串两边的空白</span><br><span class="line">print(message.strip())</span><br><span class="line">#         Python Xue Xi</span><br><span class="line">#         PYTHON XUE XI</span><br><span class="line">#         python xue xi</span><br><span class="line"># python xue xi        </span><br><span class="line">#         python xue xi</span><br><span class="line"># python xue xi    </span><br></pre></td></tr></tbody></table></figure>

<p>S[:3]+S[5:] 拼接字符串，去除某个字符</p>
<figure class="highlight plain"><figcaption><span>替换字符</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```re.sub(‘a’,’b’,s)``` 替换字符</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">```ord(a)```它以一个字符（长度为1）作为参数，返回对应的 ASCII 数值(返回值是对应的十进制整数)，或者 Unicode 数值，</span><br><span class="line">如果所给的 Unicode 字符超出了你的 Python 定义范围，则会引发一个 TypeError 的异常。</span><br><span class="line">因为python里不像C++那样两个字符相减可以求出ASCII数值差</span><br><span class="line"></span><br><span class="line">```chr(a)``` 函数（对于8位的ASCII字符串）或 unichr() 函数（对于Unicode对象）的配对函数 是ord的逆过程，将ASCII值转化成该编码对应的字符</span><br><span class="line"></span><br><span class="line">```py</span><br><span class="line">print(ord(' '), type(ord(' ')))  # 32 &lt;class 'int'&gt; 空格的ascii码</span><br><span class="line">print(ord('0'))  # 48</span><br><span class="line">print(ord('1'))  # 49</span><br><span class="line">print(ord('2'))  # 50</span><br><span class="line">print(ord('2'), type(ord('2')))  # 50  &lt;class 'int'&gt;</span><br><span class="line">print(ord('3'))  # 51</span><br><span class="line"># print(ord('10')) TypeError: ord() expected a character, but string of length 2 found</span><br><span class="line">print(ord('A'))  # 65</span><br><span class="line">print(ord('B'))  # 66</span><br><span class="line">print(ord('C'))  # 67</span><br><span class="line">print(ord('a'))  # 97</span><br><span class="line">print(ord('b'))  # 98</span><br><span class="line">print(ord('c'))  # 99</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">print(chr(<span class="number">32</span>))  <span class="comment"># 空格</span></span><br><span class="line">print(chr(<span class="number">50</span>), type(chr(<span class="number">50</span>)))  <span class="comment"># 2  &lt;class 'str'&gt;</span></span><br><span class="line">print(chr(<span class="number">65</span>))  <span class="comment"># A</span></span><br><span class="line">print(chr(<span class="number">97</span>))  <span class="comment"># a</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight plain"><figcaption><span>方法返回"标题化"的字符串，就是说所有单词的首个字母转化为大写，其余字母均为小写</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">返回"标题化"的字符串,就是说所有单词的首字母都转化为大写。</span><br><span class="line"></span><br><span class="line">```py</span><br><span class="line">str = "this is string example from runoob....wow!!!"</span><br><span class="line">print(str.title())</span><br><span class="line"># This Is String Example From Runoob....Wow!!! </span><br></pre></td></tr></tbody></table></figure>

<p>非字母后的第一个字母将转换为大写字母：</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">txt = <span class="string">"hello b2b2b2 and 3g3g3g"</span></span><br><span class="line">print(txt.title())  <span class="comment"># Hello B2B2B2 And 3G3G3G</span></span><br></pre></td></tr></tbody></table></figure>

<p><code>str.split(str="", num=string.count(str))</code><br>通过指定分隔符对字符串进行切片，不是对列表对象切片<br>返回分割后的字符串列表。<br>如果第二个参数 num 有指定值，则分割为 num+1 个子字符串。<br>str – 分隔符，默认为所有的空字符，包括空格、换行(\n)、制表符(\t)等。<br>num – 分割次数。默认为 -1, 即分隔所有。</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">"http://www.baidu.com/python/image/123456.jpg"</span></span><br><span class="line">print(url.split())  <span class="comment"># 以空格为分隔符</span></span><br><span class="line"><span class="comment"># ['http://www.baidu.com/python/image/123456.jpg']</span></span><br><span class="line">print(url.split(<span class="string">"/"</span>))  <span class="comment"># 以“/” 进行分隔</span></span><br><span class="line"><span class="comment"># ['http:', '', 'www.baidu.com', 'python', 'image', '123456.jpg']</span></span><br><span class="line">print(url.split(<span class="string">'/'</span>, <span class="number">1</span>))  <span class="comment"># 以 / 为分隔符，分割为2个字符串列表</span></span><br><span class="line"><span class="comment"># ['http:', '/www.baidu.com/python/image/123456.jpg']</span></span><br><span class="line">print(url.split(<span class="string">"/"</span>)[<span class="number">-1</span>])  <span class="comment"># 分隔符分割后列表最后一个元素(字符串类型），图片名称的获取</span></span><br><span class="line"><span class="comment"># 123456.jpg</span></span><br><span class="line">print(url.split(<span class="string">"/"</span>)[<span class="number">0</span>])  <span class="comment"># 分隔符分割后列表第一个元素(字符串类型）</span></span><br><span class="line"><span class="comment"># http:</span></span><br><span class="line">print(url[<span class="number">1</span>:<span class="number">-1</span>], type(url[<span class="number">1</span>:<span class="number">-1</span>]))  <span class="comment"># 切片，去除第一个和最后一个元素</span></span><br><span class="line"><span class="comment"># ttp://www.baidu.com/python/image/123456.jp &lt;class 'str'&gt;</span></span><br><span class="line">print(url[<span class="number">1</span>:<span class="number">-1</span>].split(<span class="string">"/"</span>)[<span class="number">0</span>])  <span class="comment"># 列表第一个元素(字符串类型）</span></span><br><span class="line"><span class="comment"># ttp:</span></span><br><span class="line"></span><br><span class="line">url = <span class="string">"[http://www.baidu.com/python/image/123456.jpg]"</span></span><br><span class="line">print(url[:], type(url[:]))</span><br><span class="line"><span class="comment"># [http://www.baidu.com/python/image/123456.jpg] &lt;class 'str'&gt;</span></span><br><span class="line">print(url[:].split(<span class="string">"/"</span>)[<span class="number">0</span>])  <span class="comment"># 列表第一个元素(字符串类型）</span></span><br><span class="line"><span class="comment"># [http:</span></span><br><span class="line"></span><br><span class="line">data = <span class="string">'[1, 2, 3, null, 4, 5, null]'</span></span><br><span class="line">print(data[<span class="number">1</span>:<span class="number">-1</span>], type(data[<span class="number">1</span>:<span class="number">-1</span>]))</span><br><span class="line"><span class="comment"># 1, 2, 3, null, 4, 5, null &lt;class 'str'&gt;</span></span><br><span class="line">print(data[<span class="number">1</span>:<span class="number">-1</span>].split(<span class="string">','</span>), type(data[<span class="number">1</span>:<span class="number">-1</span>].split(<span class="string">','</span>)))</span><br><span class="line"><span class="comment"># ['1', ' 2', ' 3', ' null', ' 4', ' 5', ' null'] &lt;class 'list'&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p><code>str.splitlines([keepends])</code><br>按照行(‘\r’, ‘\r\n’, \n’)分隔，返回一个包含各行作为元素的列表，<br>keepends – 在输出结果里是否去掉换行符(‘\r’, ‘\r\n’, \n’)，<br>默认为 <code>False</code>，不包含换行符，<br>如果为 <code>True</code>，则保留换行符。</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">'ab c\n\nde fg\rkl\r\n'</span>.splitlines())</span><br><span class="line"><span class="comment"># ['ab c', '', 'de fg', 'kl']</span></span><br><span class="line">print(<span class="string">'ab c\n\nde fg\rkl\r\n'</span>.splitlines(<span class="literal">True</span>))</span><br><span class="line"><span class="comment"># ['ab c\n', '\n', 'de fg\r', 'kl\r\n']</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="39-sep-39-join-seq"><a href="#39-sep-39-join-seq" class="headerlink" title="'sep'.join(seq)"></a><code>'sep'.join(seq)</code></h3><p>以sep作为分隔符，将seq所有的元素合并成一个新的字符串<br>将字符串、元组、列表中的元素以指定的字符(分隔符)连接生成一个新的字符串</p>
<p>参数说明<br>sep：分隔符。string（字符串），可以为空<br>seq：要连接的元素列表、字符串、元组、字典<br>返回值：返回一个以分隔符sep连接各个元素后生成的字符串</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 对字符串进行操作</span></span><br><span class="line">print(<span class="string">':'</span>.join(<span class="string">"hello good boy "</span>))</span><br><span class="line"><span class="comment"># h:e:l:l:o: :g:o:o:d: :b:o:y:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用字符串把字符串列表里的字符串连接起来</span></span><br><span class="line"><span class="comment"># 用空字符串''隔开</span></span><br><span class="line">print(<span class="string">''</span>.join([<span class="string">"hello"</span>, <span class="string">"world"</span>, <span class="string">"!"</span>]))  <span class="comment"># helloworld!</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用' '隔开，用空格</span></span><br><span class="line">print(<span class="string">' '</span>.join([<span class="string">"hello"</span>, <span class="string">"world"</span>, <span class="string">"!"</span>]))  <span class="comment"># hello world !</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用'-'隔开</span></span><br><span class="line">print(<span class="string">'-'</span>.join([<span class="string">"hello"</span>, <span class="string">"world"</span>, <span class="string">"!"</span>]))  <span class="comment"># hello-world-!</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对元组进行操作</span></span><br><span class="line">seq3 = (<span class="string">'hello'</span>, <span class="string">'good'</span>, <span class="string">'boy'</span>)</span><br><span class="line">print(<span class="string">':'</span>.join(seq3))</span><br><span class="line"><span class="comment"># hello:good:boy</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对字典进行操作</span></span><br><span class="line">seq4 = {<span class="string">'hello'</span>: <span class="number">1</span>, <span class="string">'good'</span>: <span class="number">2</span>, <span class="string">'boy'</span>: <span class="number">3</span>}</span><br><span class="line">print(<span class="string">':'</span>.join(seq4))</span><br><span class="line"><span class="comment"># hello:good:boy</span></span><br></pre></td></tr></tbody></table></figure>

<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/vue-shi-zhan-xiang-mu-da-jian/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/vue-shi-zhan-xiang-mu-da-jian/" class="post-title-link" itemprop="url">Vue实战项目搭建</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-04-02 12:24:46" itemprop="dateModified" datetime="2021-04-02T12:24:46Z">2021-04-02</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%97%85%E6%B8%B8%E7%BD%91%E9%A1%B9%E7%9B%AE/" itemprop="url" rel="index"><span itemprop="name">旅游网项目</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="项目的搭建"><a href="#项目的搭建" class="headerlink" title="项目的搭建"></a>项目的搭建</h3><ul>
<li>项目公共的配置（ajax配置、项目结构、目录等）</li>
<li>前后端通信方式（接口规范、错误码等）</li>
</ul>
<h3 id="开发的流程"><a href="#开发的流程" class="headerlink" title="开发的流程"></a>开发的流程</h3><ul>
<li>【前端】实现页面（组件）</li>
<li>【前端】使用假数据，或者是mock数据</li>
<li>【后端】模型分析，建模</li>
<li>【后端】实现接口</li>
<li>【前/后端】接口文档编写</li>
<li>【前/后端】接口联调(对接)</li>
</ul>
<h3 id="实战项目搭建"><a href="#实战项目搭建" class="headerlink" title="实战项目搭建"></a>实战项目搭建</h3><p>操作步骤</p>
<ul>
<li>第一步，使用Vue CLI 搭建项目</li>
<li>第二步，准备好静态资源（图片资源）</li>
<li>第三步，调整生产项目结构</li>
</ul>
<p>项目结构</p>
<ul>
<li>公共的样式<br><code>src/assets/common.less</code></li>
<li>公共js（工具函数、接口地址、配置文件）<figure class="highlight less"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 接口地址配置</span></span><br><span class="line"><span class="selector-tag">src</span>/<span class="selector-tag">utils</span>/<span class="selector-tag">apis</span><span class="selector-class">.js</span></span><br><span class="line"><span class="comment">// 常量配置</span></span><br><span class="line"><span class="selector-tag">src</span>/<span class="selector-tag">utils</span>/<span class="selector-tag">constants</span><span class="selector-class">.js</span></span><br><span class="line"><span class="comment">// 工具函数</span></span><br><span class="line"><span class="selector-tag">src</span>/<span class="selector-tag">utils</span>/<span class="selector-tag">filters</span><span class="selector-class">.js</span></span><br></pre></td></tr></tbody></table></figure>

</li>
</ul>
<p>首页拆解<br>操作步骤</p>
<ul>
<li>第一步，分析首页的结构</li>
<li>第二步，新建页面</li>
<li>第三步，新建对应组件</li>
</ul>
<p>首页组件拆分</p>
<ul>
<li>标题</li>
<li>轮播图（Banner图）</li>
<li>本周推荐</li>
<li>精选景点</li>
<li>底部导航<br>如果组件很多地方都用到过，应该放在<code>/src/component/common</code><br>如果只有某一个页面用到，应该放在<code>/src/component/home</code></li>
</ul>
<h3 id="为何不能在Vue-js中使用AJAX"><a href="#为何不能在Vue-js中使用AJAX" class="headerlink" title="为何不能在Vue.js中使用AJAX"></a>为何不能在Vue.js中使用AJAX</h3><ul>
<li>Ajax是通过浏览器后台与服务器通信的技术</li>
<li>jQuery 中的AJAX只是基于jQuery的实现</li>
<li>在Vue.js中使用jQuery不能充分利用Vue.js的特性</li>
</ul>
<h3 id="axios异步请求库"><a href="#axios异步请求库" class="headerlink" title="axios异步请求库"></a>axios异步请求库</h3><ul>
<li>基于Promise的HTTP库</li>
<li>支持Node.js和浏览器</li>
<li>浏览器：XMLHttpRequest</li>
<li>Node.js：http</li>
</ul>
<p>对axios进行全局配置可提升代码的可维护性</p>
<h3 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h3><ul>
<li>一种异步编程解决方案</li>
<li>Promise其实一直都在，只是在ES6时，才被并入标准库</li>
</ul>
<h3 id="处理回调"><a href="#处理回调" class="headerlink" title="处理回调"></a>处理回调</h3><ul>
<li><code>then</code>函数的使用<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> {</span><br><span class="line"><span class="comment">// 业务逻辑</span></span><br><span class="line">resolve(<span class="number">1</span>);</span><br><span class="line">}).then(<span class="function"><span class="params">res</span> =&gt;</span> {</span><br><span class="line"><span class="comment">// 你的代码1</span></span><br><span class="line">}) .then(<span class="function"><span class="params">res</span> =&gt;</span> {</span><br><span class="line"><span class="comment">// 你的代码2</span></span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

</li>
</ul>
<h3 id="处理异常"><a href="#处理异常" class="headerlink" title="处理异常"></a>处理异常</h3><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">```js</span><br><span class="line">new Promise((resolve, reject) =&gt; {</span><br><span class="line">    // 业务逻辑</span><br><span class="line">    reject(throw new Error('It is my fault'))</span><br><span class="line">    }) .then(res =&gt; {</span><br><span class="line">        // 正常的逻辑代码</span><br><span class="line">    }).catch(err =&gt; {</span><br><span class="line">        // 产生异常后执行的代码</span><br><span class="line">    })</span><br></pre></td></tr></tbody></table></figure>

<p>如何安装</p>
<ul>
<li>方式一：引用JS<br><code>&lt;script src="./axios.min.js"&gt;&lt;/script&gt;</code></li>
<li>方式二：使用npm/cnpm/yarn安装<br><code>npm install axios -S</code></li>
</ul>
<h3 id="使用npm-cnpm安装"><a href="#使用npm-cnpm安装" class="headerlink" title="使用npm/cnpm安装"></a>使用npm/cnpm安装</h3><ul>
<li><p>安装到dependencies（生产环境依赖）<br><code>npm install axios --save</code><br>或者<code>npm install axios -S</code></p>
</li>
<li><p>安装到devDependencies（开发环境依赖）<br><code>npm install axios --save-dev</code><br>或者<code>npm install axios -D</code></p>
</li>
</ul>
<h3 id="如何使用axios"><a href="#如何使用axios" class="headerlink" title="如何使用axios"></a>如何使用axios</h3><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">axios.get(url[, config])</span><br><span class="line">axios.delete(url[, config])</span><br><span class="line">axios.head(url[, config])</span><br><span class="line">axios.options(url[, config])</span><br><span class="line">axios.post(url[, data[, config]])</span><br><span class="line">axios.put(url[, data[, config]])</span><br><span class="line">axios.patch(url[, data[, config]])</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><p>GET请求</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">axios.get(<span class="string">'/user'</span>, {</span><br><span class="line">    params: {</span><br><span class="line">        ID: <span class="number">12345</span></span><br><span class="line">    }</span><br><span class="line">})</span><br><span class="line">.then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>{</span><br><span class="line">    <span class="built_in">console</span>.log(response);</span><br><span class="line">})</span><br><span class="line">.catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>{</span><br><span class="line">    <span class="built_in">console</span>.log(error);</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>POST请求</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">axios.post(<span class="string">'/user'</span>, {</span><br><span class="line">    firstName: <span class="string">'Fred'</span>,</span><br><span class="line">    lastName: <span class="string">'Flintstone'</span></span><br><span class="line">})</span><br><span class="line">.then(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>{</span><br><span class="line">    <span class="built_in">console</span>.log(response);</span><br><span class="line">})</span><br><span class="line">.catch(<span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>{</span><br><span class="line">    <span class="built_in">console</span>.log(error);</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>

</li>
</ul>
<h3 id="请求响应拦截"><a href="#请求响应拦截" class="headerlink" title="请求响应拦截"></a>请求响应拦截</h3><h4 id="使用场景"><a href="#使用场景" class="headerlink" title="使用场景"></a>使用场景</h4><ul>
<li>设置自定义请求头</li>
<li>默认携带上次的cookie</li>
<li>添加loading动画（请求发起前显示、完成后隐藏）</li>
<li>统一的错误处理</li>
</ul>
<h4 id="实现方法"><a href="#实现方法" class="headerlink" title="实现方法"></a>实现方法</h4><ul>
<li>创建axios的实例<br><code>const ajax = axios.create(options)</code></li>
<li>常用参数<ul>
<li><code>headers</code>: 设置请求头</li>
<li><code>timeout</code>: 超时的毫秒数</li>
<li><code>data</code>: POST/PUT/PATCH请求的数据</li>
<li><code>params</code>: URL中的参数</li>
<li><code>responseType</code>: 默认为json</li>
</ul>
</li>
</ul>
<h4 id="设置自定义请求头"><a href="#设置自定义请求头" class="headerlink" title="设置自定义请求头"></a>设置自定义请求头</h4><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ajax = axios.create({</span><br><span class="line">headers: {</span><br><span class="line">source: <span class="string">'h5'</span>,</span><br><span class="line"><span class="string">'Content-Type'</span>: <span class="string">'application/x-www-form-urlencoded'</span></span><br><span class="line">}</span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<h4 id="默认携带上次的cookie"><a href="#默认携带上次的cookie" class="headerlink" title="默认携带上次的cookie"></a>默认携带上次的cookie</h4><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> ajax = axios.create({</span><br><span class="line">    withCredentials: <span class="literal">true</span></span><br><span class="line">})</span><br></pre></td></tr></tbody></table></figure>

<h4 id="添加loading动画"><a href="#添加loading动画" class="headerlink" title="添加loading动画"></a>添加loading动画</h4><ul>
<li><p> 请求拦截</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">axios.interceptors.request.use(<span class="function"><span class="keyword">function</span> (<span class="params">config</span>) </span>{</span><br><span class="line"><span class="comment">// 在发送请求之前做些什么</span></span><br><span class="line"><span class="keyword">return</span> config</span><br><span class="line">}, <span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>{</span><br><span class="line"><span class="comment">// 对请求错误做些什么</span></span><br><span class="line"><span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error)</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p> 响应拦截</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">axios.interceptors.response.use(<span class="function"><span class="keyword">function</span> (<span class="params">response</span>) </span>{</span><br><span class="line"><span class="comment">// 对响应数据做点什么</span></span><br><span class="line"><span class="keyword">return</span> response</span><br><span class="line">}, <span class="function"><span class="keyword">function</span> (<span class="params">error</span>) </span>{</span><br><span class="line"><span class="comment">// 对响应错误做点什么</span></span><br><span class="line"><span class="keyword">return</span> <span class="built_in">Promise</span>.reject(error)</span><br><span class="line">});</span><br></pre></td></tr></tbody></table></figure>

</li>
</ul>
<h4 id="统一的错误处理"><a href="#统一的错误处理" class="headerlink" title="统一的错误处理"></a>统一的错误处理</h4><ul>
<li>400<br>参数错误提示</li>
<li>401<br>未登录，跳转到登录页面</li>
<li>500/504<br>服务器正忙，网络异常/请求超时</li>
</ul>
<h3 id="跨域"><a href="#跨域" class="headerlink" title="跨域"></a>跨域</h3><p>出于安全考虑，浏览器要求你的网站不能执行/访问其它网站的资源</p>
<ul>
<li><p>如何认定为“其它的网站”：同源策略<br><code>http://www.imooc.com:80</code><br>协议 域名/主机 端口</p>
</li>
<li><p>跨域的影响</p>
<ul>
<li>浏览器本地存储无法使用<br>（Cookie、LocalStorage 和 IndexDB）</li>
<li>DOM对象 、JS 对象无法获取</li>
<li>AJAX无法使用</li>
</ul>
</li>
<li><p>跨域问题解决</p>
<ul>
<li>利用HTML标签的特性<br>script、a、iframe、img、link等</li>
<li>在前端使用代理解决</li>
<li>在服务器端解决<br>CORS(Cross-Origin Resource Sharing)——跨域资源共享，通过添加响应头信息来解决</li>
</ul>
</li>
</ul>
<h4 id="在Vue-js中解决跨域问题"><a href="#在Vue-js中解决跨域问题" class="headerlink" title="在Vue.js中解决跨域问题"></a>在Vue.js中解决跨域问题</h4><ul>
<li>添加配置文件<code>vue.config.js</code><br>添加配置项<br>参数解释</li>
<li> <code>target</code>目标地址</li>
<li> <code>changeOrigin</code>变更请求头中设置的host</li>
<li> <code>pathRewrite</code>URL重写规则<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// vue.config.js</span></span><br><span class="line"><span class="comment">// Node.js里面的模块</span></span><br><span class="line"><span class="built_in">module</span>.exports = {</span><br><span class="line">  <span class="comment">// http://localhost:8080/api/test</span></span><br><span class="line">  <span class="comment">// =&gt;</span></span><br><span class="line">  <span class="comment">// http://localhost:8000/test</span></span><br><span class="line">  <span class="comment">// 在Vue.js中解决跨域问题</span></span><br><span class="line">  devServer: {</span><br><span class="line">    proxy: {</span><br><span class="line">      <span class="string">'/api'</span>: {</span><br><span class="line">        target: <span class="string">'http://django.t.mukewang.com'</span>,    <span class="comment">// 这个地址的服务器要启动才能访问 </span></span><br><span class="line">        changeOrigin: <span class="literal">true</span>,</span><br><span class="line">        pathRewrite: {</span><br><span class="line">          <span class="string">'^/api'</span>: <span class="string">''</span>   <span class="comment">// 重写的URL，空字符表示把/api字符串去掉</span></span><br><span class="line">        }</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

</li>
</ul>
<p>使用axios获取数据</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Home.vue</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> {</span><br><span class="line">  name: <span class="string">'Home'</span>,</span><br><span class="line">  components: {</span><br><span class="line">  },</span><br><span class="line">  created () {</span><br><span class="line">    <span class="comment">// ajax.get('http://django.t.mukewang.com/api/system/slider/list/?types=11').then(resp =&gt; {</span></span><br><span class="line">    <span class="comment">// 未登录访问用户信息</span></span><br><span class="line">    <span class="comment">// ajax.get('http://django.t.mukewang.com/api/accounts/user/detail/').then(resp =&gt; {</span></span><br><span class="line">    <span class="comment">// ajax.get('http://localhost:8080/api/system/slider/list/?types=11').then(resp =&gt; {</span></span><br><span class="line">    <span class="comment">// ajax.get('http://localhost:9527/hello/world/').then(resp =&gt; {</span></span><br><span class="line">    ajax.get(<span class="string">'http://localhost:8080/test/hello/world/'</span>).then(<span class="function"><span class="params">resp</span> =&gt;</span> {</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'返回的结果：'</span>, resp)</span><br><span class="line">    }).catch(<span class="function"><span class="params">err</span> =&gt;</span> {</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">'请求出错：'</span>, err)</span><br><span class="line">    })</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h4 id="在Django中解决跨域问题"><a href="#在Django中解决跨域问题" class="headerlink" title="在Django中解决跨域问题"></a>在Django中解决跨域问题</h4><ul>
<li><p> 第一步：安装第三方扩展</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt; pip install django-cors-headers</span><br></pre></td></tr></tbody></table></figure></li>
<li><p> 第二步：配置django的<code>setting.py</code></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INSTALLED_APPS = [<span class="string">'corsheaders'</span>,]</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p> 第三步：配置中间件</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># setting.py</span></span><br><span class="line">MIDDLEWARE_CLASSES = [</span><br><span class="line"><span class="string">'django.middleware.security.SecurityMiddleware'</span>,</span><br><span class="line"><span class="string">'django.contrib.sessions.middleware.SessionMiddleware'</span>,</span><br><span class="line"><span class="string">'corsheaders.middleware.CorsMiddleware'</span>,</span><br><span class="line"><span class="string">'django.middleware.common.CommonMiddleware'</span>,</span><br><span class="line">]</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>第四步：添加白名单</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># setting.py</span></span><br><span class="line">CORS_ORIGIN_WHITELIST = (</span><br><span class="line"><span class="string">'http://127.0.0.1:8080'</span>,</span><br><span class="line"><span class="string">'http://localhost:8080'</span>,</span><br><span class="line">)</span><br></pre></td></tr></tbody></table></figure>

</li>
</ul>
<p>第五步：可选配置</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># setting.py</span></span><br><span class="line"><span class="comment"># 允许哪些请求头</span></span><br><span class="line">CORS_ALLOW_HEADERS = (<span class="string">'source'</span>, <span class="string">'icode'</span>)</span><br><span class="line"><span class="comment"># 允许携带cookie</span></span><br><span class="line">CORS_ALLOW_CREDENTIALS = <span class="literal">True</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="VantUI"><a href="#VantUI" class="headerlink" title="VantUI"></a>VantUI</h3><ul>
<li>开源免费</li>
<li>轻量、可靠的移动端 Vue 组件库</li>
</ul>
<h4 id="Vant组件库"><a href="#Vant组件库" class="headerlink" title="Vant组件库"></a>Vant组件库</h4><ul>
<li>基础组件<br>按钮、图标、布局、提示信息等</li>
<li>表单组件<br>日历、复选框、时间选择、输入框、评分等</li>
<li>反馈组件<br>弹出框、加载、下拉菜单、消息提示、下拉刷新、滚动加载等</li>
<li>展示组件<br>进度条、倒计时、分割线、懒加载、列表等</li>
<li>导航组件<br>宫格、索引、导航栏、分页、多标签页等</li>
<li>业务组件<br>地址编辑、联系人、优惠券、提交订单、SKU选择框等</li>
</ul>
<h3 id="开始使用"><a href="#开始使用" class="headerlink" title="开始使用"></a>开始使用</h3><ul>
<li><p>第一步：安装<br><code>&gt;&gt; cnpm install vant -S</code></p>
</li>
<li><p>第二步：手动按需导入组件</p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Button <span class="keyword">from</span> <span class="string">'vant/lib/button'</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">'vant/lib/button/style'</span>;</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> {</span><br><span class="line">  name: <span class="string">'Home'</span>,</span><br><span class="line">  components: {</span><br><span class="line">    <span class="string">'v-button'</span>: Button</span><br><span class="line">    <span class="comment">// Button: Button</span></span><br><span class="line">  }</span><br><span class="line">}  </span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>第二步：导入全部组件，全局引用<br><code>main.js</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Vue <span class="keyword">from</span> <span class="string">'vue'</span>;</span><br><span class="line"><span class="keyword">import</span> Vant <span class="keyword">from</span> <span class="string">'vant'</span>;  <span class="comment">// VantUI组件库</span></span><br><span class="line"><span class="keyword">import</span> <span class="string">'vant/lib/index.css'</span>;</span><br><span class="line"></span><br><span class="line">Vue.use(Vant);  <span class="comment">// 把VantUI当做一个插件，在Vue中使用</span></span><br></pre></td></tr></tbody></table></figure>

</li>
</ul>
<h3 id="轮播图组件开发"><a href="#轮播图组件开发" class="headerlink" title="轮播图组件开发"></a>轮播图组件开发</h3><h4 id="开发步骤"><a href="#开发步骤" class="headerlink" title="开发步骤"></a>开发步骤</h4><ul>
<li>第一步，查找Vant中可以使用的组件</li>
<li>第二步，实现组件模板部分<br><code>\src\components\common\Banner.vue</code><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!-- 首页的轮播图 --&gt;</span><br><span class="line">  &lt;div class="home-banner-box"&gt;</span><br><span class="line">    &lt;van-swipe class="my-swipe" :autoplay="3000" indicator-color="white"&gt;</span><br><span class="line">      &lt;van-swipe-item v-for="item in bannerList"</span><br><span class="line">        :key="item.id"&gt;</span><br><span class="line">        &lt;img :src="item.img_url" alt=""&gt;</span><br><span class="line">      &lt;/van-swipe-item&gt;</span><br><span class="line">    &lt;/van-swipe&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></tbody></table></figure>
<code>Home.vue</code><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class="page-home"&gt;</span><br><span class="line">    &lt;!-- banner图 --&gt;</span><br><span class="line">    &lt;Banner/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">// 引入组件</span><br><span class="line">import Banner from '@/components/home/Banner'</span><br><span class="line"></span><br><span class="line">export default {</span><br><span class="line">  name: 'Home',</span><br><span class="line">  components: {</span><br><span class="line">    // banner图</span><br><span class="line">    Banner,</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure></li>
<li>第三步，模型层准备数据，通过接口的方式从django服务器获取<br><code>\src\components\common\Banner.vue</code><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import { ajax } from '@/utils/ajax'</span><br><span class="line">import { SystemApis } from '@/utils/apis'</span><br><span class="line">export default {</span><br><span class="line">  data () {</span><br><span class="line">    return {</span><br><span class="line">      bannerList: []</span><br><span class="line">    }</span><br><span class="line">  },</span><br><span class="line">  methods: {</span><br><span class="line">    /**</span><br><span class="line">     * 获取轮播图的数据</span><br><span class="line">     */</span><br><span class="line">    getDataList () {</span><br><span class="line">      ajax.get(SystemApis.sliderListUrl).then(res =&gt; {</span><br><span class="line">        console.log('res:', res)</span><br><span class="line">        this.bannerList = res.data.objects</span><br><span class="line">      })</span><br><span class="line">    }</span><br><span class="line">  },</span><br><span class="line">  created () {</span><br><span class="line">    // 从接口获取数据</span><br><span class="line">    this.getDataList()</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure></li>
<li>第四步，模拟数据，实现轮播效果</li>
</ul>
<h3 id="热门推荐组件开发"><a href="#热门推荐组件开发" class="headerlink" title="热门推荐组件开发"></a>热门推荐组件开发</h3><h4 id="开发步骤-1"><a href="#开发步骤-1" class="headerlink" title="开发步骤"></a>开发步骤</h4><ul>
<li><p>第一步，查找Vant中可以使用的组件</p>
</li>
<li><p>第二步，完成布局，实现组件模板部分<br><code>\src\components\common\Hot.vue</code></p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;!-- 热门景点 --&gt;</span><br><span class="line">  &lt;div class="home-hot-box"&gt;</span><br><span class="line">    &lt;!-- 顶上导航 --&gt;</span><br><span class="line">    &lt;van-cell</span><br><span class="line">      title="热门推荐"</span><br><span class="line">      icon="/static/home/hot/fire.png"</span><br><span class="line">      is-link</span><br><span class="line">      title-style="text-align:left"</span><br><span class="line">      value="全部榜单" /&gt;</span><br><span class="line">    &lt;!-- // 顶上导航 --&gt;</span><br><span class="line">    &lt;!-- 景点列表 --&gt;</span><br><span class="line">    &lt;div class="box-main"&gt;</span><br><span class="line">      &lt;a href="#" class="hot-item"</span><br><span class="line">        v-for="item in dataList"</span><br><span class="line">        :key="item.id"&gt;</span><br><span class="line">        &lt;div class="img"&gt;</span><br><span class="line">          &lt;span&gt;&lt;/span&gt;</span><br><span class="line">          &lt;img :src="item.main_img" alt=""&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;!-- ellipsis 省略号 意思是超过一定长度变成省略号 --&gt;</span><br><span class="line">        &lt;h5 class="van-ellipsis"&gt;{{ item.name }}&lt;/h5&gt;</span><br><span class="line">        &lt;div class="line-price"&gt;</span><br><span class="line">          &lt;span class="price"&gt;￥{{ item.min_price }}&lt;/span&gt;起</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/a&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;!-- //景点列表 --&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></tbody></table></figure>
<p><code>Home.vue</code></p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class="page-home"&gt;</span><br><span class="line">    &lt;!-- 热门推荐景点 --&gt;</span><br><span class="line">    &lt;Hot/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">// 引入组件</span><br><span class="line">import Hot from '@/components/home/Hot'</span><br><span class="line"></span><br><span class="line">export default {</span><br><span class="line">  name: 'Home',</span><br><span class="line">  components: {</span><br><span class="line">    // 热门推荐景点</span><br><span class="line">    Hot,</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>第三步，模型层准备数据<br><code>\src\components\common\Hot.vue</code></p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import { ajax } from '@/utils/ajax'</span><br><span class="line">import { SightApis } from '@/utils/apis'</span><br><span class="line">export default {</span><br><span class="line">  data () {</span><br><span class="line">    return {</span><br><span class="line">      dataList: []</span><br><span class="line">    }</span><br><span class="line">  },</span><br><span class="line">  methods: {</span><br><span class="line">    /**</span><br><span class="line">     * 查热门景点</span><br><span class="line">     */</span><br><span class="line">    getDataList () {</span><br><span class="line">      ajax.get(SightApis.sightListUrl, {</span><br><span class="line">        params: {</span><br><span class="line">          is_hot: 1</span><br><span class="line">        }</span><br><span class="line">      }).then(({ data }) =&gt; {</span><br><span class="line">        this.dataList = data.objects</span><br><span class="line">      })</span><br><span class="line">    }</span><br><span class="line">  },</span><br><span class="line">  created () {</span><br><span class="line">    // 查询获取接口数据</span><br><span class="line">    this.getDataList()</span><br><span class="line">    // this.dataList = [</span><br><span class="line">    //   {id: 1, img: '/static/home/hot/h1.jpg', name: '景点名称', price: 65},</span><br><span class="line">    //   {id: 2, img: '/static/home/hot/h2.jpg', name: '景点名称景点名称', price: 65},</span><br><span class="line">    //   {id: 3, img: '/static/home/hot/h3.jpg', name: '景点名称', price: 65},</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>第四步，添加假数据，实现效果</p>
</li>
</ul>
<h3 id="景点列表组件开发"><a href="#景点列表组件开发" class="headerlink" title="景点列表组件开发"></a>景点列表组件开发</h3><h4 id="开发步骤-2"><a href="#开发步骤-2" class="headerlink" title="开发步骤"></a>开发步骤</h4><ul>
<li>第一步，分析组件的复用情况</li>
<li>第二步，新建组件文件，实现组件内容<br><code>\src\components\common\ListSight.vue</code><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;!-- 精选景点 --&gt;</span><br><span class="line">  &lt;div class="home-fine-box"&gt;</span><br><span class="line">    &lt;!-- 顶上导航 --&gt;</span><br><span class="line">    &lt;van-cell</span><br><span class="line">      title="精选景点"</span><br><span class="line">      icon="location-o"</span><br><span class="line">      is-link</span><br><span class="line">      title-style="text-align:left"</span><br><span class="line">      value="更多" /&gt;</span><br><span class="line">    &lt;!-- // 顶上导航 --&gt;</span><br><span class="line">    &lt;!-- 景点的列表 --&gt;</span><br><span class="line">    &lt;div class="box-main"&gt;</span><br><span class="line">      &lt;!-- ```src\components\common\ListSight.vue```子组件的 --&gt;</span><br><span class="line">      &lt;sight-item v-for="item in dataList"</span><br><span class="line">        :key="item.id"</span><br><span class="line">        :item="item"/&gt;&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;!-- //景点的列表 --&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></tbody></table></figure></li>
<li>第三步，设置props,从父组件传递数据<br><code>\src\components\common\ListSight.vue</code><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default {</span><br><span class="line">  props: ['item']</span><br><span class="line">}</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>

</li>
</ul>
<h3 id="精选景点组件开发"><a href="#精选景点组件开发" class="headerlink" title="精选景点组件开发"></a>精选景点组件开发</h3><h4 id="开发步骤-3"><a href="#开发步骤-3" class="headerlink" title="开发步骤"></a>开发步骤</h4><ul>
<li>第一步，查找Vant中可以使用的组件</li>
<li>第二步，完成布局，实现组件模板部分</li>
</ul>
<p><code>\src\components\common\Fine.vue</code></p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;!-- 精选景点 --&gt;</span><br><span class="line">  &lt;div class="home-fine-box"&gt;</span><br><span class="line">    &lt;!-- 顶上导航 --&gt;</span><br><span class="line">    &lt;van-cell</span><br><span class="line">      title="精选景点"</span><br><span class="line">      icon="location-o"</span><br><span class="line">      is-link</span><br><span class="line">      title-style="text-align:left"</span><br><span class="line">      value="更多" /&gt;</span><br><span class="line">    &lt;!-- // 顶上导航 --&gt;</span><br><span class="line">    &lt;!-- 景点的列表 --&gt;</span><br><span class="line">    &lt;div class="box-main"&gt;</span><br><span class="line">      &lt;!-- ```src\components\common\ListSight.vue```子组件的 --&gt;</span><br><span class="line">      &lt;sight-item v-for="item in dataList"</span><br><span class="line">        :key="item.id"</span><br><span class="line">        :item="item"/&gt;&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;!-- //景点的列表 --&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></tbody></table></figure>
<p><code>Home.vue</code></p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class="page-home"&gt;</span><br><span class="line">    &lt;!-- 精选景点 --&gt;</span><br><span class="line">    &lt;Fine/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">// 引入组件</span><br><span class="line">import Fine from '@/components/home/Fine'</span><br><span class="line"></span><br><span class="line">export default {</span><br><span class="line">  name: 'Home',</span><br><span class="line">  components: {</span><br><span class="line">    // 精选景点</span><br><span class="line">    Fine,</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li><p>第三步，模型层准备数据,从父组件传递数据<br><code>\src\components\common\Fine.vue</code></p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import { ajax } from '@/utils/ajax'</span><br><span class="line">import { SightApis } from '@/utils/apis'</span><br><span class="line">import SightItem from '@/components/common/ListSight'</span><br><span class="line">export default {</span><br><span class="line">  components: {</span><br><span class="line">    SightItem</span><br><span class="line">  },</span><br><span class="line">  data () {</span><br><span class="line">    return {</span><br><span class="line">      dataList: []</span><br><span class="line">    }</span><br><span class="line">  },</span><br><span class="line">  methods: {</span><br><span class="line">    /**</span><br><span class="line">     * 查精选景点</span><br><span class="line">     */</span><br><span class="line">    getDataList () {</span><br><span class="line">      ajax.get(SightApis.sightListUrl, {</span><br><span class="line">        params: {</span><br><span class="line">          is_top: 1</span><br><span class="line">        }</span><br><span class="line">      }).then(({ data }) =&gt; {</span><br><span class="line">        this.dataList = data.objects</span><br><span class="line">      })</span><br><span class="line">    }</span><br><span class="line">  },</span><br><span class="line">  created () {</span><br><span class="line">    this.getDataList()</span><br><span class="line">    // this.dataList = [</span><br><span class="line">    //   {id: 1, name: '景点名称', score: 5, price: 98},</span><br><span class="line">    //   {id: 2, name: '景点名称', score: 4.5, price: 98},</span><br><span class="line">    //   {id: 3, name: '景点名称', score: 4, price: 98},</span><br><span class="line">    // ]</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>第四步，添加假数据，实现效果</p>
</li>
</ul>
<h3 id="页面底部组件开发"><a href="#页面底部组件开发" class="headerlink" title="页面底部组件开发"></a>页面底部组件开发</h3><h4 id="开发步骤-4"><a href="#开发步骤-4" class="headerlink" title="开发步骤"></a>开发步骤</h4><ul>
<li>第一步，查找Vant中可以使用的组件</li>
<li>第二步，完成布局，实现组件模板部分<br><code>\src\components\common\Footer.vue</code><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;!-- 底部导航（公共组件） --&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;van-tabbar v-model="active"&gt;</span><br><span class="line">      &lt;van-tabbar-item name="home" icon="wap-home-o"&gt;首页&lt;/van-tabbar-item&gt;</span><br><span class="line">      &lt;van-tabbar-item name="search" icon="search"&gt;搜索&lt;/van-tabbar-item&gt;</span><br><span class="line">      &lt;van-tabbar-item name="mine" icon="user-o"&gt;我的&lt;/van-tabbar-item&gt;</span><br><span class="line">    &lt;/van-tabbar&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></tbody></table></figure>
<code>Home.vue</code><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div class="page-home"&gt;</span><br><span class="line">    &lt;!-- 热门推荐景点 --&gt;</span><br><span class="line">    &lt;Hot/&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">// 引入组件</span><br><span class="line">import TripFooter from '@/components/common/Footer'</span><br><span class="line"></span><br><span class="line">export default {</span><br><span class="line">  name: 'Home',</span><br><span class="line">  components: {</span><br><span class="line">    // 底部导航</span><br><span class="line">    TripFooter</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure></li>
<li>第三步，模型层准备数据<br><code>\src\components\common\Footer.vue</code><figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">export default {</span><br><span class="line">  data () {</span><br><span class="line">    return {</span><br><span class="line">      active: 'home'</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure></li>
<li>第四步，模拟从不同的菜单进入效果</li>
</ul>
<h3 id="模型设计"><a href="#模型设计" class="headerlink" title="模型设计"></a>模型设计</h3><ul>
<li>系统模块（公共的、可服用）：轮播图、用户反馈</li>
<li>景点模块：景点、景点详情、景点评论</li>
<li>用户模块：用户、用户详细信息、登录历史</li>
<li>订单模块：订单、订单明细、支付相关</li>
</ul>
<h3 id="设计轮播图ORM模型"><a href="#设计轮播图ORM模型" class="headerlink" title="设计轮播图ORM模型"></a>设计轮播图ORM模型</h3><h4 id="开发步骤-5"><a href="#开发步骤-5" class="headerlink" title="开发步骤"></a>开发步骤</h4><ul>
<li><p>第一步，分析并设计数据库模型<br>创建app</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python manage.py startapp system</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>第二步，完成ORM模型编码<br><code>system/model.py</code></p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Slider</span>(<span class="params">models.Model</span>):</span></span><br><span class="line">    name = models.CharField(<span class="string">'名称'</span>, max_length=<span class="number">32</span>)</span><br><span class="line">    desc = models.CharField(<span class="string">'描述'</span>, max_length=<span class="number">32</span>, null=<span class="literal">True</span>, blank=<span class="literal">True</span>)</span><br><span class="line">    types = models.SmallIntegerField(<span class="string">'展现的位置'</span>, default=<span class="number">10</span>)</span><br><span class="line">    img = models.ImageField(<span class="string">'图片地址'</span>, max_length=<span class="number">255</span>, upload_to=<span class="string">'%Y%m/slider'</span>)</span><br><span class="line">    reorder = models.SmallIntegerField(<span class="string">'排序字段'</span>, default=<span class="number">0</span>, help_text=<span class="string">'数字越大越靠前'</span>)</span><br><span class="line">    start_time = models.DateTimeField(<span class="string">'生效开始时间'</span>, null=<span class="literal">True</span>, blank=<span class="literal">True</span>)</span><br><span class="line">    end_time = models.CharField(<span class="string">'生效结束时间'</span>, null=<span class="literal">True</span>, blank=<span class="literal">True</span>)</span><br><span class="line">    target_url = models.CharField(<span class="string">'跳转的地址'</span>, max_length=<span class="number">255</span>, null=<span class="literal">True</span>, blank=<span class="literal">True</span>)</span><br><span class="line">    is_valid = models.BooleanField(<span class="string">'是否有效'</span>, default=<span class="literal">True</span>)</span><br><span class="line">    created_at = models.DateTimeField(<span class="string">'创建时间'</span>, auto_now_add=<span class="literal">True</span>)</span><br><span class="line">    updated_at = models.DateTimeField(<span class="string">'修改时间'</span>, auto_now=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span></span><br><span class="line">        db_table = <span class="string">'system_slider'</span></span><br><span class="line">        ordering = [<span class="string">'-reorder'</span>]</span><br></pre></td></tr></tbody></table></figure>
<p><code>system/setting.py</code></p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INSTALLED_APPS = [<span class="string">'system.apps.SystemConfig'</span>,]</span><br></pre></td></tr></tbody></table></figure></li>
<li><p>第三步，检测ORM模型</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">python manage.py check</span><br><span class="line">``` </span><br><span class="line">- 第四步，模型同步</span><br><span class="line">```bash</span><br><span class="line">python manage.py makemigrations</span><br><span class="line">python manage.py migrate</span><br><span class="line">```  </span><br><span class="line"></span><br><span class="line"><span class="comment">### 设计轮播图查询接口</span></span><br><span class="line"><span class="comment">#### 开发步骤</span></span><br><span class="line">- 第一步，设计接口返回标准</span><br><span class="line">   - 定义接口的返回结构</span><br><span class="line">   - 接口的错误信息约定</span><br><span class="line">- 第二步，编写接口代码</span><br><span class="line">```system/views.py```</span><br><span class="line">```python</span><br><span class="line">from django import http</span><br><span class="line">from django.http import HttpResponse</span><br><span class="line">from django.shortcuts import render</span><br><span class="line"></span><br><span class="line">from system.models import Slider</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def slider_list(request):</span><br><span class="line">    <span class="string">""</span><span class="string">" 轮播图接口</span></span><br><span class="line"><span class="string">    {</span></span><br><span class="line"><span class="string">        "</span>meta<span class="string">": {},</span></span><br><span class="line"><span class="string">        "</span>objects<span class="string">": []</span></span><br><span class="line"><span class="string">    }</span></span><br><span class="line"><span class="string">    "</span><span class="string">""</span></span><br><span class="line">    data = {</span><br><span class="line">        <span class="string">'meta'</span>: {</span><br><span class="line"></span><br><span class="line">        },</span><br><span class="line">        <span class="string">'objects'</span>: []</span><br><span class="line">    }</span><br><span class="line">    queryset = Slider.objects.filter(is_valid=True)</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> queryset:</span><br><span class="line">        data[<span class="string">'objects'</span>].append({</span><br><span class="line">            <span class="string">'id'</span>: item.id,</span><br><span class="line">            <span class="string">'img_url'</span>: item.img.url,</span><br><span class="line">            <span class="string">'target_url'</span>: item.target_url,</span><br><span class="line">            <span class="string">'name'</span>: item.name</span><br><span class="line">        })</span><br><span class="line">    <span class="comment"># return HttpResponse(data)</span></span><br><span class="line">    <span class="built_in">return</span> http.JsonResponse(data)</span><br></pre></td></tr></tbody></table></figure>

</li>
</ul>
<p><code>system/url.py</code></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> system <span class="keyword">import</span> views</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    path(<span class="string">'slider/list/'</span>, views.slider_list, name=<span class="string">"slider_list"</span>),</span><br><span class="line">]</span><br><span class="line">```  </span><br><span class="line">```trip/url.py```</span><br><span class="line">```python</span><br><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path, include</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    path(<span class="string">'admin/'</span>, admin.site.urls),</span><br><span class="line">    <span class="comment"># 系统模块</span></span><br><span class="line">    path(<span class="string">'system/'</span>, include(<span class="string">'system.urls'</span>)),</span><br><span class="line">]</span><br><span class="line">``` </span><br><span class="line">- 第三步，模拟HTTP请求，测试验证接口</span><br><span class="line"></span><br><span class="line"><span class="comment">### 设计景点ORM模型</span></span><br><span class="line"><span class="comment">#### 开发步骤</span></span><br><span class="line">- 第一步，分析并设计模型</span><br><span class="line">景点简单信息、景点详细信息</span><br><span class="line">```py</span><br><span class="line">python manage.py startapp sight</span><br></pre></td></tr></tbody></table></figure>
<ul>
<li><p>第二步，完成ORM模型编码<br><code>sight/model.py</code></p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Sight</span>(<span class="params">models.Model</span>):</span></span><br><span class="line">    <span class="string">""" 景点基础信息 """</span></span><br><span class="line"></span><br><span class="line">    name = models.CharField(<span class="string">'名称'</span>, max_length=<span class="number">64</span>)</span><br><span class="line">    desc = models.CharField(<span class="string">'描述'</span>, max_length=<span class="number">256</span>)</span><br><span class="line">    main_img = models.ImageField(<span class="string">'主图'</span>, upload_to=<span class="string">'%Y%m/sight/'</span>, max_length=<span class="number">256</span>)</span><br><span class="line">    banner_img = models.ImageField(<span class="string">'详情主图'</span>, upload_to=<span class="string">'%Y%m/sight/'</span>, max_length=<span class="number">256</span>)</span><br><span class="line">    content = models.TextField(<span class="string">'详细'</span>)</span><br><span class="line">    score = models.FloatField(<span class="string">'评分'</span>, default=<span class="number">5</span>)</span><br><span class="line">    min_price = models.FloatField(<span class="string">'最低价格'</span>, default=<span class="number">0</span>)</span><br><span class="line">    province = models.CharField(<span class="string">'省份'</span>, max_length=<span class="number">32</span>)</span><br><span class="line">    city = models.CharField(<span class="string">'市区'</span>, max_length=<span class="number">32</span>)</span><br><span class="line">    area = models.CharField(<span class="string">'区/县'</span>, max_length=<span class="number">32</span>, null=<span class="literal">True</span>)</span><br><span class="line">    town = models.CharField(<span class="string">'乡镇'</span>, max_length=<span class="number">32</span>, null=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    is_top = models.BooleanField(<span class="string">'是否为精选景点'</span>, default=<span class="literal">False</span>)</span><br><span class="line">    is_hot = models.BooleanField(<span class="string">'是否为热门景点'</span>, default=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line">    is_valid = models.BooleanField(<span class="string">'是否有效'</span>, default=<span class="literal">True</span>)</span><br><span class="line">    created_at = models.DateTimeField(<span class="string">'创建时间'</span>, auto_now_add=<span class="literal">True</span>)</span><br><span class="line">    updated_at = models.DateTimeField(<span class="string">'修改时间'</span>, auto_now=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span></span><br><span class="line">        db_table =<span class="string">'sight'</span></span><br><span class="line">        ordering = [<span class="string">'-updated_at'</span>]</span><br></pre></td></tr></tbody></table></figure>
<p><code>sight/setting.py</code></p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">INSTALLED_APPS = [<span class="string">'sight.apps.SightConfig'</span>,]</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>第三步，检测ORM模型</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">python manage.py check</span><br><span class="line">```  </span><br><span class="line">- 第四步，模型同步</span><br><span class="line">```bash</span><br><span class="line">python manage.py makemigrations</span><br><span class="line">python manage.py migrate</span><br></pre></td></tr></tbody></table></figure>

</li>
</ul>
<h3 id="设计景点列表API接口"><a href="#设计景点列表API接口" class="headerlink" title="设计景点列表API接口"></a>设计景点列表API接口</h3><h4 id="开发步骤-6"><a href="#开发步骤-6" class="headerlink" title="开发步骤"></a>开发步骤</h4><ul>
<li>第一步，设计接口返回内容及字段</li>
<li>第二步，编写接口代码（查数据、分页）<br><code>sight/views.py</code><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> http</span><br><span class="line"><span class="keyword">from</span> django.db.models <span class="keyword">import</span> Q</span><br><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render</span><br><span class="line"><span class="keyword">from</span> django.views.generic <span class="keyword">import</span> ListView</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> sight.models <span class="keyword">import</span> Sight</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SightListView</span>(<span class="params">ListView</span>):</span></span><br><span class="line">    <span class="string">""" 景点列表 """</span></span><br><span class="line">    <span class="comment"># 每页放5条数据</span></span><br><span class="line">    paginate_by = <span class="number">5</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">get_queryset</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="string">""" 重写查询方法 """</span></span><br><span class="line">        query = Q(is_valid=<span class="literal">True</span>)</span><br><span class="line">        <span class="comment"># 1. 热门景点</span></span><br><span class="line">        is_hot = self.request.GET.get(<span class="string">'is_hot'</span>, <span class="literal">None</span>)</span><br><span class="line">        <span class="keyword">if</span> is_hot:</span><br><span class="line">            query = query &amp; Q(is_hot=<span class="literal">True</span>)</span><br><span class="line">        <span class="comment"># 2. 精选景点</span></span><br><span class="line">        is_top = self.request.GET.get(<span class="string">'is_top'</span>, <span class="literal">None</span>)</span><br><span class="line">        <span class="keyword">if</span> is_top:</span><br><span class="line">            query = query &amp; Q(is_top=<span class="literal">True</span>)</span><br><span class="line">        <span class="comment"># TODO 3. 景点名称搜索</span></span><br><span class="line">        queryset = Sight.objects.filter(query)</span><br><span class="line">        <span class="keyword">return</span> queryset</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">render_to_response</span>(<span class="params">self, context, **response_kwargs</span>):</span></span><br><span class="line">        page_obj = context[<span class="string">'page_obj'</span>]</span><br><span class="line">        data = {</span><br><span class="line">            <span class="string">'meta'</span>: {</span><br><span class="line">                <span class="string">'total_count'</span>: page_obj.paginator.count,</span><br><span class="line">                <span class="string">'page_count'</span>: page_obj.paginator.num_pages,</span><br><span class="line">                <span class="string">'current_page'</span>: page_obj.number,</span><br><span class="line">            },</span><br><span class="line">            <span class="string">'objects'</span>: []</span><br><span class="line">        }</span><br><span class="line">        <span class="keyword">for</span> item <span class="keyword">in</span> page_obj.object_list:</span><br><span class="line">            data[<span class="string">'objects'</span>].append({</span><br><span class="line">                <span class="string">'id'</span>: item.id,</span><br><span class="line">                <span class="string">'name'</span>: item.name,</span><br><span class="line">                <span class="string">'main_img'</span>: item.main_img.url,</span><br><span class="line">                <span class="string">'score'</span>: item.score,</span><br><span class="line">                <span class="string">'province'</span>: item.province,</span><br><span class="line">                <span class="string">'min_price'</span>: item.min_price,</span><br><span class="line">                <span class="string">'city'</span>: item.city,</span><br><span class="line">                <span class="comment"># TODO 评论数量暂时无法获取</span></span><br><span class="line">                <span class="string">'comment_count'</span>: <span class="number">0</span></span><br><span class="line">            })</span><br><span class="line">        <span class="keyword">return</span> http.JsonResponse(data)</span><br></pre></td></tr></tbody></table></figure>

</li>
</ul>
<p><code>sight/url.py</code></p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> system <span class="keyword">import</span> views</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    <span class="comment"># 景点列表接口</span></span><br><span class="line">    path(<span class="string">'sight/list/'</span>, views.SightListView.as_view(), name=<span class="string">"sight_list"</span>),</span><br><span class="line">]</span><br><span class="line">```  </span><br><span class="line">```trip/url.py```</span><br><span class="line">```python</span><br><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path, include</span><br><span class="line"></span><br><span class="line">urlpatterns = [</span><br><span class="line">    path(<span class="string">'admin/'</span>, admin.site.urls),</span><br><span class="line">    <span class="comment"># 景点相关的URL</span></span><br><span class="line">    path(<span class="string">'sight/'</span>, include(<span class="string">'sight.urls'</span>))</span><br><span class="line">]</span><br><span class="line">``` </span><br><span class="line">- 第三步，模拟HTTP请求，测试验证接口</span><br><span class="line">```bash</span><br><span class="line">python manage.py runserver</span><br></pre></td></tr></tbody></table></figure>

<h3 id="接口文档编写"><a href="#接口文档编写" class="headerlink" title="接口文档编写"></a>接口文档编写</h3><ul>
<li>第一步，学习Markdown语法，可以生成html结构的文档</li>
<li>第二步，编写文档公共部分</li>
<li>第三步，编写接口文档</li>
</ul>
<h3 id="轮播图接口数据获取-接口联调"><a href="#轮播图接口数据获取-接口联调" class="headerlink" title="轮播图接口数据获取(接口联调)"></a>轮播图接口数据获取(接口联调)</h3><h4 id="实现步骤"><a href="#实现步骤" class="headerlink" title="实现步骤"></a>实现步骤</h4><ul>
<li><p>第一步，阅读接口文档</p>
</li>
<li><p>第二步，配置接口地址<br><code>src\utils\apis.js</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 存放项目中所有的接口地址</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> apiHost = <span class="string">'http://localhost:8080/api'</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 用户账户相关的接口</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> AccountsApis = {</span><br><span class="line">  loginUrl: <span class="string">'/'</span>,</span><br><span class="line">  logoutUrl: <span class="string">''</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 系统模块的接口</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> SystemApis = {</span><br><span class="line">  <span class="comment">// 轮播图列表</span></span><br><span class="line">  sliderListUrl: apiHost + <span class="string">'/system/slider/list/'</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> {</span><br><span class="line">  AccountsApis,</span><br><span class="line">  SystemApis</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p><code>vue.config.js</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Node.js里面的模块</span></span><br><span class="line"><span class="built_in">module</span>.exports = {</span><br><span class="line">  <span class="comment">// http://localhost:8080/api/system/slider/list/</span></span><br><span class="line">  <span class="comment">// =&gt;</span></span><br><span class="line">  <span class="comment">// http://127.0.0.1:8080/system/slider/list/</span></span><br><span class="line">  <span class="comment">// 在Vue.js中解决跨域问题</span></span><br><span class="line">  devServer: {</span><br><span class="line">    proxy: {</span><br><span class="line">      <span class="string">'/api'</span>: {  <span class="comment">// 从/api开头 代理到目标地址</span></span><br><span class="line">        target: <span class="string">'http://127.0.0.1:8000/'</span>,  <span class="comment">// 这个地址的服务器要启动才能访问 </span></span><br><span class="line">        changeOrigin: <span class="literal">true</span>,</span><br><span class="line">        pathRewrite: {</span><br><span class="line">          <span class="string">'^/api'</span>: <span class="string">''</span>   <span class="comment">//  重写URL，空字符表示把/api字符串去掉</span></span><br><span class="line">        }</span><br><span class="line">      }</span><br><span class="line">    }</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>第三步，在组件中使用axios获取数据<br><code>src/components/home/Bannaer</code></p>
<figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> { ajax } <span class="keyword">from</span> <span class="string">'@/utils/ajax'</span></span><br><span class="line"><span class="keyword">import</span> { SystemApis } <span class="keyword">from</span> <span class="string">'@/utils/apis'</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> {</span><br><span class="line">  data () {</span><br><span class="line">    <span class="keyword">return</span> {</span><br><span class="line">      bannerList: []</span><br><span class="line">    }</span><br><span class="line">  },</span><br><span class="line">  methods: {</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 获取轮播图的数据</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    getDataList () {</span><br><span class="line">      ajax.get(SystemApis.sliderListUrl).then(<span class="function"><span class="params">res</span> =&gt;</span> {</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'res:'</span>, res)</span><br><span class="line">        <span class="built_in">this</span>.bannerList = res.data.objects</span><br><span class="line">      })</span><br><span class="line">    }</span><br><span class="line">  },</span><br><span class="line">  created () {</span><br><span class="line">    <span class="comment">// 从接口获取数据</span></span><br><span class="line">    <span class="built_in">this</span>.getDataList()</span><br><span class="line">  }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

</li>
</ul>
<p>django项目的<code>trip/setting.py</code>的<code>STATIC_URL = '/static/'</code>下一行加上</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MEDIA_URL = <span class="string">'http://localhost:8080/'</span></span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>第四步，将数据设置到模型层<br>Vue组件<code>Banner.vue</code>的模板里的数据<code>img_id</code>和<code>img_url</code>是调用django的视图<code>system/view.py</code>里面的<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">&lt;!-- 首页的轮播图 --&gt;</span><br><span class="line">  &lt;div class="home-banner-box"&gt;</span><br><span class="line">    &lt;van-swipe class="my-swipe" :autoplay="3000" indicator-color="white"&gt;</span><br><span class="line">      &lt;van-swipe-item v-for="item in bannerList"</span><br><span class="line">        :key="item.id"&gt;</span><br><span class="line">        &lt;img :src="item.img_url" alt=""&gt;</span><br><span class="line">      &lt;/van-swipe-item&gt;</span><br><span class="line">    &lt;/van-swipe&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></tbody></table></figure>

</li>
</ul>
<h3 id="景点列表接口数据获取"><a href="#景点列表接口数据获取" class="headerlink" title="景点列表接口数据获取"></a>景点列表接口数据获取</h3><h4 id="实现步骤-1"><a href="#实现步骤-1" class="headerlink" title="实现步骤"></a>实现步骤</h4><ul>
<li>第一步，阅读接口文档</li>
<li>第二步，配置接口地址<br><code>src\utils\apis.js</code><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 景点模块</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> SightApis = {</span><br><span class="line">  <span class="comment">// 景点列表</span></span><br><span class="line">  sightListUrl: apiHost + <span class="string">'/sight/sight/list/'</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> {</span><br><span class="line">  SightApis</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<code>vue.config.js</code><figure class="highlight js"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">``</span><span class="string">`</span></span><br><span class="line"><span class="string">- 第三步，使用axios获取数据</span></span><br><span class="line"><span class="string">`</span><span class="string">``</span>js</span><br><span class="line">methods: {</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 查热门景点</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    getDataList () {</span><br><span class="line">      ajax.get(SightApis.sightListUrl, {</span><br><span class="line">        params: {</span><br><span class="line">          is_hot: <span class="number">1</span></span><br><span class="line">        }</span><br><span class="line">      }).then(<span class="function">(<span class="params">{ data }</span>) =&gt;</span> {</span><br><span class="line">        <span class="built_in">this</span>.dataList = data.objects</span><br><span class="line">      })</span><br><span class="line">    }</span><br><span class="line">  }</span><br></pre></td></tr></tbody></table></figure></li>
<li>第四步，将数据设置到模型层，<br>Vue组件<code>Hot.vue</code>的模板里的数据<code>main_img</code>和<code>name</code>和<code>min_price</code>是调用django的视图<code>sight/view.py</code>里面的<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;!-- 热门景点 --&gt;</span><br><span class="line">  &lt;div class="home-hot-box"&gt;</span><br><span class="line">    &lt;!-- 顶上导航 --&gt;</span><br><span class="line">    &lt;van-cell</span><br><span class="line">      title="热门推荐"</span><br><span class="line">      icon="/static/home/hot/fire.png"</span><br><span class="line">      is-link</span><br><span class="line">      title-style="text-align:left"</span><br><span class="line">      value="全部榜单" /&gt;</span><br><span class="line">    &lt;!-- // 顶上导航 --&gt;</span><br><span class="line">    &lt;!-- 景点列表 --&gt;</span><br><span class="line">    &lt;div class="box-main"&gt;</span><br><span class="line">      &lt;a href="#" class="hot-item"</span><br><span class="line">        v-for="item in dataList"</span><br><span class="line">        :key="item.id"&gt;</span><br><span class="line">        &lt;div class="img"&gt;</span><br><span class="line">          &lt;span&gt;&lt;/span&gt;</span><br><span class="line">          &lt;img :src="item.main_img" alt=""&gt;</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">        &lt;!-- ellipsis 省略号 意思是超过一定长度变成省略号 --&gt;</span><br><span class="line">        &lt;h5 class="van-ellipsis"&gt;{{ item.name }}&lt;/h5&gt;</span><br><span class="line">        &lt;div class="line-price"&gt;</span><br><span class="line">          &lt;span class="price"&gt;￥{{ item.min_price }}&lt;/span&gt;起</span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">      &lt;/a&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">    &lt;!-- //景点列表 --&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></tbody></table></figure>

</li>
</ul>
<p>Vue组件<code>Fine.vue</code>的模板里的数据<code>is_top</code>和<code>name</code>和<code>min_price</code>是调用django的视图<code>sight/view.py</code>里面的</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">import SightItem from '@/components/common/ListSight'</span><br><span class="line">export default {</span><br><span class="line">  components: {</span><br><span class="line">    SightItem</span><br><span class="line">  },</span><br><span class="line">  data () {</span><br><span class="line">    return {</span><br><span class="line">      dataList: []</span><br><span class="line">    }</span><br><span class="line">  },</span><br><span class="line">  methods: {</span><br><span class="line">    /**</span><br><span class="line">     * 查精选景点</span><br><span class="line">     */</span><br><span class="line">    getDataList () {</span><br><span class="line">      ajax.get(SightApis.sightListUrl, {</span><br><span class="line">        params: {</span><br><span class="line">          is_top: 1</span><br><span class="line">        }</span><br><span class="line">      }).then(({ data }) =&gt; {</span><br><span class="line">        this.dataList = data.objects</span><br><span class="line">      })</span><br><span class="line">    }</span><br><span class="line">  },</span><br><span class="line">  created () {</span><br><span class="line">    this.getDataList()</span><br><span class="line">    // this.dataList = [</span><br><span class="line">    //   {id: 1, name: '景点名称', score: 5, price: 98},</span><br><span class="line">    //   {id: 2, name: '景点名称', score: 4.5, price: 98},</span><br><span class="line">    //   {id: 3, name: '景点名称', score: 4, price: 98},</span><br><span class="line">    // ]</span><br><span class="line">  }</span><br><span class="line">}</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></tbody></table></figure>

<p><code>src\components\common\ListSight.vue</code>的<code>name</code>和<code>score</code>是调用<code>sight/view.py</code></p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;a href="#" class="sight-item"&gt;</span><br><span class="line">    &lt;img :src="item.main_img" :alt="item.name"&gt;</span><br><span class="line">    &lt;div class="right"&gt;</span><br><span class="line">      &lt;h5&gt;{{ item.name }}&lt;/h5&gt;</span><br><span class="line">      &lt;van-rate v-model="item.score" readonly/&gt;</span><br><span class="line">      &lt;div class="tips"&gt;{{ item.comment_count }}人点评 | 100%满意&lt;/div&gt;</span><br><span class="line">      &lt;div class="tips light"&gt;{{ item.province }} - {{ item.city }}&lt;/div&gt;</span><br><span class="line">      &lt;div class="line-price"&gt;￥ {{ item.min_price }} 起&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">  &lt;/a&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></tbody></table></figure>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/java-shu-ju-lei-xing/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/java-shu-ju-lei-xing/" class="post-title-link" itemprop="url">java数据类型</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-04-02 12:24:46" itemprop="dateModified" datetime="2021-04-02T12:24:46Z">2021-04-02</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/java/" itemprop="url" rel="index"><span itemprop="name">java</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>内置数据类型<br>Java语言提供了八种基本类型。六种数字类型（四个整数型，两个浮点型），一种字符类型，还有一种布尔型。</p>
<p>byte 字节型，在内存中占1个字节 8位、有符号的，以二进制补码表示的整数；<br>最小值是 -128（-2^7）；<br>最大值是 127（2^7-1）；<br>默认值是 0；<br>byte 类型用在大型数组中节约空间，主要代替整数，因为 byte 变量占用的空间只有 int 类型的四分之一；<br>例子：byte a = 100，byte b = -50。</p>
<p>short 短整型，2个字节 16个二进制位、有符号的以二进制补码表示的整数<br>7483647，默认值0<br>最小值是 -32768（-2^15）；<br>最大值是 32767（2^15 - 1）；<br>默认值是 0；<br>Short 数据类型也可以像 byte 那样节省空间。一个short变量是int型变量所占空间的二分之一；<br>例子：short s = 1000，short r = -20000。</p>
<p>int：整型，4个字节 32个二进制位、有符号的以二进制补码表示的整数；<br>整型变量默认为 int 类型；整型字面值默认情况下是int类型<br>最小值是 -2,147,483,648（-2^31）；<br>最大值是 2,147,483,647（2^31 - 1）；<br>默认值是 0 ；<br>例子：<code>int a = 100000</code><br>定义变量的同时对变量进行初始化<br>变量a和它的值在内存当中如何存储的？在内存的栈中开辟int类型大小的空间，把100这个整型字面值存储到开辟的空间中，变量名a看作是100所在的内存空间的别名，a就代表100</p>
<p>long：长整型，在内存中占8个字节，64个二进制位、有符号的以二进制补码表示的整数；<br>最小值是 -9,223,372,036,854,775,808（-2^63）；<br>最大值是 9,223,372,036,854,775,807（2^63 -1）；<br>默认值是 0L；<br>这种类型主要使用在需要比较大整数的系统上；</p>
<p>例子： long a = 100000L，Long b = -200000L，Long c = 0x1abcL。<br>长整型则在末尾加l或L，”L”理论上不分大小写，但是若写成”l”容易与数字”1”混淆，不容易分辩。所以最好大写。</p>
<p>数据表示范围依次增大。选择数据类型的时候可以参考表示范围来选取，但实际应用中，int和long是常用的数据类型，而byte和short使用较少，即使数值比较小一般也会使用int类型。<br>byte类型主要对二进制数据进行存储，在文件输入输出流部分将会使用，用于二进制数据的传输。<br>short类型在有的需求中会用到，比如：对于登录账号的状态表示，一般用0表示正常，1表示冻结，2表示已删除。这里的数值比较固定，值也比较小，可以使用short类型表示。</p>
<p>浮点数就是小数点在逻辑上是不固定的</p>
<p>float：数据类型是单精度浮点型，在内存中占4个字节，32位，精度是 7<del>8 位，符合IEEE 754标准的浮点数；用于存储带小数点的数字（与double的区别在于float类型有效小数点只有6</del>7位而且在内存中的占的位数也不同），<br>则需要在字面值后加f或F<br>默认值是 0.0f；<br>在储存大型浮点数组的时候可节省内存空间；<br>浮点数不能用来表示精确的值，如货币；<br>例子：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">float</span> f1 = <span class="number">234.5f</span></span><br><span class="line"><span class="keyword">float</span> f1 = <span class="number">234.5F</span></span><br><span class="line"><span class="comment">// 后面不加d或者f表示double，double比float数据表示范围大</span></span><br><span class="line"><span class="keyword">float</span> f1 = <span class="number">234.5</span> <span class="comment">// java: 不兼容的类型: 从double转换到float可能会有损失</span></span><br></pre></td></tr></tbody></table></figure>

<p>double 双精度浮点型，在内存中占8个字节 64 位，精度是 16~17 位，符合IEEE 754标准的浮点数；<br>用于存储带有小数点的数字，<br>浮点数（浮点型字面值）的默认类型为double类型；<br>后面不加d或者f表示double，也可以在值后加d或D<br>double类型同样不能表示精确的值，如货币；<br>默认值是 0.0d；<br>例子：</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> d1 = <span class="number">123.4</span></span><br><span class="line"><span class="keyword">double</span> d2 = <span class="number">123.4d</span></span><br><span class="line"><span class="keyword">double</span> d3 = <span class="number">123.4D</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="科学计数法表示浮点数"><a href="#科学计数法表示浮点数" class="headerlink" title="科学计数法表示浮点数"></a>科学计数法表示浮点数</h3><figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">double</span> x = <span class="number">1.23E5</span>;</span><br><span class="line">System.out.println(<span class="string">"x="</span> + x);  <span class="comment">// x=123000.0</span></span><br><span class="line"><span class="keyword">float</span> y = <span class="number">1.23e5f</span>;</span><br><span class="line">System.out.println(<span class="string">"y="</span> + y);  <span class="comment">// y=123000.0</span></span><br><span class="line"><span class="keyword">double</span> z = .<span class="number">2</span>;</span><br><span class="line">System.out.println(<span class="string">"z="</span> + z);  <span class="comment">// z=0.2</span></span><br></pre></td></tr></tbody></table></figure>

<p>boolean数据类型表示1个字节8位的信息；<br>只有两个取值：true 和 false；<br>这种类型只作为一种标志来记录 true/false 情况；<br>默认值是 false；<br>例子：<code>boolean one = true</code>。</p>
<p>二、浮点型的应用场景<br>浮点类型表示小数，包括float和double两种类型，具体使用哪种数据类型，也是可以按照表示范围进行选择。但double类型<br>使用相对较多。<br>应用场景主要是要求数据精度高、并且数据量大的情况，如：医学、化学、军事、天文等领域。<br>这里需要注意，浮点型因为其表示方式的原因，会产生精度丢失的问题，</p>
<p>精确计算<br>通过 BigDecimal 类，先将浮点型数据转换为 String 类型的数据，然后再进行相应的计算。<br>以下为利用 BigDecimal 类进行加法和减法运算的测试代码</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.imooc;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>{</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        <span class="keyword">double</span> a = <span class="number">1.9</span>;</span><br><span class="line">        <span class="keyword">double</span> b = <span class="number">1.7</span>;</span><br><span class="line">        System.out.println(<span class="string">"直接进行减法运算，运算结果:\n"</span> + (a - b));</span><br><span class="line">        System.out.println(<span class="string">"利用 BigDecimal类的进行减法运算结果:\n"</span> + sub(a, b));</span><br><span class="line">        System.out.println();</span><br><span class="line">        System.out.println(<span class="string">"直接进行加法运算，运算结果:\n"</span> + (a + b));</span><br><span class="line">        System.out.println(<span class="string">"利用 BigDecimal类的进行加法运算结果:\n"</span> + add(a, b));</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//利用 BigDecimal类的进行减法运算</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">double</span> <span class="title">sub</span><span class="params">(<span class="keyword">double</span> v1, <span class="keyword">double</span> v2)</span> </span>{</span><br><span class="line">        <span class="comment">//将浮点数转为 String类型</span></span><br><span class="line">        BigDecimal b1 = <span class="keyword">new</span> BigDecimal(Double.toString(v1));</span><br><span class="line">        BigDecimal b2 = <span class="keyword">new</span> BigDecimal(Double.toString(v2));</span><br><span class="line">        <span class="comment">//通过 BigDecimal类中 subtract方法完成减法运算,</span></span><br><span class="line">        <span class="comment">// 其中b1是被减数,b2是减数</span></span><br><span class="line">        <span class="keyword">double</span> b = b1.subtract(b2).doubleValue();</span><br><span class="line">        <span class="keyword">return</span> b;</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">//利用 BigDecimal类的进行加法运算</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">double</span> <span class="title">add</span><span class="params">(<span class="keyword">double</span> v1, <span class="keyword">double</span> v2)</span> </span>{</span><br><span class="line">        BigDecimal b1 = <span class="keyword">new</span> BigDecimal(Double.toString(v1));</span><br><span class="line">        BigDecimal b2 = <span class="keyword">new</span> BigDecimal(Double.toString(v2));</span><br><span class="line">        <span class="keyword">return</span> b1.add(b2).doubleValue();</span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>char类型是一个单一的占2个字节，16个二进制位 无符号Unicode 字符；<br>最小值是 \u0000（即为 0）；<br>最大值是 \uffff（即为65,535）；<br>char 数据类型可以储存任何字符；字符就是整数类型<br>例子：<code>char letter = 'A';</code>。</p>
<p>abstract 修饰抽象类。</p>
<p>break 一般用于循环里面作用是结束当前循环。 </p>
<p>case 用于swith里面。<br> continue 结束当天循环进入下次循环。 default 用于 swith case与<br>接口里。 do 用于循环，一般用于 do{循环内容}(判断条件)；<br>else 用于判断 if(条件){ } else if(条件){} else{}. extends 子类继承父<br>类。false 可以用于判断条件 也可以给boolean赋值。final 修饰的类不可被继承<br>方法不能被重新 变量不可变。 finally 用于try catch 的结尾 表示最终一定会执<br>行 也会不会的执行的情况例如在try catch 里面有return语句，死循环等 Syste<br>m.exit() 中止 守护线程等。</p>
<p>for 循环。<br>if 判断。 </p>
<p>implements 实现接口，一个类型可以实现多个接口。 import 导入。 native 修饰方<br>法为本地方法。 </p>
<p>interface 定义接口。<br>instan</p>
<p>常见的常量类型有<br>整型常量（int），浮点数常量（float）,布尔型常量（boolean），字符常量（char），<br>字符串常量（string），引用类型常量。<br>String&nbsp;是一种常见的引用数据类型，用来表示字符串，即多个字符。<br>例如系统中的用户名、密码、电子邮箱等。</p>
<p>格式化字符串字面值&nbsp;</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="string">'python'</span></span><br><span class="line">b=len(a)</span><br><span class="line">print('hah'+str(b))#hah6</span><br><span class="line">print(f<span class="string">'hah{b}'</span>)</span><br><span class="line">print(<span class="string">'hah{}'</span>.format(b))</span><br></pre></td></tr></tbody></table></figure>
<p>{&nbsp;&nbsp;}&nbsp;来标记变量将被替换的位置</p>
<h3 id="变量声明"><a href="#变量声明" class="headerlink" title="变量声明"></a>变量声明</h3><p>格式：<code>数据类型 变量名；</code></p>
<figure class="highlight plain"><figcaption><span>n;``` 声明整型变量n</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">```long count;``` 声明长整型变量count</span><br><span class="line"></span><br><span class="line">- 相同类型的数据变量可以一次定义多个，变量名之间用逗号隔开</span><br><span class="line">```float a,b1=1.23f;```a是float类型，但是没初始化，bfloat类型且初始化</span><br><span class="line"></span><br><span class="line">- 同方法内不可以重复定义相同的变量名</span><br><span class="line"></span><br><span class="line">### 使用“＝”运算符进行赋值</span><br><span class="line">“＝”叫作赋值运算符，将运算符右边的值赋给左边的变量。</span><br><span class="line">例：```int n;``` 定义int型变量n  </span><br><span class="line">```n=3;``` 将3赋值给n</span><br><span class="line">- 可以在定义变量的同时给变量赋值，即变量的初始化。</span><br><span class="line">例：```int n=3;```</span><br><span class="line">- 数据类型 变量名＝变量值</span><br><span class="line"></span><br><span class="line">变量定义</span><br><span class="line">```java</span><br><span class="line">int octal=037; //定义int类型变量存放八进制数据</span><br><span class="line">long longNumber=0xa2cdf3ffL; //定义变量存放十六进制长整型数据</span><br><span class="line">short shortNumber=123;  //定义变量存放短整型数据</span><br><span class="line">byte b=10; //定义变量存放byte类型数据</span><br></pre></td></tr></tbody></table></figure>

<h3 id="语句"><a href="#语句" class="headerlink" title="语句"></a>语句</h3><ul>
<li>以分号结束</li>
<li>不能换到一行写</li>
<li>单行注释，注释一行</li>
</ul>
<h3 id="数据类型分类"><a href="#数据类型分类" class="headerlink" title="数据类型分类"></a>数据类型分类</h3><ul>
<li><p>基本数据类型 </p>
</li>
<li><p>引用数据类型<br>存的是保存数据的空间地址，这个抽屉的钥匙，钥匙和抽屉一一对应</p>
<ul>
<li>类 class</li>
<li>接口 interface</li>
<li>数组</li>
</ul>
</li>
</ul>
<p>类定义的变量又叫对象</p>
<h3 id="按照作用范围分为"><a href="#按照作用范围分为" class="headerlink" title="按照作用范围分为:"></a>按照作用范围分为:</h3><ul>
<li>类级</li>
<li>对象实例级</li>
<li>方法级（局部变量，定义在主方法中）</li>
<li>块级</li>
</ul>
<h3 id="字面值是常量和变量实际表示的数值，都是有数据类型的"><a href="#字面值是常量和变量实际表示的数值，都是有数据类型的" class="headerlink" title="字面值是常量和变量实际表示的数值，都是有数据类型的"></a>字面值是常量和变量实际表示的数值，都是有数据类型的</h3><p>字面值是常量的一种</p>
<h3 id="字符型字面值"><a href="#字符型字面值" class="headerlink" title="字符型字面值"></a>字符型字面值</h3><p>用单引号内的只有一个单个字符表示，不能双引号<br>字符：单个字母，键盘上的，空格也是字符，算长度空格也算<br>如：<code>char ‘a’</code>，<code>char ‘b’</code>，<code>char ‘$’</code>，<br>不能写<code>char "a"</code></p>
<ul>
<li>如何定义字符型变量？<h4 id="类型转换分为"><a href="#类型转换分为" class="headerlink" title="类型转换分为"></a>类型转换分为</h4></li>
</ul>
<ol>
<li><p>自动类型转换（隐式）<br>数据所表示的数据范围小的转换位所表示的数据范围大的</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">       <span class="comment">// 定义一个变量存放字符'a'，字符a的值赋值字符变量a</span></span><br><span class="line">       <span class="keyword">char</span> a = <span class="string">'a'</span>;</span><br><span class="line">       System.out.println(<span class="string">"a="</span> + a);</span><br><span class="line"></span><br><span class="line">       <span class="comment">// 整型赋值给char类型，如果字面值没有超出char类型所表示的数据范围，转换成它的ASCII值所对应的字符数据</span></span><br><span class="line"><span class="keyword">char</span> ascii_97 = <span class="number">97</span>;  <span class="comment">// a=a</span></span><br><span class="line">System.out.println(<span class="string">"ascii_97="</span> + ascii_97);  <span class="comment">// ascii_97=a</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>强制类型转换<br>如果A类型的数据表示范围比B类型大，则将A类型的值赋值给B类型，需要强制类型转换<br>格式<code>（数据类型） 数值</code><br><code>double d＝123.4;</code><br><code>float f=(float)d;</code></p>
</li>
</ol>
<p>如果字面值超出char类型所表示的数据范围，需要进行强制类型转换。</p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">long</span> <span class="keyword">var</span> = (<span class="keyword">long</span>) <span class="number">1.9e8</span>;</span><br><span class="line">System.out.println(<span class="string">"var="</span> + <span class="keyword">var</span>);  <span class="comment">// var=190000000</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">double</span> z = <span class="keyword">var</span>;</span><br><span class="line">System.out.println(<span class="string">"z="</span> + z);  <span class="comment">// z=1.9E8</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">char</span> ch = <span class="number">65535</span>;</span><br><span class="line"><span class="keyword">char</span> ch1 = (<span class="keyword">char</span>) <span class="number">65536</span>;</span><br><span class="line">System.out.println(<span class="string">"ch="</span> + ch);  <span class="comment">// ch=￿</span></span><br><span class="line">System.out.println(<span class="string">"ch1="</span> + ch1);  <span class="comment">// ch1=</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//char类型和int类型之间的转换</span></span><br><span class="line"><span class="keyword">char</span> c = (<span class="keyword">char</span>) <span class="number">65536</span>;</span><br><span class="line">System.out.println(<span class="string">"c="</span> + c);  <span class="comment">// c=</span></span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line">n = c;<span class="comment">//隐式类型转换</span></span><br><span class="line">System.out.println(<span class="string">"n="</span> + n);  <span class="comment">// n=0</span></span><br><span class="line">c = (<span class="keyword">char</span>) n;</span><br><span class="line">System.out.println(<span class="string">"c="</span> + c);  <span class="comment">// c=</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//整型和整型的类型转换问题</span></span><br><span class="line"><span class="keyword">long</span> l = <span class="number">987654321</span>;</span><br><span class="line"><span class="keyword">int</span> i = (<span class="keyword">int</span>) l;</span><br><span class="line">System.out.println(<span class="string">"i="</span> + i);</span><br><span class="line"></span><br><span class="line"><span class="comment">//整型和浮点型的类型转换问题</span></span><br><span class="line"><span class="keyword">int</span> x = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">long</span> y = x;</span><br><span class="line">x = (<span class="keyword">int</span>) y;</span><br><span class="line"><span class="keyword">float</span> f = <span class="number">100000000000000L</span>;</span><br><span class="line">System.out.println(<span class="string">"f="</span> + f);  <span class="comment">// f=1.0E14</span></span><br><span class="line"><span class="keyword">float</span> f1 = <span class="number">103948583923948L</span>;</span><br><span class="line">System.out.println(<span class="string">"f1="</span> + f1);  <span class="comment">// f1=1.03948585E14 数据丢失</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="字符串字面值"><a href="#字符串字面值" class="headerlink" title="字符串字面值"></a>字符串字面值</h3><ul>
<li>双引号引起来的0个或多个字符<br>字符串不属于基本数据类型，它是类，双引号的<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 定义一个空字符串</span></span><br><span class="line">String s1 = <span class="string">""</span>;</span><br><span class="line">System.out.println(<span class="string">"s1="</span> + s1);  <span class="comment">// s1=</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//定义一个包含空格的字符串</span></span><br><span class="line">String s5 = <span class="string">"Hello   imooc!"</span>;</span><br><span class="line">System.out.println(<span class="string">"s5="</span> + s5);  <span class="comment">// s4=Hello   imooc!</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//定义一个字符串，内容是Hello</span></span><br><span class="line">String s2 = <span class="string">"Hello"</span>;</span><br><span class="line">System.out.println(<span class="string">"s2="</span> + s2);  <span class="comment">// s2=Hello</span></span><br><span class="line"><span class="comment">//定义一个unicode字符的字符串</span></span><br><span class="line">String s3 = <span class="string">"\u005d\u005f"</span>;</span><br><span class="line">System.out.println(<span class="string">"s3="</span> + s3);  <span class="comment">// s3=]_</span></span><br><span class="line"><span class="comment">//定义一个包含unicode字符和其他字符写在一起的字符串</span></span><br><span class="line">String s4 = <span class="string">"A\u005d\u005fB"</span>;</span><br><span class="line">System.out.println(<span class="string">"s4="</span> + s4);  <span class="comment">// s4=A]_B</span></span><br></pre></td></tr></tbody></table></figure>


</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">System.out.println(<span class="number">3</span> + <span class="string">"\t"</span> + <span class="number">5</span>);</span><br><span class="line"><span class="comment">// 3    5 双引号只有一个字符的字符串</span></span><br><span class="line">System.out.println(<span class="number">3</span> + <span class="string">'\t'</span> + <span class="number">5</span>);</span><br><span class="line"><span class="comment">// 17 双引号只有一个字符的字符串</span></span><br><span class="line">System.out.println(<span class="number">3</span> + <span class="string">"\t"</span> + <span class="number">5</span> + <span class="string">'\n'</span>);</span><br><span class="line"><span class="comment">// 3    5 双引号只有一个字符的字符串，字符串连接</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line">System.out.println(<span class="number">3</span> + <span class="string">'\t'</span> + <span class="number">5</span> + <span class="string">'\n'</span>);  </span><br><span class="line"><span class="comment">// 27 字符就是整型，把字符都转换成整数，进行加法运算</span></span><br><span class="line">System.out.println(<span class="string">""</span> + <span class="number">3</span> + <span class="string">'\t'</span> + <span class="number">5</span> + <span class="string">'\n'</span>);  </span><br><span class="line"><span class="comment">// 3    5 最前面加一个空串，一开始就是做字符串连接</span></span><br><span class="line">System.out.println(<span class="string">'\n'</span> + <span class="number">3</span> + <span class="string">"\t"</span> + <span class="number">5</span>);  </span><br><span class="line"><span class="comment">// 13</span></span><br><span class="line">System.out.println(<span class="string">"\n"</span> + <span class="number">3</span> + <span class="string">"\t"</span> + <span class="number">5</span>);</span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// 3    5</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="布尔类型字面值"><a href="#布尔类型字面值" class="headerlink" title="布尔类型字面值"></a>布尔类型字面值</h3><p>布尔值只能定义为true和false<br>例：<code>boolean b=true;</code></p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// FloatDemo.java</span></span><br><span class="line"><span class="keyword">package</span> com.imooc;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">FloatDemo</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        <span class="comment">//定义一个单精度浮点型变量，存放1234.328</span></span><br><span class="line">        <span class="keyword">float</span> f = <span class="number">1234.328f</span>;</span><br><span class="line">        System.out.println(<span class="string">"f="</span> + f);</span><br><span class="line">        <span class="comment">//f=1234.328</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//定义一个双精度浮点型变量，存放5623.465</span></span><br><span class="line">        <span class="keyword">double</span> d = <span class="number">5623.464</span>;</span><br><span class="line">        System.out.println(<span class="string">"d="</span> + d);</span><br><span class="line">        <span class="comment">//d=5623.464</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//将整型赋值给浮点型</span></span><br><span class="line">        <span class="keyword">double</span> d1 = <span class="number">123</span>;</span><br><span class="line">        System.out.println(<span class="string">"d1="</span> + d1);</span><br><span class="line">        <span class="comment">//d1=123.0</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//变量间的赋值</span></span><br><span class="line">        <span class="keyword">double</span> d2 = d;</span><br><span class="line">        System.out.println(<span class="string">"d2="</span> + d2);</span><br><span class="line">        <span class="comment">//d2=5623.464</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//将单精度浮点型赋值给双精度</span></span><br><span class="line">        <span class="keyword">double</span> d3 = <span class="number">1.23f</span>;</span><br><span class="line">        System.out.println(<span class="string">"d3="</span> + d3);</span><br><span class="line">        <span class="comment">//d3=1.2300000190734863</span></span><br><span class="line"></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>整数型的阈值 </p>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PrimitiveTypeTest</span> </span>{</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>{</span><br><span class="line">        <span class="comment">// byte</span></span><br><span class="line">        System.out.println(<span class="string">"基本类型：byte 二进制位数："</span> + Byte.SIZE);</span><br><span class="line">        System.out.println(<span class="string">"包装类：java.lang.Byte"</span>);</span><br><span class="line">        System.out.println(<span class="string">"最小值：Byte.MIN_VALUE="</span> + Byte.MIN_VALUE);</span><br><span class="line">        System.out.println(<span class="string">"最大值：Byte.MAX_VALUE="</span> + Byte.MAX_VALUE);</span><br><span class="line">        System.out.println();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// short</span></span><br><span class="line">        System.out.println(<span class="string">"基本类型：short 二进制位数："</span> + Short.SIZE);</span><br><span class="line">        System.out.println(<span class="string">"包装类：java.lang.Short"</span>);</span><br><span class="line">        System.out.println(<span class="string">"最小值：Short.MIN_VALUE="</span> + Short.MIN_VALUE);</span><br><span class="line">        System.out.println(<span class="string">"最大值：Short.MAX_VALUE="</span> + Short.MAX_VALUE);</span><br><span class="line">        System.out.println();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// int</span></span><br><span class="line">        System.out.println(<span class="string">"基本类型：int 二进制位数："</span> + Integer.SIZE);</span><br><span class="line">        System.out.println(<span class="string">"包装类：java.lang.Integer"</span>);</span><br><span class="line">        System.out.println(<span class="string">"最小值：Integer.MIN_VALUE="</span> + Integer.MIN_VALUE);</span><br><span class="line">        System.out.println(<span class="string">"最大值：Integer.MAX_VALUE="</span> + Integer.MAX_VALUE);</span><br><span class="line">        System.out.println();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// long</span></span><br><span class="line">        System.out.println(<span class="string">"基本类型：long 二进制位数："</span> + Long.SIZE);</span><br><span class="line">        System.out.println(<span class="string">"包装类：java.lang.Long"</span>);</span><br><span class="line">        System.out.println(<span class="string">"最小值：Long.MIN_VALUE="</span> + Long.MIN_VALUE);</span><br><span class="line">        System.out.println(<span class="string">"最大值：Long.MAX_VALUE="</span> + Long.MAX_VALUE);</span><br><span class="line">        System.out.println();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// float</span></span><br><span class="line">        System.out.println(<span class="string">"基本类型：float 二进制位数："</span> + Float.SIZE);</span><br><span class="line">        System.out.println(<span class="string">"包装类：java.lang.Float"</span>);</span><br><span class="line">        System.out.println(<span class="string">"最小值：Float.MIN_VALUE="</span> + Float.MIN_VALUE);</span><br><span class="line">        System.out.println(<span class="string">"最大值：Float.MAX_VALUE="</span> + Float.MAX_VALUE);</span><br><span class="line">        System.out.println();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// double</span></span><br><span class="line">        System.out.println(<span class="string">"基本类型：double 二进制位数："</span> + Double.SIZE);</span><br><span class="line">        System.out.println(<span class="string">"包装类：java.lang.Double"</span>);</span><br><span class="line">        System.out.println(<span class="string">"最小值：Double.MIN_VALUE="</span> + Double.MIN_VALUE);</span><br><span class="line">        System.out.println(<span class="string">"最大值：Double.MAX_VALUE="</span> + Double.MAX_VALUE);</span><br><span class="line">        System.out.println();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// char</span></span><br><span class="line">        System.out.println(<span class="string">"基本类型：char 二进制位数："</span> + Character.SIZE);</span><br><span class="line">        System.out.println(<span class="string">"包装类：java.lang.Character"</span>);</span><br><span class="line">        <span class="comment">// 以数值形式而不是字符形式将Character.MIN_VALUE输出到控制台</span></span><br><span class="line">        System.out.println(<span class="string">"最小值：Character.MIN_VALUE="</span></span><br><span class="line">                + (<span class="keyword">int</span>) Character.MIN_VALUE);</span><br><span class="line">        <span class="comment">// 以数值形式而不是字符形式将Character.MAX_VALUE输出到控制台</span></span><br><span class="line">        System.out.println(<span class="string">"最大值：Character.MAX_VALUE="</span></span><br><span class="line">                + (<span class="keyword">int</span>) Character.MAX_VALUE);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight routeros"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">基本类型：byte 二进制位数：8</span><br><span class="line">包装类：java.lang.Byte</span><br><span class="line">最小值：Byte.<span class="attribute">MIN_VALUE</span>=-128</span><br><span class="line">最大值：Byte.<span class="attribute">MAX_VALUE</span>=127</span><br><span class="line"></span><br><span class="line">基本类型：short 二进制位数：16</span><br><span class="line">包装类：java.lang.Short</span><br><span class="line">最小值：Short.<span class="attribute">MIN_VALUE</span>=-32768</span><br><span class="line">最大值：Short.<span class="attribute">MAX_VALUE</span>=32767</span><br><span class="line"></span><br><span class="line">基本类型：int 二进制位数：32</span><br><span class="line">包装类：java.lang.Integer</span><br><span class="line">最小值：Integer.<span class="attribute">MIN_VALUE</span>=-2147483648</span><br><span class="line">最大值：Integer.<span class="attribute">MAX_VALUE</span>=2147483647</span><br><span class="line"></span><br><span class="line">基本类型：long 二进制位数：64</span><br><span class="line">包装类：java.lang.Long</span><br><span class="line">最小值：Long.<span class="attribute">MIN_VALUE</span>=-9223372036854775808</span><br><span class="line">最大值：Long.<span class="attribute">MAX_VALUE</span>=9223372036854775807</span><br><span class="line"></span><br><span class="line">基本类型：float 二进制位数：32</span><br><span class="line">包装类：java.lang.Float</span><br><span class="line">最小值：Float.<span class="attribute">MIN_VALUE</span>=1.4E-45</span><br><span class="line">最大值：Float.<span class="attribute">MAX_VALUE</span>=3.4028235E38</span><br><span class="line"></span><br><span class="line">基本类型：double 二进制位数：64</span><br><span class="line">包装类：java.lang.Double</span><br><span class="line">最小值：Double.<span class="attribute">MIN_VALUE</span>=4.9E-324</span><br><span class="line">最大值：Double.<span class="attribute">MAX_VALUE</span>=1.7976931348623157E308</span><br><span class="line"></span><br><span class="line">基本类型：char 二进制位数：16</span><br><span class="line">包装类：java.lang.Character</span><br><span class="line">最小值：Character.<span class="attribute">MIN_VALUE</span>=0</span><br><span class="line">最大值：Character.<span class="attribute">MAX_VALUE</span>=65535</span><br></pre></td></tr></tbody></table></figure>

<p>基本类型的创建：先去常量池中找是否存在该值，如果存在直接调取引用，如果不存在则先在常量池中创建该值，在调引用</p>
<p>所以，不可以创建一个空值给基本数据类型。</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/linux/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/linux/" class="post-title-link" itemprop="url">linux</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-04-02 12:24:45" itemprop="dateModified" datetime="2021-04-02T12:24:45Z">2021-04-02</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/linux/" itemprop="url" rel="index"><span itemprop="name">linux</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>操作系统是你的电脑和应用程序之间的连接工具</p>
<p>操作系统的核心称为“内核″，但内核并不就等于操作系统<br>内核提供系统服务，比如文件管理、虚拟內存、设备I/O等<br>它管理着整台计算机的硬件，负责应用程序和硬件之间的交互工作。<br>除内核以外，在应用软件与内核之间通常还有些作为中间件的API<br>还包含一些基本的程序，例如文本编辑器，编译器，外壳程序 Shell<br>单独的 Linux内核没办法工作,须要有GNU项目的众多应用程序<br>Linux的官方称谓应该是“GNU/ Linux”,一般简称 Linux</p>
<p>自由的软件意味着源代码必须公开<br>自由的软件大部分时候是免费的,但也可以复制,修改和出售<br>自由运动的口号是:“团结就是力量”</p>
<p>Centos是 Community Enterprise Operating System “社区企业操作系统”<br>Centos兼具 Community(社区)和 Enterprise(企业)的特性</p>
<p>macoS和 Windows的源代码是闭源的(看不到), Linux则开源<br>有很多不同的 Linux变体,术语称为“ Linux发行版”</p>
<p>主板 Motherboard 或 Mainboard<br>◆ 构成复杂电子系统例如电子计算机的中心或者主电路板</p>
<h3 id="电脑启动时-按先后顺序发生的"><a href="#电脑启动时-按先后顺序发生的" class="headerlink" title="电脑启动时,按先后顺序发生的"></a>电脑启动时,按先后顺序发生的</h3><ol>
<li>启动界面（主板）</li>
<li>bootloader</li>
<li>操作系统（例如Windows）的启动</li>
<li>其他程序</li>
</ol>
<p>Windows启动的必要性</p>
<ul>
<li>Windows启动后,才可以使用各种应用程序</li>
<li>你的电脑需要一个类似“大管家”的软件</li>
<li>“大管家”软件起到连接电脑硬件和软件的“桥梁”的作用</li>
</ul>
<h3 id="bootloader"><a href="#bootloader" class="headerlink" title="bootloader"></a>bootloader</h3><p>boot(“启动”的意思) loader(“加载器”的意思)<br>通过这段小程序，初始化硬件设备、建立內存空间的映射图<br>为最终调用操作系统内核准备好正确的环境</p>
<p>一台电脑可以拥有两个(甚至更多)的操作系统<br>当启动界面结束后，会有一个被称为bootloader的程序显示出来<br>bootloader让你做出选择，到底选择哪个操作系统来启动<br>然后是操作系统的内核运行</p>
<p>通常, bootloader严重依赖于硬件而实现的,特别是在嵌入式领域<br>一般在 Linux和 Windows之间做出选择的 bootloader叫GRUB<br>如果没有做岀选择，GRUB在几秒之后就会启动默认的操作系统</p>
<p>图形化界面(Graphical User Interface GUI)这种方式简单直观,使用者易于接受,容易上手操作。</p>
<p>命令行界面(Command Line Interface CLI)需要有个控制台,是在图形用户界面得到普及之前使用最为广泛的用户界面，它通常不支持鼠标，用户通过键盘输入指令，计算机接收到指令后，予以执行完成些操作。<br>Command Line CMD</p>
<h3 id="Shell"><a href="#Shell" class="headerlink" title="Shell"></a>Shell</h3><p>「壳」，即人与电脑的接口，实际上是个命令解释程序，从标准输入读取你的命令，把命令结果输出到标准输出和标准错误等设备。Shell 通常指的是命令行界面的解析器，一个为操作系统提供访问内核的程序<br>Windows 下的 cmd、PowerShell，这些都是 shell，这个应该很容易理解。<br>win终端 虚拟终端<br>cmd是DOS窗口，而powershell才是真正的Windows Terminal窗口</p>
<p>Linux 下的 Bash、Zsh，<br>bash，全名叫做 Bourne-Again SHell，绝大多数 Linux 发行版的默认 shell。<br>zsh，全名叫做 Z shell，新版 MacOS 的默认 shell。对 Bourne shell 做出了大量改进，同时加入了 Bash、ksh 及 tcsh 的某些功能<br>Shell 干的活儿是从终端那里拿到用户输入的命令，解析后交给操作系统内核去执行，然后把执行结果返回给终端。<br>终端干的活儿是从用户（通过键盘和鼠标）这里接收输入，然后扔给 Shell，然后把 Shell 返回的结果展示给用户（通过显示器）。</p>
<h3 id="Console-控制台"><a href="#Console-控制台" class="headerlink" title="Console(控制台)"></a>Console(控制台)</h3><p>真正的终端<br>没有图形界面,只有黑底白字的全屏幕的终端<br>即在 Linux 下按 Ctrl-Alt-F? 看到的那个命令界面。<br>事实上，在远古的 Unix 大型机时代，console 应该是指物理连接在主机上的输入输出设备，<br>而 terminal 是指与 console 进行远程通信的串行设备。<br>而如今的 Linux 控制台实际上是内核模拟的 /dev/ttyn 终端，/dev/console 一般就是 /dev/tty0，<br>只有 root 用户才能写入。</p>
<p>TTY是 TeleTYpe 或者 teletypewriters,原来指的是电传打字机<br>远程连接到控制台的串行设备，现在来说通常也就是 /dev/ttyn 这些设备啦</p>
<p>进入登录tty1~tty5这五个真正的全屏幕的tty终端的快捷键</p>
<figure class="highlight plain"><figcaption><span>terminal 1(:0大致等于tty1)</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line">```Ctrl +Alt +F3```: terminal 2(tty2)</span><br><span class="line">```Ctrl+ Alt+ F4```: terminal 3(tty3)</span><br><span class="line">```Ctrl+ Alt+F5```: terminal 4(tty4)</span><br><span class="line">```Ctrl + Alt + F6```: terminal5(tty5)</span><br><span class="line"></span><br><span class="line">退出tty终端</span><br><span class="line">```ctrl+Alt+F1```:回到图形界面(感谢上帝</span><br><span class="line"></span><br><span class="line">图形模式的终端:</span><br><span class="line">一般在 Centos等 Linux发行版下日常使用</span><br><span class="line">可以配置终端的外观,用鼠标操作,可以同时运行其他应用程序</span><br><span class="line"></span><br><span class="line">打开图形模式终端的方式</span><br><span class="line">- 调出系统搜索框，在搜索框中输入"terminal"</span><br><span class="line">- 用快捷键来调出终端，比如可以自己设置快捷键:Ctr|+At+T</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">### Linux 的目录组织</span><br><span class="line">普通的文件</span><br><span class="line">文本类型的文件（.txt，.doc，.odt，等等</span><br><span class="line">声音文件（.wav，.mp3，.ogg），还有程序，等</span><br><span class="line">这样的文件在 Windows 中也有</span><br><span class="line"></span><br><span class="line">特殊的文件</span><br><span class="line">你的光盘驱动器就是这类特殊的文件</span><br><span class="line"></span><br><span class="line">Linux 中一切都是文件</span><br><span class="line">### 根目录指逻辑驱动器的最上一级目录，它是相对子目录来说的。</span><br><span class="line">点开手机内部储存看到的就是手机的根目录</span><br><span class="line"></span><br><span class="line">Linux 根目录```/```是Linux 最顶层的目录，没有比根目录再高一阶的目录了，没有目录包含根目录</span><br><span class="line">用斜杠 ```/``` 来标明目录的层级与包含关系</span><br><span class="line">目录形式是这样的 /usr/bin</span><br><span class="line">bin 是 usr 目录的子目录，usr 是 / 这个根目录的子目录</span><br><span class="line">Linux 的文件和目录都是由根目录 / 开始自顶向下呈乔木状分散的</span><br><span class="line"></span><br><span class="line">Windows 中用反斜杠 \ 来标明目录的层级与包含关系</span><br><span class="line">C 盘（C:\）是硬盘的根目录（假如没有把 C 盘磁盘分区的话）</span><br><span class="line">可以有好几个根目录，双击C盘就进入C盘的根目录，双击D盘就进入D盘的根目录，</span><br><span class="line">H 盘可能是光盘驱动器的根目录</span><br><span class="line">点开游戏文件夹看到的就是游戏的根目录。</span><br><span class="line">一个目录的形式是这样的 C:\Program Files\Baidu</span><br><span class="line">Baidu 这个目录是 Program Files 这个目录的一个子目录</span><br><span class="line">Program Files 这个目录是 C 盘这个根目录的一个子目录</span><br><span class="line">目录名称可以包含空格等符号</span><br><span class="line">在 Linux 下命名目录时尽量不使用空格或者其他特殊的符号</span><br><span class="line">尽量用小写英文字母</span><br><span class="line"></span><br><span class="line">### Linux 的根目录的直属子目录</span><br><span class="line">目录的列表形式，在类 Unix 的操作系统里是类似的</span><br><span class="line">苹果的桌面操作系统 macOS 的目录结构也是从根目录 / 开始的</span><br><span class="line"></span><br><span class="line">- bin：是 binary “二进制文件” ，可执行文件是二进制的</span><br><span class="line">bin 目录包含了会被所有用户使用的可执行程序</span><br><span class="line"></span><br><span class="line">- boot 目录包含与 Linux 启动密切相关的文件</span><br><span class="line"></span><br><span class="line">- dev： device “设备”</span><br><span class="line">包含外设。它里面的子目录，每一个对应一个外设</span><br><span class="line">比如光盘驱动器的文件就会出现在这个目录下</span><br><span class="line"></span><br><span class="line">- etc：是法语 et cetera ，包含系统的配置文件</span><br><span class="line"></span><br><span class="line">- home： home 表示“家”。用户的私人目录，我们放置私人的文件</span><br><span class="line">类似 Windows 中的 Documents 文件夹，也叫“我的文档</span><br><span class="line">除了root外每个用户都在 home 目录下有一个私人目录存放自己私人文件</span><br><span class="line">假如我的用户名是 oscar，那么我的私人目录就是 /home/oscar</span><br><span class="line"></span><br><span class="line">- lib：library“库”，目录包含被程序所调用的库文件，例如 .so 结尾的文件，</span><br><span class="line">Windows 下这样的库文件则是以 .dll 结尾</span><br><span class="line">- media 可移动的外设（USB 盘，SD卡，DVD，光盘，等等）插入电脑时，访问这些外设中的内容</span><br><span class="line">- mnt： mount “挂载”，mnt： mount “挂载”</span><br><span class="line">- opt： optional application software package ，“可选的应用软件包”， 安装多数第三方软件和插件</span><br><span class="line">- root 超级用户 root 的家目录</span><br><span class="line">一般的用户的家目录位于 /home 下，root 用户是个例外</span><br><span class="line"></span><br><span class="line">- sbin： system binary “系统二进制文件“，比 bin 目录多了一个前缀 system（“系统”），包含系统级的重要可执行程序</span><br><span class="line">- srv： service “服务”，包含一些网络服务启动之后所需要取用的数据</span><br><span class="line">- tmp： temporary “临时的”，普通用户和程序存放临时文件的地方，</span><br><span class="line">- usr：是 Unix Software Resource “Unix操作系统软件资源”，类似 Windows 中的 C:\Windows，和 C:\Program Files 这两个文件夹的集合，usr 目录里安装了大部分用户要调用的程序</span><br><span class="line">- var：variable “动态的，可变的”，包含程序的数据，比如 log（日志）文件， log 文件记录电脑中发生了什么事</span><br><span class="line"></span><br><span class="line">```pwd```  print working directory打印当前工作目录的路径</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>
<p>adduser test 创建用户```<br>passwd test<br>输入密码 </p>
<figure class="highlight autohotkey"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```code &lt;文件路径/文件名&gt;```vscode中打开项目</span><br><span class="line"></span><br><span class="line">终端在每一行的开头处会有一个被称为“命令行提示符”的字符串，提示在其后面输入命令，这个提示符的格式可以自行设置，我们在命令提示符后面输入命令，告诉电脑我们想要它完成的任务</span><br><span class="line">```[]```：提示符的分隔符号，没有特殊含义。</span><br><span class="line">```root```：当前的登录用户。Linux 是多用户的操作系统</span><br><span class="line">```@```：分隔符号，没有特殊含义。前面是用户名，后面是所在的域</span><br><span class="line">```localhost```：当前系统的简写电脑/主机的名字（hostname127.<span class="number">0.0</span>.<span class="number">1</span></span><br><span class="line">（完整主机名是localhost.localdomain）。</span><br><span class="line">```~```：代表用户当前所在的目录名字，刚打开一个终端（Terminal），当前所在的目录是你的用户家目录（home directory。会随着用户进入不同目录而改变</span><br><span class="line">```#```：root超级用户的提示符，Linux用这个符号标识登录的用户权限等级。</span><br><span class="line">```$``` 普通用户的权限的提示符</span><br><span class="line"></span><br><span class="line">reboot、shutdown -h now、init、halt、user管理，</span><br><span class="line">在普通用户身份上都是操作不了，</span><br><span class="line">但是有些特殊的情况下又需要有执行权限。</span><br><span class="line">又不可能让root用户把自己的密码告诉普通用户，这个问题该怎么解决？</span><br><span class="line"></span><br><span class="line">该问题是可以被解决的，可以使用sudo（switch user do）命令来进行权限设置。</span><br><span class="line">Sudo可以让管理员（root）事先定义某些特殊命令谁可以执行。</span><br><span class="line"> </span><br><span class="line">默认sudo中是没有除root之外用户的规则，要想使用则先配置sudo。</span><br><span class="line"> </span><br><span class="line">Sudo配置文件：/etc/sudoers</span><br><span class="line">配置sudo文件请使用“#visudo”，打开之后其使用方法和vim一致</span><br><span class="line"> 配置普通用户的权限</span><br></pre></td></tr></tbody></table></figure>
<p>allow root to run any commands anywhere<br>root   ALL=(ALL)   ALL</p>
<figure class="highlight angelscript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">Root表示用户名，如果是用户组，则可以写成“%组名”</span><br><span class="line">ALL：表示允许登录的主机（地址白名单）</span><br><span class="line">(ALL)：表示以谁的身份执行，ALL表示root身份</span><br><span class="line">ALL：表示当前用户可以执行的命令，多个命令可以使用“,”分割</span><br><span class="line"> </span><br><span class="line">案例：本身test用户不能添加用户，要求使用sudo配置，</span><br><span class="line">将其设置为可以添加用户，并且可以修改密码（但是不能修改root用户密码）。</span><br><span class="line">注意：在写sudo规则的时候不建议写直接形式的命令，而是写命令的完整路径。</span><br><span class="line">路径可以使用which命令来查看</span><br><span class="line">语法：#which 指令名称</span><br><span class="line">在输入sudo指令之后需要输入当前的用户密码进行确认的操作（不是root用户密码），输入之后在接下来<span class="number">5</span>分钟内再次执行sudo指令不需要密码。</span><br><span class="line"> 此处按照案例要求，不能让test用户修改root密码，因此规则还需要调整，不然其可以修改root密码的：</span><br><span class="line">禁止修改root密码的配置（先允许全部，再拒绝root密码设置）： /usr/bin/passwd [A-Za-z]*, !/usr/bin/passwd root</span><br><span class="line">sudo  -l 在普通用户下查看自己具有哪些特殊权限</span><br><span class="line">sudo不是任何Linux分支都有的命令，常见centos与ubuntu都存在sudo命令。</span><br><span class="line"></span><br><span class="line">```sudo su```用户切换为root</span><br><span class="line">退出 root 身份，可以用 ```Ctrl + D``` 的组合键，或者用 ```exit``` 命令</span><br><span class="line"></span><br><span class="line">```whoami``` 我是谁，显示当前登录的用户名</span><br><span class="line"></span><br><span class="line">```adduser test 创建用户```</span><br><span class="line">passwd test</span><br><span class="line">输入密码</span><br><span class="line"></span><br><span class="line">```shell</span><br><span class="line">[<span class="symbol">root@</span>VM<span class="number">-0</span><span class="number">-9</span>-centos ~]# date</span><br><span class="line">Mon Mar  <span class="number">1</span> <span class="number">16</span>:<span class="number">46</span>:<span class="number">16</span> CST <span class="number">2021</span></span><br><span class="line"># CST  Central Standard Time “中央标准时间”</span><br><span class="line">[<span class="symbol">root@</span>VM<span class="number">-0</span><span class="number">-9</span>-centos ~]# date +%F</span><br><span class="line"><span class="number">2021</span><span class="number">-03</span><span class="number">-01</span></span><br><span class="line">[<span class="symbol">root@</span>VM<span class="number">-0</span><span class="number">-9</span>-centos ~]# date <span class="string">"+%Y-%m-%d"</span></span><br><span class="line"><span class="number">2021</span><span class="number">-03</span><span class="number">-01</span></span><br><span class="line">[<span class="symbol">root@</span>VM<span class="number">-0</span><span class="number">-9</span>-centos ~]# date <span class="string">"+%Y %T"</span></span><br><span class="line"><span class="number">2021</span> <span class="number">16</span>:<span class="number">51</span>:<span class="number">47</span></span><br><span class="line">[<span class="symbol">root@</span>VM<span class="number">-0</span><span class="number">-9</span>-centos ~]# date <span class="string">"+%Y-%m-%d %H:%M:%S"</span></span><br><span class="line"><span class="number">2021</span><span class="number">-03</span><span class="number">-01</span> <span class="number">16</span>:<span class="number">54</span>:<span class="number">21</span></span><br><span class="line"></span><br><span class="line">[<span class="symbol">root@</span>VM<span class="number">-0</span><span class="number">-9</span>-centos ~]# cal</span><br><span class="line">     March <span class="number">2021</span>     </span><br><span class="line">Su Mo Tu We Th Fr Sa</span><br><span class="line">    <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>  <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span></span><br><span class="line"> <span class="number">7</span>  <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span> <span class="number">12</span> <span class="number">13</span></span><br><span class="line"><span class="number">14</span> <span class="number">15</span> <span class="number">16</span> <span class="number">17</span> <span class="number">18</span> <span class="number">19</span> <span class="number">20</span></span><br><span class="line"><span class="number">21</span> <span class="number">22</span> <span class="number">23</span> <span class="number">24</span> <span class="number">25</span> <span class="number">26</span> <span class="number">27</span></span><br><span class="line"><span class="number">28</span> <span class="number">29</span> <span class="number">30</span> <span class="number">31</span></span><br></pre></td></tr></tbody></table></figure>
<p>引号表示让“年月日与时分秒”成为一个不可分割的整体</p>
<p>Windows 可执行程序以 .exe 结尾<br>Linux 每一条命令其实对应了一个可执行程序，一般是没有后缀名的</p>
<ul>
<li>在终端中输入命令，按回车的时候，就是执行了对应的那个程序，</li>
<li>一个命令，其实只不过是一个我们随时可以调用的程序罢了</li>
</ul>
<h3 id="which-命令：显示一个命令的对应的可执行文件程序的位置"><a href="#which-命令：显示一个命令的对应的可执行文件程序的位置" class="headerlink" title="which 命令：显示一个命令的对应的可执行文件程序的位置"></a>which 命令：显示一个命令的对应的可执行文件程序的位置</h3><p>which命令接受一个参数，是你想知道其可执行程序位于哪里的那个命令</p>
<ul>
<li>pwd 命令对应的 pwd 这个可执行程序位于 Linux 中的 /usr/bin 目录中<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@VM-0-9-centos ~]# which pwd</span><br><span class="line"><span class="meta">#</span><span class="bash"> /usr/bin/<span class="built_in">pwd</span></span></span><br></pre></td></tr></tbody></table></figure>

</li>
</ul>
<p>selinux 安全模块</p>
<p>bin binary 二进制，可执行文件<br>dev device 硬件<br>etc 系统配置文件，root才能登<br>home 家目录  类似window user<br>prov 进程</p>
<p>usr 对应 win program files</p>
<figure class="highlight plain"><figcaption><span>命令``` manual 命令使用手册</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line">```q``` 退出 quit</span><br><span class="line">```help``` 命令查看保留关键字</span><br><span class="line"></span><br><span class="line">folder 文件夹</span><br><span class="line">file 文件</span><br><span class="line">```command parameters```命令和参数之间有空格隔开</span><br><span class="line">参数好比选项，改变命令的行为，同一个命令不同功能 </span><br><span class="line">区分大小写</span><br><span class="line"></span><br><span class="line">### 短参数（一个横杠、一个字母 缩写名称）</span><br><span class="line">最常用的参数形式就是一个短横线后接一个字母 command -p</span><br><span class="line">一次加好几个短参数，可以用空格隔开：command -p -a -T -</span><br><span class="line">多个短参数也可以合并在一起，效果是叠加：command -paT</span><br><span class="line"></span><br><span class="line">### 长参数（两个横杠、多个字母 全称）</span><br><span class="line">长参数没有短参数那么常用，但也是很有用的</span><br><span class="line">短参数是以一个短横线开始，而长参数是以两个短横线开始的</span><br><span class="line">格式：```command --parameter```</span><br><span class="line">多个长参数，是不能像多个短参数那样合并写的</span><br><span class="line">而是只能以空格隔开：```command --parameter1 --parameter2```</span><br><span class="line">可以组合使用短参数和长参数</span><br><span class="line">例如 ```command -paTc --parameter1 --parameter2```</span><br><span class="line">有时候，同一个意义的参数有短参数和长参数两种形式</span><br><span class="line">效果是一样的：例如 ```ls -a``` 和 ```ls --all```</span><br><span class="line"></span><br><span class="line">### 参数的值</span><br><span class="line">有一些参数需要赋值。短参数和长参数的赋值方式不一样</span><br><span class="line">短参数赋值，通常是这样的：command -p </span><br><span class="line">长参数赋值，通常是这样的：command --parameter=10</span><br><span class="line"></span><br><span class="line">```tab``` 在输入了一个命令的首字母或前几个字母后，自动补全命令或文件名、路径名，按两下有提示 可以增加效率，防止手动输入路径时将名字写错，同时想不起来一个命令到底是如何拼写 </span><br><span class="line"></span><br><span class="line">```#```开头 注释</span><br><span class="line">向上键：按时间顺序向前查找用过的命令，每按一次就前进一个命令</span><br><span class="line">向下键：按时间顺序向后查找用过的命令，每按一次就前进一个命令</span><br><span class="line"></span><br><span class="line">```Ctrl + R``` 用于查找使用过的命令</span><br><span class="line">```history``` 列出之前使用过的所有命令</span><br><span class="line">```!编号```这样的格式来重新运行 history输出中对应编号的命令</span><br><span class="line"></span><br><span class="line">空格下一页</span><br><span class="line">回车：运行，下一行</span><br><span class="line"></span><br><span class="line">### CentOS 的终端默认是有颜色标注的。</span><br><span class="line">- 蓝色 --&gt; 目录</span><br><span class="line">- 绿色 --&gt; 可执行文件</span><br><span class="line">- 红色 --&gt; 压缩文件</span><br><span class="line">- 浅蓝色 --&gt; 链接文件</span><br><span class="line">- 灰色 --&gt; 其他文件</span><br><span class="line"></span><br><span class="line">```ls```列出文件和目录</span><br><span class="line">```ls -l 路径``` ：缩写```ll```，以详细信息列表的形式列出当前目录下的文件和目录，查看权限 每一个文件或目录都有对应的一行信息，列出的文件详细信息中，文件大小是以字节为单位的</span><br><span class="line"></span><br><span class="line">```ls -a``` ：显示所有文件和目录，包括隐藏的（以.开头）</span><br><span class="line"></span><br><span class="line">不包括开头的两个 . 和 .. </span><br><span class="line">```.``` （一个点）表示当前目录； ```..``` （两个点）表示上一级目录</span><br><span class="line">```ls -A``` ：作用和小写的 -a 几乎一样，唯一不同就是 -A 不列出 . 和 .. 这两个文件</span><br><span class="line"></span><br><span class="line">```ls -la 路径``` ：所以文件（夹） ，并显示隐藏文件，以.开头，</span><br><span class="line"></span><br><span class="line">```ls --color=auto``` 来开启颜色标注</span><br><span class="line">```ls --color=none```关闭颜色标注</span><br><span class="line">```bash</span><br><span class="line">[root@VM-0-9-centos ~]# ls -l /root</span><br><span class="line">total 4</span><br><span class="line">-rw-r--r-- 1 root root    0 Feb 28 23:13 authorized_keys</span><br><span class="line">drwxr-xr-x 2 root root 4096 Mar  1 00:37 dev</span><br></pre></td></tr></tbody></table></figure>
<p>上述列表中的第一列字符表示文档的类型,其中“-”表示改行对应的文档类型为文件,“d”表示文档类型为文件夹。|<br>a. 其是文件夹类型<br>b. 文件的所有者：拥有全部权限（读写执行）<br>c. 文件所在的群组同组用户：可读、可执行<br>d. 其他用户：可读、可执行<br>e.文件链接数量3个<br>文件大小：单位是 octet， byte“字节”<br>最近一次修改的时间<br>最后一列 文件或目录的名</p>
<figure class="highlight ls"><figcaption><span>-h```human readable，“适合人类阅读的” 以 Ko，Mo，Go 的形式显示文件大小</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">``<span class="javascript"><span class="string">`ls -lh 路径</span></span>``` 列出指定路径下的所有文件/文件夹的名称，以列表的形式并且在显示文档大小的 时候以可读性较高的形式显示</span><br><span class="line"></span><br><span class="line">``<span class="javascript"><span class="string">`ls -t</span></span>```按照文件或目录最近一次修改时间的降序排列</span><br><span class="line"></span><br><span class="line">``<span class="javascript"><span class="string">`ls -l |grep jpg | wc -l</span></span>```一个目录里,有各种文件类型:文本文件,图片,音频,视频。如果你想知道这里面有多少个JPEG类型的图片。</span><br><span class="line">``<span class="javascript"><span class="string">`ls -l |grep jpg | wc -l &gt; jpeg_num.txt</span></span>```把统计的数目存储到一个文本文件(jpeg_nb.txt)里</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">``<span class="javascript"><span class="string">`ls -l |grep jpg | wc -l &gt; jpeg_num.txt | mail -s "jpeg number" ashe@gmail.com</span></span>```先统计这个数目,保存到 jpeg nb. txt文件里,再把这个文件用emai传给一个朋友</span><br><span class="line"></span><br><span class="line">``<span class="javascript"><span class="string">`ctrl+L</span></span>```用于清理终端的内容,清屏。同 ``<span class="javascript"><span class="string">`</span>clear</span>```命令,  并不是真的清除了之前的信息,而是把之前的信息的隐藏到了最上面,通过滚动条继续查看以前的信息。  </span><br><span class="line">``<span class="javascript"><span class="string">`Ctrl+D</span></span>```给终端传递EOF( End <span class="keyword">of</span> file,文件结束符)  </span><br><span class="line">``<span class="javascript"><span class="string">`Shift+PgUp</span></span>```用于向上滚屏,与鼠标的滚轮向上滚屏是一个效果  </span><br><span class="line">``<span class="javascript"><span class="string">`Shift + PgDn</span></span>``` 用于向下滚屏，与鼠标的滚轮向下滚屏是一个效果  </span><br><span class="line">``<span class="javascript"><span class="string">`ctrl+a</span></span>``` 光标移动到行首 Home 键有相同的效果  </span><br><span class="line">``<span class="javascript"><span class="string">`ctrl+e</span></span>``` 光标移动到行末 End 键有相同的效果  </span><br><span class="line">``<span class="javascript"><span class="string">`ctrl+u</span></span>``` 剪切/删除 光标到行首、除所有在光标左侧的命令字符  </span><br><span class="line">``<span class="javascript"><span class="string">`crtl+k</span></span>```剪切/删除光标后的内容 光标右侧的命令字符  </span><br><span class="line">``<span class="javascript"><span class="string">`ctrl+w</span></span>``` 剪切/删除光标左侧的一个“单词”word,用空格隔开的一个字符串。例如 -a 就是一个“单词  </span><br><span class="line">``<span class="javascript"><span class="string">`ctrl+y</span></span>``` 粘贴用 Ctrl + U， Ctrl + K 或 Ctrl + W“删除”的字符串，有点像“剪切-粘贴”  </span><br><span class="line"></span><br><span class="line">``<span class="javascript"><span class="string">`cd</span></span>```等同于``<span class="javascript"><span class="string">`</span>cd ~</span>``` 等同于``<span class="javascript"><span class="string">`cd /home/username</span></span>``` change directory 直接切换到家目录  </span><br><span class="line">``<span class="javascript"><span class="string">`cd 路径</span></span>```要去的那个目录的路径  </span><br><span class="line">``<span class="javascript"><span class="string">`cd ..</span></span>``` 要回到上一级目录（父目录）  </span><br><span class="line">``<span class="javascript"><span class="string">`cd ../..</span></span>``` 要回到上一级目录的上一级目录（爷目录）</span><br><span class="line"></span><br><span class="line">``<span class="javascript"><span class="string">`du</span></span>``` disk usage “磁盘使用/占用”，文件和目录所占的空间大小，深入遍历每个目录的子目录，统计所有文件的大 默认情况下只显示目录的大小</span><br><span class="line">``<span class="javascript"><span class="string">`du -h</span></span>``` 目录路径  以较高可读性的形式显示 以 Ko，Mo，Go 的形式显示文件大小</span><br><span class="line">``<span class="javascript"><span class="string">`du -a</span></span>``` 目录路径  显示文件和目录的大小 汇总</span><br><span class="line">``<span class="javascript"><span class="string">`du -s</span></span>``` 目录路径 summary 只显示汇总大小，当前目录的总大小</span><br><span class="line">``<span class="javascript"><span class="string">`du -sh</span></span>``` 目录路径 查看目录的真实大小</span><br><span class="line"></span><br><span class="line"><span class="comment">### </span></span><br><span class="line">xargs（eXtended ARGuments）是给命令传递参数的一个过滤器，也是组合多个命令的一个工具。</span><br><span class="line">xargs 可以将管道或标准输入（stdin）数据转换成命令行参数，也能够从文件的输出中读取数据。</span><br><span class="line">xargs 也可以将单行或多行文本输入转换为其他格式，例如多行变单行，单行变多行。</span><br><span class="line">xargs 默认的命令是 echo，这意味着通过管道传递给 xargs 的输入将会包含换行和空白，不过通过 xargs 的处理，换行和空白将被空格取代。</span><br><span class="line">xargs 是一个强有力的命令，它能够捕获一个命令的输出，然后传递给另外一个命令。</span><br><span class="line"></span><br><span class="line">之所以能用到这个命令，关键是由于很多命令不支持|管道来传递参数，而日常工作中有有这个必要，所以就有了 xargs 命令，例如：</span><br></pre></td></tr></tbody></table></figure>
<p>find /sbin -perm +700 |ls -l       #这个命令是错误的<br>find /sbin -perm +700 |xargs ls -l   #这样才是正确的</p>
<figure class="highlight angelscript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">xargs 一般是和管道一起使用。</span><br><span class="line">命令格式：```somecommand |xargs -item  command```</span><br><span class="line"></span><br><span class="line">交互式 Bash Shell 只输出进程pid的ID号，进程名字为adb。</span><br><span class="line">```bash</span><br><span class="line">[<span class="symbol">root@</span>localhost ~]# ps -ef|grep mysql</span><br><span class="line">mysql     <span class="number">3361</span>     <span class="number">1</span>  <span class="number">1</span> <span class="number">21</span>:<span class="number">06</span> ?        <span class="number">00</span>:<span class="number">00</span>:<span class="number">01</span> /usr/sbin/mysqld</span><br><span class="line">root      <span class="number">3460</span>  <span class="number">3435</span>  <span class="number">0</span> <span class="number">21</span>:<span class="number">08</span> pts/<span class="number">0</span>    <span class="number">00</span>:<span class="number">00</span>:<span class="number">00</span> grep --color=<span class="built_in">auto</span> mysql</span><br></pre></td></tr></tbody></table></figure>
<h1 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h1><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># pgrep -f mysql    # 仅输出进程ID号</span></span><br><span class="line">3361</span><br></pre></td></tr></tbody></table></figure>
<h1 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h1><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost ~]<span class="comment"># ps -ef|grep mysql|awk '{print $2}'</span></span><br><span class="line">3361</span><br><span class="line">3486</span><br></pre></td></tr></tbody></table></figure>
<p>获取到pid后，可以进行后续处理。比如执行删除等操作。</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ps -ef | awk <span class="string">'{print $2}'</span> | xargs <span class="built_in">kill</span> -9</span><br></pre></td></tr></tbody></table></figure>
<p>如果需要查找到 pid 之后 kill 掉该进程，还可以使用 pkill：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pkill -f name</span><br></pre></td></tr></tbody></table></figure>

<p>找出占用端口的进程</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># netstat -anp|grep ":80 " |grep LISTEN</span></span><br><span class="line">tcp     0      0 0.0.0.0:80        0.0.0.0:*      LISTEN      17785/nginx: worker</span><br></pre></td></tr></tbody></table></figure>

<h3 id="替换指定的目录及其子目录下所有文件中的adc为bcd。"><a href="#替换指定的目录及其子目录下所有文件中的adc为bcd。" class="headerlink" title="替换指定的目录及其子目录下所有文件中的adc为bcd。"></a>替换指定的目录及其子目录下所有文件中的adc为bcd。</h3><p>sed [-hnV][-e<script>][-f<script文件>][文本文件]<br>（ stream editor 简写sed ）</p>
<p>sed 可以直接修改文件的内容，不必使用管道命令或数据流重导向！<br>-i 选项可以直接修改文件内容，举例来说，如果你有一个 100 万行的文件，你要在第 100 行加某些文字，此时使用 vim 可能会疯掉！因为文件太大了！那怎办？就利用 sed 啊！透过 sed 直接修改/取代的功能，你甚至不需要使用 vim 去修订！<br>s ：取代，可以直接进行取代的工作，通常这个 s 的动作可以搭配正规表示法！<br>例如 1,20s/old/new/g 就是啦！<br>c ：取代， c 的后面可以接字串，这些字串可以取代 n1,n2 之间的行！<br>如果是要改变两行以上，每一行之间都必须要以反斜杠『 \ 』来进行新行的添加喔！所以，上面的例子中，我们可以发现在第一行的最后面就有 \ 存在。</p>
<p>方法一</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># find -type f | xargs cat</span></span><br><span class="line">adc</span><br><span class="line">adc</span><br><span class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># find -type f | xargs sed -i &#x27;s/adc/bcd/g&#x27; </span></span><br><span class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># find -type f | xargs cat</span></span><br><span class="line">bcd</span><br><span class="line">bcd</span><br></pre></td></tr></table></figure>
<p>方法二</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># sed -i &#x27;s/adc/bcd/g&#x27; `grep &quot;adc&quot; -rl ./`</span></span><br><span class="line"><span class="comment"># 注意：grep内容是用的反引号</span></span><br></pre></td></tr></table></figure>

<p>替换某个文件中的内容adb为bcd（替换指定文件的字符串）。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># cat hello.txt </span></span><br><span class="line">i love you</span><br><span class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># sed -i &quot;s/i/I/g&quot; hello.txt </span></span><br><span class="line">[root@localhost <span class="built_in">test</span>]<span class="comment"># cat hello.txt </span></span><br><span class="line">I love you</span><br></pre></td></tr></table></figure>

<p>软链接有点类似于Windows中的快捷方式，里面保存的是指向源文件的绝对路径，当访问它的时候就会替换成指向文件的路径。对于操作系统是通过 inode值访问硬盘的区块，对于软链接来说inode值和源文件的inode值是不一样的，但是硬链接是一样的inode值。只要有文件inode值指向这个区块，这个文件就始终不会消失。软链接文件只是维持了从软链接到源文件的指向关系，不是源文件的内容。</p>
<p>硬链接相当于创建了一个普通文件，但硬链接的inode值和源文件的inode值相同都指向同一个区块。硬链接文件的内容和源文件的内容一模一样，相当于copy了一份源文件。</p>
<p>inode介绍：文件或目录的inode编号是一个用于标识的唯一数字，这个数字由内核分配给文件系统中的每一个对象。inode就像人的身份证。</p>
<p>crontad:定时任务<br>例如：下单操作，需要在单个小时内付完款，通过定时任务每半个小时进行一下数据释放。</p>
<ol>
<li>编辑当前用户的计数器设置，与vim操作是一样的<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[xiaokang@localhost ~]$ crontab -e      <span class="comment"># 编辑crontab</span></span><br><span class="line">crontab: no changes made to crontab</span><br></pre></td></tr></table></figure></li>
<li>列出该用户的计数器设置<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[xiaokang@localhost www]$ crontab -l</span><br><span class="line">*/1 * * * * php /data/www/cron.php  &gt;&gt; /tmp/cron.log   <span class="comment"># */1表示每隔1分钟执行一次</span></span><br><span class="line"><span class="comment"># * * * * * 分别代表分 时 日 月 周</span></span><br></pre></td></tr></table></figure>


</li>
</ol>
<p><code>nslookup domain[dns-server]</code> 查看域名解析是否正常，在网络故障的时候用来诊断网络问题。<br>可以指定查询的类型，可以查到DNS记录的生存时间还可以指定使用那个DNS服务器进行解释。</p>
<p>如何用本地计算机查询DNS记录?</p>
<p>打开命令提示符窗口(开始–运行—输入CMD–回车)</p>
<p><code>nslookup –qt=类型 目标域名</code>(注意qt必须小写)</p>
<p>类型主要有:</p>
<p>A 地址记录(Ipv4)</p>
<p>AAAA 地址记录（Ipv6）</p>
<p>CNAME 别名记录</p>
<p>HINFO 硬件配置记录，包括CPU、操作系统信息</p>
<p>ISDN 域名对应的ISDN号码</p>
<p>MB 存放指定邮箱的服务器</p>
<p>MG 邮件组记录</p>
<p>MINFO 邮件组和邮箱的信息记录</p>
<p>MR 改名的邮箱记录</p>
<p>MX 邮件服务器记录</p>
<p>NS 名字服务器记录</p>
<p>PTR 反向记录</p>
<p>RP 负责人记录</p>
<p>SRV TCP服务器信息记录</p>
<p>TXT 域名对应的文本信息</p>
<p>比如你要查询tool.chinaz.com的A记录,那在命令符提示窗口输入：</p>
<pre class=" language-shell"><code class="language-shell">nslookup -qt=a tool.chinaz.com
</code></pre>
<p>则可以查到相应的记录</p>
<h2 id="如何使用指定DNS服务器查询"><a href="#如何使用指定DNS服务器查询" class="headerlink" title="如何使用指定DNS服务器查询?"></a>如何使用指定DNS服务器查询?</h2><p>语法为<br><code>nslookup -qt=类型 目标域名 指定的DNS服务器IP或域名</code></p>
<p>例子：<br><code>nslookup -qt=A tool.chinaz.com 8.8.8.8</code></p>
<p>返回信息说明<br>服务器：本机DNS服务器信息</p>
<p>非权威应答：Non-authoritative answer，除非实际存储DNS Server中获得域名解析回答的，都称为非权威应答。也就是从缓存中获取域名解析结果。</p>
<p>address：目标域名对应物理IP可有多个</p>
<p>aliase：目标域名<br>nslookup google.com 和 nslookup google.com 8.8.8.8</p>
<p>1 查看内存总数</p>
<p>cat /proc/meminfo | grep MemTotal</p>
<p>2.查看当前系统用户数</p>
<p>who</p>
<p>统计显示 7个用户</p>
<p>3.查看当前系统版本及系统位数</p>
<p>uname -a</p>
<p>4.查看当前系统引用的JDK 是否是自己安装的配置的jdk</p>
<p>which java</p>
<p>5.查看系统端口是否被占用</p>
<p>netstat -pan|grep 8017</p>
<p>使用 netstat + grep 来查看某个端口是否在使用</p>
<p>6.查看系统进程 （查看项目or应用程序的进程）</p>
<p>ps -ef|grep tomcat-probe</p>
<p>7.查看防火墙状态及启动防火墙</p>
<p>service iptables status</p>
<p>启动的话： service iptables start</p>
<p>8.查看文件在哪个目录路径</p>
<p>命令：locate</p>
<p>如：locate stats.properties</p>
<p>9查看系统内存</p>
<p>命令：free -m</p>
<p>参数 m 是兆</p>
<p>10.网络配置（相关命令）</p>
<p>命令：ifconfig</p>
<p>11.系统资源查看</p>
<p>命令： vmstat</p>
<p>命令 ：top</p>
<p>命令： uptime</p>
<p>12:目录命令操作</p>
<p>mkdir -p a/b/c —- 批量新增目录</p>
<p>mv 命令可以重命名</p>
<p>cp 命令 复制文件或者文件夹 （可用于项目包的备份处理）</p>
<p>如： cp -rf 123.tar …/backup/123.tar.20181122</p>
<p>13:文件操作</p>
<p>文件的操作，个人觉得有些命令很常用， cat ,tail (监控查看日志文件)、vi</p>
<p>vi 命令涉及到很多实用快捷操作 ，</p>
<p>三中模式：</p>
<p>（命令模式 、编辑模式 、末行模式）</p>
<p>N 向上查找</p>
<p>n 向下查找</p>
<p>—- 删除命令</p>
<p>ndw或ndW：删除光标处开始及其后的n-1个字</p>
<p>do：删至行首</p>
<p>d$：删至行尾</p>
<p>—- 搜索及替换命令</p>
<p>/pattern：从光标开始处向文件尾搜索pattern</p>
<p>?pattern：从光标开始处向文件首搜索pattern</p>
<p>n：在同一方向重复上一次搜索命令</p>
<p>N：在反方向上重复上一次搜索命令</p>
<p>：1，$ s/p1/p2/g：将当前行中所有p1均用p2替代</p>
<p>：n1,n2s/p1/p2/g：将第n1至n2行中所有p1均用p2替代</p>
<p>13:修改文件或者目录权限</p>
<p>chmod chown chgrp 命令的使用</p>
<p>14：查看文件大小</p>
<p>命令：du</p>
<p>15：查看环境变量</p>
<p>命令： env</p>
<p>还有 set 命令也可以</p>
<p>补充：</p>
<p>2.1 在/etc/profile文件中添加变量【对所有用户生效(永久的)】</p>
<p>用VI在文件/etc/profile文件中增加变量，该变量将会对Linux下所有用户有效，并且是“永久的”。</p>
<p>例如：编辑/etc/profile文件，添加CLASSPATH变量</p>
<h1 id="vi-etc-profile"><a href="#vi-etc-profile" class="headerlink" title="vi /etc/profile"></a>vi /etc/profile</h1><p>export CLASSPATH=./JAVA_HOME/lib;$JAVA_HOME/jre/lib</p>
<p>注：修改文件后要想马上生效还要运行# source /etc/profile不然只能在下次重进此用户时生效。</p>
<p>2.2 在用户目录下的.bash_profile文件中增加变量【对单一用户生效(永久的)】</p>
<p>用VI在用户目录下的.bash_profile文件中增加变量，改变量仅会对当前用户有效，并且是“永久的”。</p>
<p>例如：编辑guok用户目录(/home/guok)下的.bash_profile</p>
<p>$ vi /home/guok/.bash.profile</p>
<p>添加如下内容：</p>
<p>export CLASSPATH=./JAVA_HOME/lib;$JAVA_HOME/jre/lib</p>
<p>注：修改文件后要想马上生效还要运行$ source /home/guok/.bash_profile不然只能在下次重进此用户时生效</p>
<p>16：抓包</p>
<p>命令 tcpdump</p>
<p>tcpdump -s 0 -w /tmp/20150203.cap host 211.137.182.167</p>
<p>17:查找文件并询问是否删除</p>
<p>find ./ -name ‘IceGpsAndGprsAnalyze*’ -exec rm -i {} ;</p>
<p>18：修改系统时间</p>
<p>date -s “20120827 15:04:00”</p>
<p>或者</p>
<p>date -s “2012-08-27 15:04:00”</p>
<p>或者</p>
<p>date -s “15:04:00 2012-08-27”</p>
<p>或者</p>
<p>date -s “15:04:00 20120827”</p>
<p>记得 双引号</p>
<p>19 通过关键字 来查找包含关键字的文件</p>
<p>命令 find</p>
<p>find ./ -type f|xargs grep “T2001774”</p>
<p>find . -name * -type f -print |xargs grep ‘关键字’</p>
<p>命令： grep</p>
<p>grep ‘T2001774’ ./*</p>
<p>20：文件压缩和解压</p>
<p>压缩</p>
<p>tar -cvf jpg.tar *.jpg //将目录里所有jpg文件打包成tar.jpg</p>
<p>tar -czf jpg.tar.gz *.jpg //将目录里所有jpg文件打包成jpg.tar后，并且将其用gzip压缩，生成一个gzip压缩过的包，命名为jpg.tar.gz</p>
<p>tar -cjf jpg.tar.bz2 *.jpg //将目录里所有jpg文件打包成jpg.tar后，并且将其用bzip2压缩，生成一个bzip2压缩过的包，命名为jpg.tar.bz2</p>
<p>tar -cZf jpg.tar.Z *.jpg //将目录里所有jpg文件打包成jpg.tar后，并且将其用compress压缩，生成一个umcompress压缩过的包，命名为jpg.tar.Z</p>
<p>rar a jpg.rar *.jpg //rar格式的压缩，需要先下载rar for linux</p>
<p>zip jpg.zip *.jpg //zip格式的压缩，需要先下载zip for linux</p>
<p>解压</p>
<p>tar -xvf file.tar //解压 tar包</p>
<p>tar -xzvf file.tar.gz //解压tar.gz</p>
<p>tar -xjvf file.tar.bz2 //解压 tar.bz2</p>
<p>tar -xZvf file.tar.Z //解压tar.Z</p>
<p>unrar e file.rar //解压rar</p>
<p>unzip file.zip //解压zip</p>
<p>总结</p>
<p>1、*.tar 用 tar -xvf 解压</p>
<p>2、*.gz 用 gzip -d或者gunzip 解压</p>
<p>3、.tar.gz和.tgz 用 tar -xzf 解压</p>
<p>4、*.bz2 用 bzip2 -d或者用bunzip2 解压</p>
<p>5、*.tar.bz2用tar -xjf 解压</p>
<p>6、*.Z 用 uncompress 解压</p>
<p>7、*.tar.Z 用tar -xZf 解压</p>
<p>8、*.rar 用 unrar e解压</p>
<p>9、*.zip 用 unzip 解压</p>
</script></p><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/14/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><span class="page-number current">15</span><a class="page-number" href="/page/16/">16</a><a class="page-number" href="/page/17/">17</a><a class="extend next" rel="next" href="/page/16/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>
<script src="/js/comments.js"></script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">外心人D</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
