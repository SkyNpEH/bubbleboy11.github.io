<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.0.2">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<meta name="hexo-config" content="{&quot;hostname&quot;:&quot;bubbleboy11.github.io&quot;,&quot;root&quot;:&quot;/&quot;,&quot;images&quot;:&quot;/images&quot;,&quot;scheme&quot;:&quot;Muse&quot;,&quot;version&quot;:&quot;8.3.0&quot;,&quot;exturl&quot;:false,&quot;sidebar&quot;:{&quot;position&quot;:&quot;left&quot;,&quot;display&quot;:&quot;post&quot;,&quot;padding&quot;:18,&quot;offset&quot;:12},&quot;copycode&quot;:true,&quot;bookmark&quot;:{&quot;enable&quot;:false,&quot;color&quot;:&quot;#222&quot;,&quot;save&quot;:&quot;auto&quot;},&quot;fancybox&quot;:false,&quot;mediumzoom&quot;:false,&quot;lazyload&quot;:false,&quot;pangu&quot;:false,&quot;comments&quot;:{&quot;style&quot;:&quot;tabs&quot;,&quot;active&quot;:null,&quot;storage&quot;:true,&quot;lazyload&quot;:false,&quot;nav&quot;:null},&quot;motion&quot;:{&quot;enable&quot;:true,&quot;async&quot;:false,&quot;transition&quot;:{&quot;post_block&quot;:&quot;fadeIn&quot;,&quot;post_header&quot;:&quot;fadeInDown&quot;,&quot;post_body&quot;:&quot;fadeInDown&quot;,&quot;coll_header&quot;:&quot;fadeInLeft&quot;,&quot;sidebar&quot;:&quot;fadeInUp&quot;}},&quot;prism&quot;:false,&quot;i18n&quot;:{&quot;placeholder&quot;:&quot;搜索...&quot;,&quot;empty&quot;:&quot;没有找到任何搜索结果：${query}&quot;,&quot;hits_time&quot;:&quot;找到 ${hits} 个搜索结果（用时 ${time} 毫秒）&quot;,&quot;hits&quot;:&quot;找到 ${hits} 个搜索结果&quot;}}">
<meta name="description" content="本博客大多内容为慕课和网上博客，并非原创">
<meta property="og:type" content="website">
<meta property="og:title" content="外心人D的博客">
<meta property="og:url" content="https://bubbleboy11.github.io/page/19/index.html">
<meta property="og:site_name" content="外心人D的博客">
<meta property="og:description" content="本博客大多内容为慕课和网上博客，并非原创">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="外心人D">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://bubbleboy11.github.io/page/19/">



<meta name="hexo-config-page" content="{&quot;sidebar&quot;:&quot;&quot;,&quot;isHome&quot;:true,&quot;isPost&quot;:false,&quot;lang&quot;:&quot;zh-CN&quot;}">
<meta name="hexo-config-calendar" content="">
<script data-pjax src="/js/load-config.js"></script>
  <title>外心人D的博客</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="外心人D的博客" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism.css" type="text/css"></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">外心人D的博客</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">外心人D</p>
  <div class="site-description" itemprop="description">本博客大多内容为慕课和网上博客，并非原创</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">241</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">21</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">38</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/xing-wei-xing-mo-shi-zhi-guan-cha-zhe-mo-shi/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/xing-wei-xing-mo-shi-zhi-guan-cha-zhe-mo-shi/" class="post-title-link" itemprop="url">行为型模式之观察者模式</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-04-02 12:24:46" itemprop="dateModified" datetime="2021-04-02T12:24:46Z">2021-04-02</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Markdown/" itemprop="url" rel="index"><span itemprop="name">Markdown</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="观察者模式"><a href="#观察者模式" class="headerlink" title="观察者模式"></a>观察者模式</h3><ul>
<li>发布订阅是一种最常见的实现方式</li>
<li>发布订阅用于解耦逻辑</li>
<li>可以通过回调等方式实现，当发生事件时，调用相应的回调函数<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 发布订阅模式，通过在发布者里面加入订阅者，并通过订阅者的回调实现</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Publisher</span>:</span>  <span class="comment"># 发布者</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.observers = []  <span class="comment"># 初始化观察者为空列表</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">self, observer</span>):</span>  <span class="comment"># 加入观察者到观察者列表</span></span><br><span class="line">        <span class="keyword">if</span> observer <span class="keyword">not</span> <span class="keyword">in</span> self.observers:</span><br><span class="line">            self.observers.append(observer)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">'Failed to add : {}'</span>.format(observer))</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">remove</span>(<span class="params">self, observer</span>):</span>  <span class="comment"># 从观察者列表移除观察者</span></span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            self.observers.remove(observer)</span><br><span class="line">        <span class="keyword">except</span> ValueError:</span><br><span class="line">            print(<span class="string">'Failed to remove : {}'</span>.format(observer))</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">notify</span>(<span class="params">self</span>):</span>  <span class="comment"># 调用观察者的回调</span></span><br><span class="line">        [o.notify_by(self) <span class="keyword">for</span> o <span class="keyword">in</span> self.observers]</span><br><span class="line">        <span class="comment"># 当发生相应事件时候，通知所有观察者去调用回调函数</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Formatter</span>(<span class="params">Publisher</span>):</span>  <span class="comment"># 继承自发布者</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name</span>):</span></span><br><span class="line">        super().__init__()</span><br><span class="line">        self.name = name</span><br><span class="line">        self._data = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">data</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self._data</span><br><span class="line"></span><br><span class="line"><span class="meta">    @data.setter</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">data</span>(<span class="params">self, new_value</span>):</span></span><br><span class="line">        self._data = int(new_value)</span><br><span class="line">        self.notify()  <span class="comment"># data 在被合法赋值以后会执行notify</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">BinaryFormatter</span>:</span></span><br><span class="line">    <span class="string">''' 订阅者 '''</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">notify_by</span>(<span class="params">self, publisher</span>):</span>  <span class="comment"># 接收一个Publisher类的实例作为参数</span></span><br><span class="line">        print(<span class="string">"{}: '{}' has now bin data = {}"</span>.format(</span><br><span class="line">            type(self).__name__, </span><br><span class="line">            publisher.name, </span><br><span class="line">            bin(publisher.data))</span><br><span class="line">        )</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">df = Formatter(<span class="string">'formatter'</span>)  <span class="comment"># 发布者</span></span><br><span class="line">bf = BinaryFormatter()  <span class="comment"># 订阅者</span></span><br><span class="line">df.add(bf)  <span class="comment"># 添加订阅者</span></span><br><span class="line">df.data = <span class="number">3</span>  <span class="comment"># 设置的时候调用订阅者的notify_by函数</span></span><br><span class="line"><span class="comment"># 输出结果：</span></span><br><span class="line"><span class="comment"># BinaryFormatter: 'formatter' has now bin data = 0b11</span></span><br></pre></td></tr></tbody></table></figure></li>
</ul>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/xing-wei-xing-mo-shi-zhi-die-dai-qi-mo-shi/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/xing-wei-xing-mo-shi-zhi-die-dai-qi-mo-shi/" class="post-title-link" itemprop="url">行为型模式之策略模式</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-05-09 01:34:21" itemprop="dateModified" datetime="2021-05-09T01:34:21Z">2021-05-09</time>
      </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="迭代器-Iterator-模式"><a href="#迭代器-Iterator-模式" class="headerlink" title="迭代器(Iterator)模式"></a>迭代器(Iterator)模式</h3><ul>
<li>Python内置对迭代器模式支持</li>
<li>可作用于for循环的，具备了__iter__或iter()方法的对象，就是可迭代对象 Iterable</li>
<li>调用对象名.<strong>next</strong>()时（或next(对象名)）和 <strong>iter</strong> 对象称为迭代器Iterator<br>每次调用next(g)，就计算出g的下一个元素的值，<br>返回它所记录位置的下一个位置的数据。<br>直到没有数据时抛出StopIteration错误，表示无法继续返回下一个值了。<br>直到计算到最后一个元素，没有可供返回的值</li>
</ul>
<p>Iterator对象表示的是一个数据流、一个有序序列，<br>但我们却不能提前知道序列的长度，<br>只能不断通过next()函数实现按需计算下一个数据，<br>所以Iterator的计算是惰性的，<br>只有在需要返回下一个数据时它才会计算。</p>
<p>Python的for循环本质上就是通过不断调用next()函数实现的</p>
<p>Iterator甚至可以表示一个无限大的数据流，例如全体自然数。<br>而使用list是永远不可能存储全体自然数的。</p>
<p>给定一个list或tuple或字符串，通过for循环来遍历这个list或tuple，称为迭代（Iteration）。<br>dict迭代的是key。<br>如果要迭代value，可以用for value in d.values()，<br>如果要同时迭代key和value，可以用for k, v in d.items()。</p>
<p>可以使用isinstance()判断一个对象是否是Iterable对象<br>可以使用isinstance()判断一个对象是否是Iterator对象：</p>
<p>迭代Iteration 是访问集合元素的一种方式。<br>迭代器是一个可以记住遍历的位置的对象，记录每次迭代访问到的位置，<br>迭代器对象从集合的第一个元素开始访问，<br>直到所有的元素被访问完结束。<br>迭代器只能往前不会后退。</p>
<p>重复多次，像循环那样，针对对象</p>
<p>数据类型有以下几种：<br>一类是集合数据类型，<br>int整型不是iterable，即int整型不是可以迭代的<br>如list、tuple、dict、set、str等是Iterable但不是Iterator，<br>把list、dict、str等Iterable变成Iterator可以使用iter()函数</p>
<p>法二：<br>    定义一个以 yield 关键字标识返回值的函数；<br>    调用刚刚创建的函数，即可创建一个生成器（generator）。<br>生成器函数就是一个迭代器，返回迭代器Iterator的函数，<br>创建了一个generator后，基本上永远不会调用next()，太麻烦<br>而是通过for循环来迭代它，并且不需要关心StopIteration的错误。</p>
<p>#普通函数是顺序执行，遇到return语句或者最后一行函数语句就返回。<br>#在调用生成器运行的过程中，遇到yield时函数会返回一个generator对象<br>#并保存当前所有的运行信息，函数冻结<br>#在下一次执行next()方法时从上次返回的yield语句处继续执行。<br>比如<code>[i for i in range(10) if i % 2 == 0]</code><br>生成器的创建方式也比迭代器简单很多<br>只要把一个列表生成式的方括号[]改成圆括号()就会返回生成器，只保存算法不保存数据，使用生成器推导大大节省内存<br>一边循环一边计算的机制 只能用于迭代操作</p>
<figure class="highlight plain"><figcaption><span>for i in range(10) if i % 2 </span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">一类是generator，包括生成器和带yield的generator function。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">为啥会用到生成器？&nbsp; &nbsp;&nbsp;</span><br><span class="line">&nbsp;简单举个例子：</span><br><span class="line">&nbsp; &nbsp; 列表所有数据都在内存中，如果有海量数据的话将会非常耗内存。</span><br><span class="line">如果仅仅需要访问前面几个元素，</span><br><span class="line">那后面绝大多数元素占用的空间都白白浪费了。</span><br><span class="line">&nbsp;&nbsp; &nbsp;如果列表元素能按照某种算法推算出来，</span><br><span class="line">那我们就可以在循环的过程中不断推算出后续的元素，</span><br><span class="line">这样就不必创建完整的list，从而节省大量的空间。</span><br><span class="line"></span><br><span class="line">实现了延迟求值和惰性求值，也是后面协程实现的基础</span><br><span class="line">```python</span><br><span class="line">import hello</span><br><span class="line">hello.test() # test是hello模块的一个函数</span><br><span class="line">变量和函数并没有本质区别，函数名就是变量</span><br><span class="line">import hello</span><br><span class="line">hello.new_var # new_var是hello模块的一个变量</span><br></pre></td></tr></tbody></table></figure>

<p>_是一个合法的标识符，也可以作为一个有效的变量使用，除非明确的知道这个数据需要使用<br>但是定义成下划线就是希望不要被使用<br>无需关注其实际含义的变量可以用_代替，起到的是循环此数的作用,也可以用i，j 等其他字母代替，</p>
<p>如何让一个对象可迭代</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> collections <span class="keyword">import</span> deque</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Stack</span>(<span class="params">object</span>):</span>  <span class="comment"># 使用组合的例子</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self._deque = deque()  <span class="comment"># has a deque()</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">push</span>(<span class="params">self, value</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self._deque.append(value)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">pop</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self._deque.pop()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">empty</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> len(self._deque) == <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span>(<span class="params">self</span>):</span>  <span class="comment"># 定义__iter__方法让它支持迭代</span></span><br><span class="line">        <span class="comment"># 因为栈是后进先出希望让它从上往下去迭代</span></span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> self._deque:  <span class="comment"># deque从左往右去遍历的</span></span><br><span class="line">            res.append(i)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> reversed(res):  <span class="comment"># 需要让res反转，才能实现从上往下迭代</span></span><br><span class="line">            <span class="keyword">yield</span> i</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">s = Stack()</span><br><span class="line">s.push(<span class="number">1</span>)</span><br><span class="line">s.push(<span class="number">2</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> s:  <span class="comment"># 让自定义Stack实现迭代，通过添加__iter__方法实现迭代</span></span><br><span class="line">    print(i)</span><br><span class="line"><span class="comment"># 输出结果：</span></span><br><span class="line"><span class="comment"># 2</span></span><br><span class="line"><span class="comment"># 1</span></span><br></pre></td></tr></tbody></table></figure>
<p>注意：Stack并不是一个迭代器，它是个可迭代对象Iterable。要区分迭代器(Iterator)。</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/she-ji-mo-shi/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/she-ji-mo-shi/" class="post-title-link" itemprop="url">HTML</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-04-02 12:24:45" itemprop="dateModified" datetime="2021-04-02T12:24:45Z">2021-04-02</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Markdown/" itemprop="url" rel="index"><span itemprop="name">Markdown</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="常见创建型设计模式（重点单例模式和工厂模式）"><a href="#常见创建型设计模式（重点单例模式和工厂模式）" class="headerlink" title="常见创建型设计模式（重点单例模式和工厂模式）"></a>常见创建型设计模式（重点单例模式和工厂模式）</h3><ul>
<li>工厂模式(Factory)：解决对象创建问题</li>
<li>构建者模式(Builder)：控制复杂对象的创建</li>
<li>原型模式(Prototype)：通过原型的克隆创建新的实例</li>
<li>单例模式(Borg / Singleton)：一个类只能创建同一个对象</li>
<li>对象池模式(Pool)：预先分配同一类型的一组实例</li>
<li>惰性计算模式(Lazy Evalution)：延迟计算(python 的property)，当访问这些属性的时候才做一些相应的计算操作</li>
</ul>
<h3 id="常见结构型设计模式（重点适配器模式和代理模式和MVC）"><a href="#常见结构型设计模式（重点适配器模式和代理模式和MVC）" class="headerlink" title="常见结构型设计模式（重点适配器模式和代理模式和MVC）"></a>常见结构型设计模式（重点适配器模式和代理模式和MVC）</h3><ul>
<li>装饰器模式(Decorator)：无需子类化扩展对象功能</li>
<li>代理模式(Proxy)：把一个对象的操作代理到另一个对象</li>
<li>适配器模式(Adapter)：通过一个间接层适配同一接口</li>
<li>外观模式(Facade)：简化复杂对象的访问问题</li>
<li>享元模式(Flyweight)：通过对象复用(池)改善资源利用，比如连接池</li>
<li>Model-View_Controller(MVC)：解耦展示逻辑和业务逻辑，如Django 是MTV模式，T 为 template和MVC非常类似。</li>
</ul>
<h3 id="常见学习行为型设计模式"><a href="#常见学习行为型设计模式" class="headerlink" title="常见学习行为型设计模式"></a>常见学习行为型设计模式</h3><ul>
<li>迭代器模式(Iterator)：通过统一的接口迭代对象</li>
<li>观察者模式(Observer)：对象发生改变的时候，观察者执行相应动作</li>
<li>策略模式(Strategy)：针对不同规模输入使用不同的策略</li>
</ul>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/jin-zhi/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/jin-zhi/" class="post-title-link" itemprop="url">进制</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-05-02 12:34:33" itemprop="dateModified" datetime="2021-05-02T12:34:33Z">2021-05-02</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>python整数类型为Unifying Long Integers，无限长整数类型，<br>没有 32 / 64 位 int long 等不同长度等概念，但肯定是大于 32 位</p>
<p>八进制：包括0-7的数字</p>
<p>十六进制表示：包括0-9的数字，及字母a-f，A-F，a表示10</p>
<p>Python 中浮点数的运算存在误差<br>计算机底层运算的时候操作的是二进制，<br>当带小数点的十进制转换成二进制的时候可能存在小数部分乘不尽的情况</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="number">1.2</span> - <span class="number">1.0</span>)  <span class="comment"># 0.19999999999999996</span></span><br><span class="line">print(<span class="number">0.1</span> + <span class="number">0.2</span>)  <span class="comment"># 0.30000000000000004</span></span><br><span class="line">print(<span class="number">0.1</span> + <span class="number">2</span>)  <span class="comment"># 2.1</span></span><br><span class="line">print(<span class="number">0.1</span> * <span class="number">2</span>)  <span class="comment"># 0.2</span></span><br><span class="line"></span><br><span class="line">print(<span class="number">1.2</span> - <span class="number">1.0</span> == <span class="number">0.2</span>)  <span class="comment"># False</span></span><br><span class="line">print(type(<span class="number">2</span> / <span class="number">2</span>))  <span class="comment"># &lt;class 'float'&gt;</span></span><br><span class="line"></span><br><span class="line">print(float(<span class="number">1</span>))   <span class="comment"># 1.0</span></span><br></pre></td></tr></tbody></table></figure>

<p>python中<code>0b</code>(数字0和小写字母B前缀)代表二进制数字</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="number">0b101</span>)  <span class="comment"># 5  </span></span><br><span class="line">print(<span class="number">0b11</span>)  <span class="comment"># 3  </span></span><br></pre></td></tr></tbody></table></figure>

<p>java中以<code>0</code>开头代表八进制数字，如：037，056<br>python中<code>0o</code>(数字0和小写字母O前缀)代表八进制数字，</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="number">0o11</span>)  <span class="comment"># 9  </span></span><br><span class="line">print(<span class="number">0o110</span>)  <span class="comment"># 72  </span></span><br></pre></td></tr></tbody></table></figure>

<p>java中以<code>0x</code>或<code>0X</code>开头代表十六进制数字，如：0x12，0xabcf，0XABCF<br>python中<code>0x</code>(数字0和小写字母X前缀)代表十六进制数字</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="number">0x101</span>)  <span class="comment"># 257   </span></span><br><span class="line">print(<span class="number">0x1F</span>)  <span class="comment"># 31</span></span><br><span class="line">print(<span class="number">0x1f</span>)  <span class="comment"># 31</span></span><br></pre></td></tr></tbody></table></figure>

<p><code>int()</code> 代表不同类型数据转换为10进制数字<br><code>oct()</code>  代表不同类型数据转换为8进制数字</p>
<p><code>hex(x)</code>，将不同类型进制整数转换为以“0x”为前缀的小写十六进制数的字符串。如果 x 不是 Python int 对象，则必须定义返回整数的 <strong>index</strong>() 方法。</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">print(hex(<span class="number">1</span>))  <span class="comment"># 0x1 补码</span></span><br><span class="line">print(hex(<span class="number">-1</span>))  <span class="comment"># -0x1 负号 + 原码 （Python 特色，Java 会直接输出补码）</span></span><br><span class="line"></span><br><span class="line">print(hex(<span class="number">3</span>), type(hex(<span class="number">3</span>)))  <span class="comment"># 0x3 &lt;class 'str'&gt;</span></span><br><span class="line">print(hex(<span class="number">0b11</span>))  <span class="comment"># 0x3  将2进制数字转换为2=16进制</span></span><br></pre></td></tr></tbody></table></figure>

<p>如果要将整数转换为大写或小写的十六进制字符串，并可选择有无“0x”前缀，则可以使用如下方法：</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">'%#x'</span> % <span class="number">3</span>, <span class="string">'%x'</span> % <span class="number">3</span>, <span class="string">'%X'</span> % <span class="number">3</span>, )</span><br><span class="line"><span class="comment"># 0x3 3 3</span></span><br><span class="line"></span><br><span class="line">print(format(<span class="number">3</span>, <span class="string">'#x'</span>), format(<span class="number">3</span>, <span class="string">'x'</span>), format(<span class="number">3</span>, <span class="string">'X'</span>))</span><br><span class="line"><span class="comment"># 0x3 3 3</span></span><br><span class="line">print(f'{3:#x}', f'{3:x}', f'{3:X}')</span><br><span class="line"><span class="comment"># 0x3 3 3</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">'%#x'</span> % <span class="number">-3</span>, <span class="string">'%x'</span> % <span class="number">-3</span>, <span class="string">'%X'</span> % <span class="number">-3</span>, )</span><br><span class="line"><span class="comment"># -0x3 -3 -3</span></span><br><span class="line"></span><br><span class="line">print(format(<span class="number">-3</span>, <span class="string">'#x'</span>), format(<span class="number">-3</span>, <span class="string">'x'</span>), format(<span class="number">-3</span>, <span class="string">'X'</span>))</span><br><span class="line"><span class="comment"># -0x3 -3 -3</span></span><br><span class="line">print(f'{-3:#x}', f'{-3:x}', f'{-3:X}')</span><br><span class="line"><span class="comment"># -0x3 -3 -3</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight plain"><figcaption><span>将一个不同类型进制整数转变为一个前缀为“0b”的二进制数的字符串。结果是一个合法的 Python 表达式。</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">如果 x 不是 Python 的 ```int``` 对象，那它需要定义 ```__index__()``` 方法返回一个整数。</span><br><span class="line">bin一个正数（十进制表示），输出的是它的原码的二进制表示</span><br><span class="line">bin一个负数（十进制表示），输出的是它的原码的二进制表示加上个负号，而不是补码的形式。</span><br><span class="line">```python</span><br><span class="line">print(bin(3), type(bin(3)))  # 0b11 &lt;class 'str'&gt;</span><br><span class="line">print(bin(-3))  # -0b11</span><br></pre></td></tr></tbody></table></figure>

<p>对数值进行与操作就获得补码形式的二进制表示 </p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">print(bin(<span class="number">-3</span> &amp; <span class="number">0b111</span>))  </span><br><span class="line"><span class="comment"># 0b101</span></span><br><span class="line">print(bin(<span class="number">-3</span> &amp; <span class="number">0b1111111111111111</span>))</span><br><span class="line"><span class="comment"># 0b1111111111111101</span></span><br><span class="line">---</span><br><span class="line">title: HTML</span><br><span class="line">date: <span class="number">2020</span><span class="number">-08</span><span class="number">-20</span> <span class="number">16</span>:<span class="number">21</span>:<span class="number">41</span></span><br><span class="line">author: 外心人D</span><br><span class="line">toc: true</span><br><span class="line">mathjax: false</span><br><span class="line">summary: 爱编程</span><br><span class="line">categories: Markdown</span><br><span class="line">tags:</span><br><span class="line">  - Leetcode</span><br><span class="line">  - 剑指offer</span><br><span class="line">---</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">```py</span><br><span class="line">print(bin(<span class="number">-5</span>))</span><br><span class="line"><span class="comment"># -0b101</span></span><br><span class="line"></span><br><span class="line">print(bin(<span class="number">-5</span> &amp; <span class="number">0b1111</span>))  </span><br><span class="line"><span class="comment"># 0b1011</span></span><br><span class="line"></span><br><span class="line">print(bin(<span class="number">-5</span> &amp; <span class="number">0b11111</span>))  </span><br><span class="line"><span class="comment"># 0b11011</span></span><br><span class="line"></span><br><span class="line">print(bin(<span class="number">-5</span> &amp; <span class="number">0b1111111111111111</span>))</span><br><span class="line"><span class="comment"># 0b1111111111111011</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># bin一个负数（十六进制表示），输出的是对应的二进制表示。</span></span><br><span class="line">print(bin(<span class="number">-3</span> &amp; <span class="number">0xffffffff</span>))</span><br><span class="line"><span class="comment"># 0b11111111111111111111111111111101</span></span><br><span class="line">print(bin(<span class="number">0xfffffffd</span>))</span><br><span class="line"><span class="comment"># 0b11111111111111111111111111111101</span></span><br><span class="line"></span><br><span class="line">print(bin(<span class="number">0o7</span>))  <span class="comment"># 0b111 将8进制数字转换为2进制</span></span><br><span class="line">print(bin(<span class="number">0xE</span>))  <span class="comment"># 0b1110 将16进制数字转换为2进制</span></span><br></pre></td></tr></tbody></table></figure>

<p>If prefix “0b” is desired or not, you can use either of the following ways.<br>如果不一定需要前缀“0b”，还可以使用如下的方法。<br>用format字符串获取一个int的binary表示：</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">```f"{a:030b}"```：将a转换成binary的str，并在前面补0使其总位数是30。</span><br><span class="line"></span><br><span class="line">```py</span><br><span class="line">format(14, '#b'), format(14, 'b')</span><br><span class="line"># ('0b1110', '1110')</span><br><span class="line">f'{14:#b}', f'{14:b}'</span><br><span class="line"># ('0b1110', '1110')</span><br></pre></td></tr></tbody></table></figure>

<p>4bit有符号整型， 其数值范围为[-8， 7]<br>-2 + 3 可以通过补码计算 1110 + 0011 =(1) 0001</p>
<figure class="highlight angelscript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">    <span class="number">1</span> <span class="number">1</span> <span class="number">1</span> <span class="number">0</span></span><br><span class="line">+   <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> <span class="number">1</span></span><br><span class="line">-----------</span><br><span class="line">(<span class="number">1</span>) <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1</span> # 注意溢出</span><br></pre></td></tr></tbody></table></figure>

<p>python 由于不知道符号位具体是第几位，因此需要进行的操作是</p>
<ol>
<li>将输入数字转化成无符号整数</li>
<li>计算无符号整数相加并的到结果</li>
<li>讲结果根据范围判定，映射为有符号整型</li>
</ol>
<p>转化为4bit无符号整数</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a &amp;= <span class="number">0xF</span> <span class="comment"># a = a &amp; 0b1111 = 1110 = 14</span></span><br><span class="line">b &amp;= <span class="number">0xF</span> <span class="comment"># b = 0011 = 3</span></span><br></pre></td></tr></tbody></table></figure>

<p>原码：直接将一个数值转化为二进制，其首位代表符号，<code>0</code> 为正， <code>1</code> 为负<br>正数：原码 = 反码 = 补码<br>负数反码：原码最高位符号位不变，其余为取反<br>负数补码：负数反码+1，即 符号位不变，各位取反再加 1</p>
<h4 id="补码特性："><a href="#补码特性：" class="headerlink" title="补码特性："></a>补码特性：</h4><p>1、一个负整数（或原码）与其补数（或补码）相加，和为模。<br>2、对一个整数的补码再求补码，等于该整数自身。<br>3、补码的正零与负零表示方法相同</p>
<ul>
<li>Python 负数的存储：<ul>
<li>获取负数的补码：<br>将整数与 0xffffffff 相与，<br>可理解为该数从 32 位开始到最高位全部置零，最高位为0为正数<br>从无限长度变为一个 32 位内二进制可以表示的正整数<br>一直循环左移并不会存在溢出的现象，模拟其他语言的32位溢出机制。<br>一个负整数（或原码）与其补数（或补码）相加，和为模。2 的32 次方 是模。<br>那么就是 2 的32 次方 然后 + n  这是在取一个负数的补码<br>就相当于  n &amp; 0xffffffff<br>高位第一位的数字取决于此数字是正数还是负数，是正数则为 0 ，是负数则为 1</li>
</ul>
</li>
</ul>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print(hex(<span class="number">1</span> &amp; <span class="number">0xffffffff</span>))  <span class="comment"># 0x1 正数补码</span></span><br><span class="line">print(hex(<span class="number">-1</span> &amp; <span class="number">0xffffffff</span>))  <span class="comment"># 0xffffffff 负数补码</span></span><br><span class="line">print(<span class="number">-1</span> &amp; <span class="number">0xffffffff</span>)  <span class="comment"># 4294967295（Python 将其认为正数）</span></span><br></pre></td></tr></tbody></table></figure>
<ul>
<li>返回前数字还原 补码转原码：<br>若补码 a 为负数（第 32位是 1），<br>a ^ 0xffffffff 运算将 1 至 32 位按位取反；<br>~ 运算是将所有位的数字会取反；<br>因此， ~(a ^ 0xffffffff) 是将低的 1 至 32 位不变。<br>32 位以上的位取反，即 32位以上所有位全部置 1了，<br>对于32位的数字来说最高位是1则说明此数为负数<br>把这个负数补码恢复到 超过32位的 python 存储负数的形式，</li>
</ul>
<p>如果不对负数特殊处理，那么负数的前32位里的最高位还可能存在 0，最后输出的是大于32位的正数</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/di-gui/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/di-gui/" class="post-title-link" itemprop="url">HTML</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-04-02 12:24:45" itemprop="dateModified" datetime="2021-04-02T12:24:45Z">2021-04-02</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Markdown/" itemprop="url" rel="index"><span itemprop="name">Markdown</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>“””<br>在递归过程中，，函数可能会有多个位置将自身作为子例程调用<br>每当递归函数调用自身时，它都会将给定的问题拆解为子问题。<br>递归调用继续进行，直到到子问题无需进一步递归就可以解决的地步。</p>
<p>为了确保递归函数不会导致无限循环，它应具有以下属性：</p>
<ul>
<li>一个简单的基本案例（basic case）（一般情况），<br>能够不使用递归来产生答案的终止方案，必须要有终止条件，</li>
<li>一组规则，也称作递推关系（recurrence relation），可将所有其他情况拆分到基本案例。<br>不断调用自身，直到遇到终止条件后进行回溯，最终返回答案。</li>
</ul>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func1</span>(<span class="params">x</span>):</span></span><br><span class="line">    print(x)</span><br><span class="line">    func1(x - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func2</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">if</span> x &gt; <span class="number">0</span>:</span><br><span class="line">        print(x)</span><br><span class="line">        func2(x + <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func3</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">if</span> x &gt; <span class="number">0</span>:</span><br><span class="line">        print(x)</span><br><span class="line">        func3(x - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func4</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="keyword">if</span> x &gt; <span class="number">0</span>:</span><br><span class="line">        func4(x - <span class="number">1</span>)</span><br><span class="line">        print(x)</span><br></pre></td></tr></tbody></table></figure>
<p>func3和func4是递归，x为正整数，func3会连续输出x到1，func4会输出1 到x</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">printReverse</span>(<span class="params">str</span>):</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> str:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    printReverse(str+<span class="number">1</span>)</span><br><span class="line">    print()</span><br></pre></td></tr></tbody></table></figure>

<p>高斯求和</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 循环</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_number</span>(<span class="params">n</span>):</span></span><br><span class="line">    total = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n + <span class="number">1</span>):</span><br><span class="line">        total += i</span><br><span class="line">    <span class="keyword">return</span> total</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(sum_number(<span class="number">10</span>))  <span class="comment"># 5</span></span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 递归</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum_number</span>(<span class="params">n</span>):</span></span><br><span class="line">    <span class="keyword">if</span> n &lt;= <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">return</span> n + sum_number(n - <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(sum_number(<span class="number">10</span>))  <span class="comment"># 55</span></span><br></pre></td></tr></tbody></table></figure>

<p>基本情况：sum_number(0) = 0<br>其它情形: sum_number(n) = n + sum_number</p>
<p>sum_number(n-1)又是一次sum_number函数的调用，<br>不过参数的值变成了n-1，<br>要得sum_number(n)到的值就必须等待sum_number(n-1)的值被计算出来，<br>同样要得到sum_number(n-1)的值必须等待sum_number(n-2)的值，<br>如此一路推算下去，直到sum_number(0)，<br>因为if语句的存在，它不需要等待sum_number(-1)的计算了，而是直接给出结果0。<br>参数值由 10 9 8 7 6 5 4 3 2 1 0<br>sun_number(1)=1+sun_number(0)=1<br>sun_number(2)=2+sun_number(1)=2+1+sun_number(0)=2+1+0=3<br>sun_number(3)=3+sun_number(2)=3+3=6<br>….<br>然后程序一路返回，直到回到最初的sum_number(n)，并给出最终结果。<br>“””</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 求阶乘</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">F</span>(<span class="params">n</span>):</span></span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">0</span> <span class="keyword">or</span> n == <span class="number">1</span>:</span><br><span class="line">        <span class="comment"># 对应基本情形</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> F(n - <span class="number">1</span>) * n  <span class="comment"># 对应递归情形</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(F(<span class="number">4</span>))  <span class="comment"># 24</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string"> F(0) = 1, F(1) = 1</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">其它情形: F(n) = F(n-1) * n</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 计算s=a+aa+aaa+aaaa+aa...a，其中 a是一个数字。</span></span><br><span class="line"><span class="comment"># 例如2+22+222+2222+22222(此时共有5个数相加)，几个数相加由键盘控制。</span></span><br><span class="line"><span class="comment"># 其中，a 以及 n 由用户输入，但是我们在这里就直接给定了。</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sss</span>(<span class="params">a, n</span>):</span></span><br><span class="line">    <span class="comment"># 这里我说明一下，直接用input函数得到的就是字符串，除非你已经做了转换</span></span><br><span class="line">    <span class="comment"># 所以,我们设定a、n都是字符串</span></span><br><span class="line">    n = int(n)  <span class="comment"># 转换</span></span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> int(a)</span><br><span class="line">    <span class="keyword">return</span> sss(a, n - <span class="number">1</span>) + int(a * n)  <span class="comment"># 请思考这里a*n</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="string">"""基本情形：sss(a, 1) = a</span></span><br><span class="line"><span class="string">sss(a, 2) = a+aa=sss(a, 1)+aa</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">其它情形:</span></span><br><span class="line"><span class="string">sss(a, n) = sss(a, n-1) + a...a(共n项)""</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line">print(sss(<span class="string">'2'</span>, <span class="string">'1'</span>))  <span class="comment"># 2</span></span><br><span class="line">print(sss(<span class="string">'2'</span>, <span class="string">'2'</span>))  <span class="comment"># 24</span></span><br><span class="line">print(<span class="string">'-----'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line"></span><br><span class="line">n = int(input(<span class="string">"请输入层数n："</span>))  <span class="comment"># &lt;class 'int'&gt;</span></span><br><span class="line">a = int(input(<span class="string">"请输入数字a："</span>))  <span class="comment"># &lt;class 'int'&gt;</span></span><br><span class="line"></span><br><span class="line">Tn = <span class="number">0</span>  <span class="comment"># 初始化数字叠加后的值</span></span><br><span class="line">Sn = []  <span class="comment"># 创建一个空列表，以便接收叠加后的数值</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(n):  <span class="comment"># 此处的循环表示，n为几，i就循环几次，</span></span><br><span class="line">    <span class="comment"># 也就是，层数为几，下面的循环体就执行几次</span></span><br><span class="line">    Tn = Tn + a  <span class="comment"># 将循环的值赋值给Tn</span></span><br><span class="line">    <span class="comment"># print("数字叠加后值为：", Tn)  # 打印出数字叠加后的值</span></span><br><span class="line">    Sn.append(Tn)  <span class="comment"># 将数字叠加后的值依次添加到Sn这个空的列表中</span></span><br><span class="line">    <span class="comment"># print("创建的数列为：", Sn)  # 打印出列表Sn中的所有值</span></span><br><span class="line">    a = a * <span class="number">10</span>  <span class="comment"># 为下一个数做循环准备</span></span><br><span class="line">print(<span class="string">"创建的数列为："</span>, Sn)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 法一</span></span><br><span class="line"><span class="comment"># sum_ = reduce(lambda x, y: x + y, Sn)  # 计算Sn的值</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 法二</span></span><br><span class="line">sum_ = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> Sn:</span><br><span class="line">    sum_ += i</span><br><span class="line">print(<span class="string">"计算的和为："</span>, sum_)  <span class="comment"># 打印出Sn的值</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a = input(<span class="string">"a:"</span>)  <span class="comment"># &lt;class 'str'&gt;</span></span><br><span class="line">n = int(input(<span class="string">"n:"</span>))  <span class="comment"># &lt;class 'int'&gt;</span></span><br><span class="line">ls = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, n + <span class="number">1</span>):</span><br><span class="line">    ls.append(i * a)  <span class="comment"># 字符串乘一个数</span></span><br><span class="line">sum = <span class="number">0</span></span><br><span class="line">print(ls)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> ls:</span><br><span class="line">    sum += eval(i)  <span class="comment"># 字符串表达式</span></span><br><span class="line">print(sum)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getNum</span>(<span class="params">a, count</span>):</span></span><br><span class="line">    list1 = []</span><br><span class="line">    res = <span class="number">0</span></span><br><span class="line">    a = str(a)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, count + <span class="number">1</span>):</span><br><span class="line">        list1.append(int(a * i))</span><br><span class="line">        print(list1[i - <span class="number">1</span>], end=<span class="string">" "</span>)</span><br><span class="line">        <span class="keyword">if</span> i &lt; count:</span><br><span class="line">            print(<span class="string">"+"</span>, end=<span class="string">" "</span>)</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> list1:</span><br><span class="line">        res += j</span><br><span class="line">    print(<span class="string">"="</span>, res)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">getNum(<span class="number">2</span>, <span class="number">2</span>)  <span class="comment"># 2 + 22 = 24</span></span><br></pre></td></tr></tbody></table></figure>

<p>判断用户输入的数组的逆序数。<br>定义：OP(seq, n)为序列seq中前n项的逆序数</p>
<p>基本情形:<br>OP(seq[1…n], 1) = 0，对于只有一个元素的集合，逆序数必然只有0<br>其它情形:<br>OP(seq[1…n], n) = OP(seq[1…n, n-1] + F(n)，其中，F(n)是n关于seq[1…n-1]的逆序数.</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">OP</span>(<span class="params">seq, n</span>):</span></span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="comment"># 不为0</span></span><br><span class="line">    Fn = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>, n - <span class="number">1</span>):</span><br><span class="line">        <span class="keyword">if</span> seq[n - <span class="number">1</span>] &lt; seq[i]:</span><br><span class="line">            Fn += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> OP(seq, n - <span class="number">1</span>) + Fn</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">s = [<span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line">print(OP(s, len(s)))  <span class="comment"># 10</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># n=5 n-1-1=3</span></span><br><span class="line"><span class="comment"># 当i=0,seq[4]=1&lt;seq[0]=5</span></span><br><span class="line"><span class="comment"># 当i=1,seq[4]=1&lt;seq[1]=4</span></span><br><span class="line"><span class="comment"># 当i=2,seq[4]=1&lt;seq[2]=3</span></span><br><span class="line"><span class="comment"># 当i=3,seq[4]=1&lt;seq[3]=2</span></span><br></pre></td></tr></tbody></table></figure>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/luo-ji-yun-suan-fu/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/luo-ji-yun-suan-fu/" class="post-title-link" itemprop="url">HTML</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-04-02 12:24:46" itemprop="dateModified" datetime="2021-04-02T12:24:46Z">2021-04-02</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Markdown/" itemprop="url" rel="index"><span itemprop="name">Markdown</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>逻辑运算优先 not&gt;and&gt;or<br>0被认为是False，非0表示True</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="number">10</span></span><br><span class="line">b = <span class="number">20</span></span><br><span class="line"><span class="comment"># 布尔"与" x and y</span></span><br><span class="line"><span class="comment"># 如果 x 为 False，返回 False，</span></span><br><span class="line"><span class="comment"># x 为 True， 返回 y 的计算值。</span></span><br><span class="line"><span class="comment"># 同真取最后一个真，有假取第一个假。</span></span><br><span class="line"><span class="keyword">if</span> (a <span class="keyword">and</span> b):  <span class="comment"># (a and b) 返回 20</span></span><br><span class="line">    print(<span class="string">"1.变量 a 和 b 都为 true"</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">"1.变量 a 和 b 有一个不为 true"</span>)</span><br><span class="line"><span class="comment"># 1.变量 a 和 b 都为 true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 布尔"或"     x or y</span></span><br><span class="line"><span class="comment"># 如果x是True，它返回x的值，</span></span><br><span class="line"><span class="comment"># x 为False，它返回y的计算值</span></span><br><span class="line"><span class="comment"># 同假取最后一个假，有真取第一个真。</span></span><br><span class="line"><span class="keyword">if</span> (a <span class="keyword">or</span> b):  <span class="comment"># (a or b) 返回 10</span></span><br><span class="line">    print(<span class="string">"2.变量 a 和 b 都为 true，或其中一个变量为 true"</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">"2.变量 a 和 b 都不为 true"</span>)</span><br><span class="line"><span class="comment"># 2.变量 a 和 b 都为 true，或其中一个变量为 true</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">'a'</span> &gt; <span class="string">'b'</span>)</span><br><span class="line"><span class="comment"># False 'a' 的 ASCII 码比 ‘b’ 小</span></span><br><span class="line">print(<span class="string">'a'</span> &gt; <span class="string">'b'</span> <span class="keyword">or</span> <span class="string">'c'</span>)  <span class="comment"># c</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 修改变量 a 的值</span></span><br><span class="line">a = <span class="number">0</span></span><br><span class="line"><span class="keyword">if</span> (a <span class="keyword">and</span> b):</span><br><span class="line">    print(<span class="string">"3.变量 a 和 b 都为 true"</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">"3.变量 a 和 b 有一个不为 true"</span>)</span><br><span class="line"><span class="comment"># 3.变量 a 和 b 有一个不为 true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (a <span class="keyword">or</span> b):</span><br><span class="line">    print(<span class="string">"4.变量 a 和 b 都为 true，或其中一个变量为 true"</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">"4.变量 a 和 b 都不为 true"</span>)</span><br><span class="line"><span class="comment"># 4.变量 a 和 b 都为 true，或其中一个变量为 true</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 布尔"非" not x ，取反</span></span><br><span class="line"><span class="comment"># 如果 x 为 True，返回 False 。</span></span><br><span class="line"><span class="comment"># 如果 x 为 False，返回 True。</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> (a <span class="keyword">and</span> b):</span><br><span class="line">    print(<span class="string">"5.变量 a 和 b 都为 false，或其中一个变量为 false"</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">"5.变量 a 和 b 都为 true"</span>)</span><br><span class="line"><span class="comment"># 5.变量 a 和 b 都为 false，或其中一个变量为 false</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">x = <span class="literal">True</span></span><br><span class="line">y = <span class="literal">False</span></span><br><span class="line">z = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> x <span class="keyword">or</span> y <span class="keyword">and</span> z:</span><br><span class="line">    print(<span class="string">"yes"</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">"no"</span>)</span><br><span class="line"><span class="comment"># yes</span></span><br><span class="line">print(<span class="string">'----'</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="keyword">not</span> <span class="number">0.1</span>)  <span class="comment"># False</span></span><br><span class="line">print(<span class="keyword">not</span> <span class="string">''</span>)  <span class="comment"># True</span></span><br><span class="line">print(<span class="keyword">not</span> <span class="string">'0'</span>)  <span class="comment"># False</span></span><br><span class="line">print(<span class="keyword">not</span> [])  <span class="comment"># True</span></span><br><span class="line">print(<span class="keyword">not</span> [<span class="number">1</span>, <span class="number">2</span>])  <span class="comment"># False</span></span><br><span class="line">print(bool(<span class="literal">None</span>))  <span class="comment"># False</span></span><br><span class="line"></span><br><span class="line">x = <span class="literal">True</span></span><br><span class="line">y = <span class="literal">False</span></span><br><span class="line">z = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> x <span class="keyword">or</span> y:</span><br><span class="line">    print(<span class="number">1</span>)</span><br><span class="line"><span class="keyword">elif</span> <span class="keyword">not</span> x <span class="keyword">or</span> <span class="keyword">not</span> y <span class="keyword">and</span> z:</span><br><span class="line">    print(<span class="number">2</span>)</span><br><span class="line"><span class="keyword">elif</span> <span class="keyword">not</span> x <span class="keyword">or</span> y <span class="keyword">or</span> <span class="keyword">not</span> y <span class="keyword">and</span> x:</span><br><span class="line">    print(<span class="number">3</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="number">4</span>)</span><br><span class="line"><span class="comment"># not x or y or not y and x就可以这么理解</span></span><br><span class="line"><span class="comment"># 假 or 假 or 真 and 真</span></span><br><span class="line"><span class="comment"># 假 or 假 or 真</span></span><br><span class="line"><span class="comment"># 假 or 真</span></span><br><span class="line"><span class="comment"># 真</span></span><br></pre></td></tr></tbody></table></figure><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/bi-bao/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/bi-bao/" class="post-title-link" itemprop="url">闭包</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-05-09 04:06:53" itemprop="dateModified" datetime="2021-05-09T04:06:53Z">2021-05-09</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="闭包-Closure-‘kləʊʒə"><a href="#闭包-Closure-‘kləʊʒə" class="headerlink" title="闭包 Closure /‘kləʊʒə/"></a>闭包 Closure /‘kləʊʒə/</h2><ul>
<li><p>绑定了外部作用域的变量的函数</p>
</li>
<li><p>即使程序离开外部作用域，如果闭包仍然可见，绑定变量不会销毁<br>即使外部函数结束了，但只要内部函数还在引用外部函数的变量，外部变量它就依然存在。</p>
</li>
<li><p>每次运行外部函数都会重新创建闭包</p>
</li>
<li><p>自由变量：不在当前函数定义的变量。</p>
</li>
<li><p>外函数outer中定义了嵌套内函数inner，</p>
</li>
</ul>
<ul>
<li>内部函数inner引用外部函数outer的自由变量，</li>
<li>当外部函数outer返回内部函数名inner时，即外函数的返回值是内函数的引用，<br>相关参数和变量都保存在返回的函数中</li>
</ul>
<h3 id="外函数返回了内函数的引用："><a href="#外函数返回了内函数的引用：" class="headerlink" title="外函数返回了内函数的引用："></a>外函数返回了内函数的引用：</h3><p>当进行a=1的时候，实际上在内存当中有一个地方存了值1，<br>然后用a这个变量名存了1所在内存位置的引用。<br>引用就好像c语言里的指针，可以把引用理解成地址。<br>a只不过是一个变量名字，a里面存的是1这个数值所在的地址，就是a里面存了数值1的引用。</p>
<p>相同的道理，在python中定义一个函数def demo():的时候，<br>内存当中会开辟一些空间，存下这个函数的代码、内部的局部变量等等。<br>这个demo只不过是一个变量名字，它里面存了这个函数所在位置的引用而已。<br>我们还可以进行x = demo， y = demo， 这样的操作就相当于，<br>把demo里存的东西赋值给x和y，这样x 和y 都指向了demo函数所在的引用，<br>在这之后我们可以用x() 或者 y() 来调用我们自己创建的demo() ，<br>调用的实际上根本就是一个函数，x、y和demo三个变量名存了同一个函数的引用。</p>
<p>对于闭包，在外函数outer中 最后return inner，<br>我们在调用外函数 demo = outer() 的时候，<br>outer返回了inner，inner是一个函数的引用，这个引用被存入了demo中。<br>所以接下来我们再进行demo() 的时候，相当于运行了inner函数。<br>一个函数，如果函数名后紧跟一对括号，相当于现在我就要调用这个函数，<br>如果不跟括号，相当于只是一个函数的名字，里面存了函数所在位置的引用，那它可以被到处传递，并且可以赋值给别的变量而不去执行它。</p>
<p>2 外函数把临时变量绑定给内函数：<br>一般情况下，如果一个函数结束，函数的内部所有东西都会释放掉，<br>还给内存，临时局部变量都会消失。<br>如果没有在函数中引用全局变量，或者仅引用局部变量，<br>在内函数给局部变量赋值python认为是一个局部变量，不能引用外部函数的环境变量，<br>都不会形成闭包</p>
<p>但是闭包是一种特殊情况，发现有自己的临时变量将来会在内部函数中用到，<br>自己在结束的时候，返回内函数的同时，会把外函数的临时变量绑定给了内部函数，<br>所以外函数已经结束了，调用内函数的时候仍然能够使用外函数的临时变量。</p>
<p>python中一切都是对象，虽然函数我们只定义了一次，<br>但是外函数在运行的时候，<br>实际上是按照里面代码执行的，<br>外函数里创建了一个函数，每次调用外函数，<br>它都创建一个代码、功能一样的内函数，<br>但是却创建了不同的对象，并且把每次传入的临时变量数值绑定给内函数，再把内函数引用返回。</p>
<p>特性：自由变量会和闭包函数同时存在，即闭包函数和外部变量会同时存在。</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">curve_pre</span>():</span></span><br><span class="line">    a = <span class="number">25</span></span><br><span class="line">    b = <span class="number">2</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">curve</span>():</span></span><br><span class="line">        <span class="keyword">return</span> b * a</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> curve  <span class="comment"># 实质是返回了函数及现场环境变量</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a = <span class="number">10</span>  <span class="comment"># a并没有在调用curve函数中起到作用</span></span><br><span class="line">r = curve_pre()</span><br><span class="line"></span><br><span class="line">print(r())  <span class="comment"># 50</span></span><br><span class="line">print(r.__closure__)</span><br><span class="line"><span class="comment"># (&lt;cell at 0x000001580A52B3A0: int object at 0x00007FFB6FC599A0&gt;, &lt;cell at 0x000001580A52B400: int object at 0x00007FFB6FC596C0&gt;)</span></span><br><span class="line">print(r.__closure__[<span class="number">0</span>].cell_contents)  <span class="comment"># 25</span></span><br><span class="line">print(r.__closure__[<span class="number">1</span>].cell_contents)  <span class="comment"># 2</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span>():</span></span><br><span class="line">    a = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">f2</span>():</span></span><br><span class="line">        <span class="comment"># a = 20  # a被python认为式一个局部变量，不是闭包</span></span><br><span class="line">        c = <span class="number">20</span> * a</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> f2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">f = f1()</span><br><span class="line">print(f)</span><br><span class="line"><span class="comment"># &lt;function f1.&lt;locals&gt;.f2 at 0x00000205E28F1670&gt;     </span></span><br><span class="line"></span><br><span class="line">print(f.__closure__)  <span class="comment"># 判断是一个闭包</span></span><br><span class="line"><span class="comment"># (&lt;cell at 0x00000205E289B3A0: int object at 0x00007FFB6FC597C0&gt;,)</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">origin = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">factory</span>(<span class="params">pos</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">go</span>(<span class="params">step</span>):</span></span><br><span class="line">        <span class="keyword">nonlocal</span> pos</span><br><span class="line">        new_pos = pos + step</span><br><span class="line">        pos = new_pos  <span class="comment"># origin被赋值，python认为式一个局部变量,</span></span><br><span class="line">        <span class="comment"># 不能引用外部函数的环境变量，不是闭包</span></span><br><span class="line">        <span class="keyword">return</span> new_pos</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> go</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">tourist = factory(origin)</span><br><span class="line">print(tourist(<span class="number">2</span>))  <span class="comment"># 2</span></span><br><span class="line">print(tourist.__closure__[<span class="number">0</span>].cell_contents)  <span class="comment"># 2 查看内函数环境变量</span></span><br><span class="line">print(tourist(<span class="number">3</span>))  <span class="comment"># 5</span></span><br><span class="line">print(tourist.__closure__[<span class="number">0</span>].cell_contents)  <span class="comment"># 5 查看内函数环境变量</span></span><br><span class="line">print(tourist(<span class="number">6</span>))  <span class="comment"># 5 实质是返回了函数及现场环境变量</span></span><br><span class="line">print(tourist.__closure__[<span class="number">0</span>].cell_contents)  <span class="comment"># 11查看内函数环境变量</span></span><br><span class="line">print(origin)  <span class="comment"># 11 外部环境变量没改变</span></span><br></pre></td></tr></tbody></table></figure>


<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">outer</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span>(<span class="params">y</span>):</span></span><br><span class="line">        <span class="keyword">return</span> x + y  <span class="comment"># inner函数引用了外部函数outer的变量x</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(outer(<span class="number">6</span>)(<span class="number">5</span>))  <span class="comment"># 11</span></span><br></pre></td></tr></tbody></table></figure>
<p>第一个括号传进去的值返回inner函数，其实就是返回6 + y，所以再传第二个参数进去，就可以得到返回值，6 + 5。</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">outer</span>(<span class="params">a</span>):</span></span><br><span class="line">    <span class="comment"># a和b都是外函数的临时变量</span></span><br><span class="line">    b = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span>():</span></span><br><span class="line">        print(a + b)  <span class="comment"># 在内函数中 用到了外函数的临时变量</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> inner  <span class="comment"># 外函数的返回值是内函数的引用和环境变量</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">        调用外函数传入参数5</span></span><br><span class="line"><span class="string">        此时外函数两个临时变量 a是5 b是10 ，</span></span><br><span class="line"><span class="string">        并创建了内函数，然后把内函数的引用返回存给了demo</span></span><br><span class="line"><span class="string">        外函数结束的时候发现内部函数将会用到自己的临时变量，</span></span><br><span class="line"><span class="string">        这两个临时变量就不会释放，会绑定给这个内部函数</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line">    demo = outer(<span class="number">5</span>)</span><br><span class="line">    <span class="comment"># demo存了外函数的返回值，也就是inner函数的引用，这里相当于执行inner函数</span></span><br><span class="line">    demo()  <span class="comment"># 15</span></span><br><span class="line"></span><br><span class="line">    demo2 = outer(<span class="number">7</span>)</span><br><span class="line">    demo2()  <span class="comment"># 17</span></span><br></pre></td></tr></tbody></table></figure>
<p>两次调用外部函数outer，分别传入的值是5和7。<br>内部函数只定义了一次，我们发现调用的时候，内部函数是能识别外函数的临时变量是不一样的。</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">outer</span>(<span class="params">x</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span>(<span class="params">y</span>):</span></span><br><span class="line">        <span class="keyword">nonlocal</span> x</span><br><span class="line">        x += y</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a = outer(<span class="number">10</span>)</span><br><span class="line">print(a(<span class="number">1</span>))  <span class="comment"># 11</span></span><br><span class="line">print(a(<span class="number">3</span>))  <span class="comment"># 14，不是13</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">count</span>():</span></span><br><span class="line">    fs = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">4</span>):</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">f</span>():</span></span><br><span class="line">            <span class="keyword">return</span> i * i</span><br><span class="line"></span><br><span class="line">        fs.append(f)</span><br><span class="line">    <span class="keyword">return</span> fs</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">f1, f2, f3 = count()</span><br><span class="line">print(f1())  <span class="comment"># 9</span></span><br><span class="line">print(f2())  <span class="comment"># 9</span></span><br><span class="line">print(f3())  <span class="comment"># 9</span></span><br><span class="line">print(f1.__closure__)  <span class="comment"># 判断是否为闭包</span></span><br><span class="line"><span class="comment"># (&lt;cell at 0x00000254B86EB910: int object at 0x00007FFE087E96E0&gt;,)</span></span><br><span class="line">print(f1.__closure__[<span class="number">0</span>].cell_contents)  <span class="comment"># 环境变量 3</span></span><br></pre></td></tr></tbody></table></figure>

<p>是开启一个函数执行过后消亡，但是闭包变量实际上只有一份，每次开启内函数都在使用同一份闭包变量x<br>why f1(), f2(), f3() returns 9, 9, 9 rather than 1, 4, 9?<br>原因就在于返回的函数引用了变量i，但它并非立刻执行。<br>等到3个函数都返回时，它们所引用的变量i已经变成了3，因此最终结果为9</p>
<p>修改闭包变量<br>要修改全局数据的时候有两种方法:<br>1 global 声明全局变量，声明变量n非内部函数的局部变量，否则内部函数只能引用，<br>       一旦修改会视其为局部变量，报错“局部变量在赋值之前被引用”。<br>         外函数的环境变量没被改变<br>2 全局变量是可变类型数据的时候可以修改 闭包更好<br>在闭包内函数中想修改闭包变量（外函数绑定给内函数的局部变量）的时候：<br>嵌套函数修改上层变量同样需要的关键字nonlocal 关键字声明<br>表示这个变量不是局部变量空间的变量，需要向上一层变量空间找这个变量。<br>闭包的环境变量可以记忆上次调用的状态，外函数的环境变量没被改变<br>使用闭包的过程中，一旦外函数被调用一次返回了内函数的引用，<br>虽然每次调用内函数，<br>是开启一个函数执行过后消亡，但是闭包变量实际上只有一份，<br>每次开启内函数都在使用同一份闭包变量</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">outer</span>(<span class="params">a</span>):</span>  <span class="comment"># outer是外部函数 a和b都是外函数的临时变量</span></span><br><span class="line">    b = <span class="number">10</span>  <span class="comment"># a和b都是闭包变量</span></span><br><span class="line">    c = [a]  <span class="comment"># 这里对应修改闭包变量的方法2</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">inner</span>():</span>  <span class="comment"># inner是内函数</span></span><br><span class="line">        <span class="comment"># 内函数中想修改闭包变量</span></span><br><span class="line">        <span class="comment"># 方法1 nonlocal关键字声明不是局部变量</span></span><br><span class="line">        <span class="keyword">nonlocal</span> b</span><br><span class="line">        b += <span class="number">1</span></span><br><span class="line">        print(b)</span><br><span class="line">        <span class="comment"># 方法二，把闭包变量修改成可变数据类型 比如列表</span></span><br><span class="line">        c[<span class="number">0</span>] += <span class="number">1</span></span><br><span class="line">        print(c[<span class="number">0</span>])</span><br><span class="line">        print(b)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 外函数的返回值是内函数的引用</span></span><br><span class="line">    <span class="keyword">return</span> inner</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    demo = outer(<span class="number">5</span>)</span><br><span class="line">    demo()</span><br><span class="line">    <span class="comment"># 11</span></span><br><span class="line">    <span class="comment"># 6</span></span><br><span class="line">    <span class="comment"># 11</span></span><br><span class="line">print(<span class="string">'----------'</span>)</span><br><span class="line"></span><br><span class="line">利用闭包返回一个计数器函数，每次调用它返回递增整数：</span><br><span class="line">在内函数中，分别对闭包变量进行了修改，</span><br><span class="line">打印出来的结果也确实是修改之后的结果。</span><br><span class="line">以上两种方法就是内函数修改闭包变量的方法。</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">create_counter</span>():</span>  <span class="comment"># 是外部函数</span></span><br><span class="line">    i = <span class="number">0</span>  <span class="comment"># i都是闭包变量</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">counter</span>():</span>  <span class="comment"># 内函数</span></span><br><span class="line">        <span class="keyword">nonlocal</span> i</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> i</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> counter</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 测试:</span></span><br><span class="line">counterA = create_counter()</span><br><span class="line">print(counterA(), counterA(), counterA(), counterA(), counterA())  <span class="comment"># 1 2 3 4 5</span></span><br><span class="line">counterB = create_counter()</span><br><span class="line"><span class="keyword">if</span> [counterB(), counterB(), counterB(), counterB()] == [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]:</span><br><span class="line">    print(<span class="string">'测试通过!'</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">'测试失败!'</span>)</span><br><span class="line"><span class="comment"># 测试通过!</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">createCounter</span>():</span></span><br><span class="line">    i = [<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">counter</span>():</span></span><br><span class="line">        i[<span class="number">0</span>] = i[<span class="number">0</span>] + <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> i[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> counter</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 测试:</span></span><br><span class="line">counterA = createCounter()</span><br><span class="line">print(counterA(), counterA(), counterA(), counterA(), counterA())  <span class="comment"># 1 2 3 4 5</span></span><br><span class="line">counterB = createCounter()</span><br><span class="line"><span class="keyword">if</span> [counterB(), counterB(), counterB(), counterB()] == [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]:</span><br><span class="line">    print(<span class="string">'测试通过!'</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">'测试失败!'</span>)</span><br><span class="line"><span class="comment"># 测试通过!</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> wraps</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">cache</span>(<span class="params">func</span>):</span>  <span class="comment"># 定义装饰器，cache是外层函数</span></span><br><span class="line">    store = {} <span class="comment"># 外部变量</span></span><br><span class="line">    </span><br><span class="line"><span class="meta">    @wraps(func)</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_</span>(<span class="params">n</span>):</span>     <span class="comment"># 闭包函数</span></span><br><span class="line">        <span class="keyword">if</span> n <span class="keyword">in</span> store:</span><br><span class="line">            <span class="keyword">return</span> store[n]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            res = func(n)</span><br><span class="line">            store[n] = res</span><br><span class="line">            <span class="keyword">return</span> res</span><br><span class="line">    <span class="keyword">return</span> _</span><br><span class="line"> </span><br><span class="line"><span class="comment"># 用装饰器的方式记录前面的结果    </span></span><br><span class="line"><span class="meta">@cache </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fib</span>(<span class="params">n</span>):</span>       <span class="comment"># 斐波那契数列</span></span><br><span class="line">    <span class="keyword">if</span> n &lt;= <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> fib(n - <span class="number">1</span>) + fib(n - <span class="number">2</span>)</span><br></pre></td></tr></tbody></table></figure>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/mian-xiang-dui-xiang-bian-cheng-oop/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/mian-xiang-dui-xiang-bian-cheng-oop/" class="post-title-link" itemprop="url">面向对象编程OOP</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-05-14 06:51:37" itemprop="dateModified" datetime="2021-05-14T06:51:37Z">2021-05-14</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>面向对象编程 Object Oriented Programming（OOP）<br>设计思想是如何理解面向对象:<br>1.python一切皆对象，<br>面向对象是一种编程思想，是编程世界向现实世界的延伸，也就是说万物皆可描述，<br>2.我们用编程语言描述现实世界万物<br>3.把对象作为基本单元，把对象抽象成类(Class)，包含成员(属性)和方法(用来操作成员)。<br>根据Class创建Instance<br>类Class是一种抽象模板，类是现实世界或思维世界中的实体在计算机中的反映，类:是面向对象的一种表现形式<br>它将数据以及这些数据上的操作封装在一起，概念</p>
<p>对象：通过类定义的数据结构实例。对象包括两个数据成员（类变量和实例变量）和方法。值 身份id 类型 </p>
<p>Python 中使用类来实现。过程式编程(函数)，OOP(类)<br>(object)，表示该类是从哪个类继承下来的，<br>默认继承object类，可不写<br>创建类 类名首字母大写，不要下划线<br>类定义完成后，会在当前作用域中定义一个以类名为名字的命名空间。<br>类对象具有以下两种操作：<br>可以通过“类名()”的方式实例化一个对象。<br>可以通过“类名.类属性”的方式来访问一个类属性</p>
<p>定义实例方法（函数）：<br>实例方法关联的是对象，实例方法通常用来操作实例变量，<br><code>def __init__(self, name, *args,**kwargs):</code> 可以通过外部访问，是因为init前后分别有两个下划线‘__’, 这是python的内置命名风格，自己命名尽量不要这样做，创建实例的时候绑定属性到<code>self</code><br>第一个形参（实例变量）不是必须叫<code>self</code>，<code>self</code> 不是 python 关键字，（其他语言用<code>this</code>，其他和普通函数一样）<br>但是第一个参数代表的是表示创建类的实例本身（对象）</p>
<p>有了<code>__init__</code>方法，在创建实例的时候，就不能传入空的参数了，必须传入与<code>__init__</code>方法匹配的参数，<br>不需要给self传值，Python解释器自己会把实例变量传进去，</p>
<p><code>对象名=类名([实参])</code> 对象是类的实例化，形参写在类的构造函数中，<br>实例（Instance）则是根据类模板创建出来一个个具体的“对象”</p>
<p>要调用一个方法是通过需要有实例（实例变量，self），这种限制其实就是Python所谓的绑定概念</p>
<p>每个实例化的对象当使用完成之后，都会被内存管家回收，我们普通的进程也会伴随着创建与关闭的过程</p>
<p>Python类中定义的变量分为类变量和实例变量（也叫成员变量、对象变量），<br>类变量和实例变量都可以在类定义之后在定义</p>
<p>类变量直接定义在类里面（不在函数里面），前面不会有任何关键字<code>self</code>修饰。<br>类变量只会在用class关键字声明一个类时创建，且也只会保存在类的命名空间中，这个类的实例的命名空间中是没有的。<br>在类的内外部访问类变量，可以用<code>类名.类变量名</code>和<code>实例名.类变量名</code>， 访问的实际上是同一个类命名空间的同一个变量，所以类变量具有“一改全改”的特点。<br>实例方法里访问类变量<code>self.__class__.类变量名</code></p>
<p>采用<code>实例名.类变量</code>名的方式对类变量进行赋值时，<br>若该类变量是可变数据类型，则可以成功赋值该类变量，<br>否则会在该实例变量所在的名称空间中创建一个与该类变量同名的实例变量进行赋值，并不会对类变量进行赋值，<br>此时也无法再通过<code>实例名.类变量名</code>的方式读取该类变量。<br>但若‘实例名.类变量名’赋值的是可变数据类型，则可以对类变量进行赋值操作。</p>
<p>实例变量大都定义在实例函数里面，通过 <code>self.实例变量名</code> 的方式进行定义。<br>根据类创建的实例可以任意绑定属性。<br>实例变量保存在实例各自的命名空间中，各个实例拥有的数据都互相独立，互不影响；<br>不要对实例属性和类属性使用相同的名字，否则将产生难以发现的错误。<br>因为相同名称的实例属性将屏蔽掉类属性，<br>但是当你删除实例属性后，再使用相同的名称，访问到的将是类属性。</p>
<p><code>__dict__</code> 在类中代表类的全部属性的字典，在实例中代表对象的全部属性的字典 </p>
<h4 id="实例方法"><a href="#实例方法" class="headerlink" title="实例方法"></a>实例方法</h4><p>不需要装饰器修饰，<br>在声明时传入的第一个参数必须为 <code>self</code>，self指代的就是实例本身。<br>只能通过<code>实例名.实例方法名</code>调用，不可以通过<code>类名.实例方法名()</code>调用<br>如果要通过类来调用，<code>类名.实例方法名(实例名)</code>，必须必须<strong>显式</strong>地将实例当做参数传入。</p>
<p>用<code>self.变量名</code>访问 实例变量 和 类变量<br>实例方法能访问实例变量，静态方法和类方法则不能。<br>在类的外部访问添加实例变量，只能用<code>实例名.实例变量名</code>，类无权访问实例名。</p>
<p>在实例方法内部通过<code>类名.类变量名</code>和 <code>self.__class__.类变量名</code> 访问类变量。</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span>(<span class="params">object</span>):</span>  <span class="comment"># 类对象</span></span><br><span class="line">    name = <span class="string">'Ashe'</span>  <span class="comment"># 类变量 字符串不可变 直接在类里面定义</span></span><br><span class="line">    gender = <span class="string">'female'</span>  <span class="comment">#</span></span><br><span class="line">    place = [<span class="string">'China'</span>, <span class="string">'Beijing'</span>]  <span class="comment"># 类变量，列表可变</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, age</span>):</span>  <span class="comment"># 构造方法用来初始化成员(属性)，但是并没有初始化weight</span></span><br><span class="line">        self.name = name  <span class="comment"># 实例变量，在实例方法里通过self.xxx进行定义和读取与对象无关</span></span><br><span class="line">        self.age = age</span><br><span class="line">        weight = <span class="number">55</span>  <span class="comment"># 类变量不能再函数体内声明，在这个位置声明的又没有self关键字修饰，只能是一个局部变量</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">print_info</span>(<span class="params">self</span>):</span>  <span class="comment"># 操作成员(属性)的类的实例方法</span></span><br><span class="line">        print(self)</span><br><span class="line">        print(self.__class__)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 实例方法不可以直接访问类变量</span></span><br><span class="line">        <span class="comment"># print(gender)  # NameError: name 'gender' is not defined</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 实例方法可以这样访问类变量</span></span><br><span class="line">        <span class="comment"># 通过 p.name获取变量值的时候，首先会查找实例变量里有没有name属性，如果有则返回，</span></span><br><span class="line">        <span class="comment"># 如果没有就会去类变量里找，如果还是没有则会报错，但是不推荐</span></span><br><span class="line">        print(self.gender)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 实例方法访问类变量的正确打开方式</span></span><br><span class="line">        <span class="comment"># print(Person.name, Person.gender)</span></span><br><span class="line">        print(self.__class__.name, self.__class__.gender)</span><br><span class="line">        <span class="comment"># print(self.__class__.age)</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 实例中代表对象的全部属性的字典</span></span><br><span class="line">        print(self.__dict__)</span><br><span class="line">        <span class="comment"># 实例方法可以这样访问实例变量</span></span><br><span class="line">        print(self.name, self.age)</span><br><span class="line">        <span class="comment"># print(self.weight)  # AttributeError: 'Person' object has no attribute 'weight'</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># print(self.__class__.__dict__)</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># self.age = age  # 这是错误的，实例变量不能再这里声明</span></span><br><span class="line">    occupation = [<span class="string">'student'</span>]  <span class="comment"># 这是类变量，可以在函数体外，类内部任意位置</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(Person)  <span class="comment">#：&lt;class '__main__.Person'&gt;</span></span><br><span class="line">print(dir(Person))</span><br><span class="line"><span class="comment"># ['__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'gender', 'name', 'occupation', 'place', 'print_info']</span></span><br><span class="line"></span><br><span class="line">print(Person.name)  <span class="comment"># Ashe</span></span><br><span class="line">print(Person.gender)  <span class="comment"># female</span></span><br><span class="line"><span class="comment"># print(Person.age)  # AttributeError: 'Person' object has no attribute 'age'</span></span><br><span class="line"><span class="comment"># Person.print_info()</span></span><br><span class="line"><span class="comment"># TypeError: print_info() missing 1 required positional argument:</span></span><br><span class="line"><span class="comment">#  print_info是实例方法 类不可以直接调用实例方法</span></span><br><span class="line"></span><br><span class="line">p = Person(<span class="string">'Bart Simpson'</span>, <span class="number">18</span>)  <span class="comment"># 实例对象</span></span><br><span class="line">print(p)  <span class="comment"># &lt;__main__.Person object at 0x0000028104DC0AC0&gt;</span></span><br><span class="line">print(dir(p))</span><br><span class="line"><span class="comment"># ['__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'age', 'gender', 'name', 'occupation', 'place', 'print_info']</span></span><br><span class="line">p.print_info()  <span class="comment"># python封装特性</span></span><br><span class="line"><span class="comment"># &lt;__main__.Person object at 0x0000028104DC0AC0&gt;</span></span><br><span class="line"><span class="comment"># &lt;class '__main__.Person'&gt;</span></span><br><span class="line"><span class="comment"># female</span></span><br><span class="line"><span class="comment"># Ashe female</span></span><br><span class="line"><span class="comment"># {'name': 'Bart Simpson', 'age': 18} 没有weight属性</span></span><br><span class="line"><span class="comment"># Bart Simpson 18</span></span><br><span class="line"></span><br><span class="line">Person.print_info(p)  <span class="comment"># 通过类访问实例方法时，必须显式地将实例当做参数传入</span></span><br><span class="line"><span class="comment"># &lt;__main__.Person object at 0x0000028104DC0AC0&gt;</span></span><br><span class="line"><span class="comment"># &lt;class '__main__.Person'&gt;</span></span><br><span class="line"><span class="comment"># female</span></span><br><span class="line"><span class="comment"># Ashe female</span></span><br><span class="line"><span class="comment"># {'name': 'Bart Simpson', 'age': 18}</span></span><br><span class="line"><span class="comment"># Bart Simpson 18</span></span><br><span class="line"></span><br><span class="line">print(p.__dict__)  <span class="comment"># {'name': 'Bart Simpson', 'age': 18} 没有weight属性</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 当通过 p.name获取变量值的时候，首先会查找实例变量里有没有name属性，如果有则返回，如果没有就会去类变量里找，如果还是没有则会报错</span></span><br><span class="line">print(p.name, p.age)  <span class="comment"># Bart Simpson 18 是实例变量</span></span><br><span class="line">print(p.gender, id(p.gender) == id(Person.gender))  <span class="comment"># female True 类变量</span></span><br><span class="line"><span class="comment"># print(p.weight)  # AttributeError: 'Person' object has no attribute 'weight'</span></span><br><span class="line"></span><br><span class="line">p.occupation.append(<span class="string">'programmer'</span>)</span><br><span class="line">print(p.occupation)  <span class="comment"># ['student', 'programmer']</span></span><br><span class="line">print(Person.occupation)  <span class="comment"># ['student', 'programmer']</span></span><br><span class="line"></span><br><span class="line">print(Person.name</span><br><span class="line">      )  <span class="comment"># Ashe 类变量为不可变对象，在该实例变量所在的名称空间中创建一个与该类变量同名的实例变量进行赋值，并不会对类变量进行赋值，</span></span><br><span class="line"><span class="comment"># print(Person.age)  # AttributeError: type object 'Person' has no attribute 'age'</span></span><br><span class="line"></span><br><span class="line">p.place[<span class="number">1</span>] = <span class="string">'Guilin'</span></span><br><span class="line">print(p.place)  <span class="comment"># ['China', 'Guilin']</span></span><br><span class="line">print(Person.place)  <span class="comment"># ['China', 'Guilin']</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 在类定义和声明实例对象结束之后再定义绑定一个实例变量</span></span><br><span class="line">p.height = <span class="number">1.8</span>  <span class="comment"># 为 p 添加一个实例变量 height 属性</span></span><br><span class="line">print(p.height)  <span class="comment"># 1.8 与对象无关</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 声明类对象结束之后 为Person类添加绑定一个类变量</span></span><br><span class="line">Person.behavior = <span class="string">'study'</span>  <span class="comment"># 这是一个类变量</span></span><br><span class="line">print(Person.behavior)  <span class="comment"># study</span></span><br><span class="line">print(p.behavior)  <span class="comment"># study</span></span><br></pre></td></tr></tbody></table></figure>


<p>变量名前加单下划线<code>_</code>表示的是 protected 类型的变量，即保护类型只能允许其本身与子类进行访问，如：<code>self._sex = 0</code>  。<br>变量名前加双下划线<code>__</code>表示的是 私有类型(private)的变量,<br>成员私有 类的私有属性<br>在变量或方法名前加__，则变为私有private私有属性，在类外部无法直接进行访问、设置<br>只能是允许这个类本身内部的方法进行访问了。如：<code>self.__private_attrs</code>。<br>在创建私有的实例时，实际python会把变量名改为<code>_类名__变量名</code>，实际是创建了新变量<code>_类名__变量名</code>。<br>严格来讲python并没有真正的私有变量，<br>可以通过 <code>对象名._类名__变量名</code> 在外部修改和访问私有变量<code>__变量名</code> </p>
<p>类的私有方法<br>__private_method：两个下划线开头，声明该方法为私有方法，只能在类的内部调用，不能在类的外部调用。在外部不可以通过<code>类名.__方法名</code>  self.__private_methods。</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>:</span></span><br><span class="line">    __name = <span class="string">"张三"</span>  <span class="comment"># 私有变量 单侧双下滑线加名字</span></span><br><span class="line">    school = <span class="string">"北大"</span></span><br><span class="line"></span><br><span class="line">print(dir(Student))  <span class="comment"># student对象的方法和属性</span></span><br><span class="line">[<span class="string">'_Student__name'</span>, <span class="string">'__class__'</span>, <span class="string">'__delattr__'</span>, <span class="string">'__dict__'</span>, <span class="string">'__dir__'</span>, <span class="string">'__doc__'</span>, <span class="string">'__eq__'</span>, <span class="string">'__format__'</span>, <span class="string">'__ge__'</span>, <span class="string">'__getattribute__'</span>, <span class="string">'__gt__'</span>, <span class="string">'__hash__'</span>, <span class="string">'__init__'</span>, <span class="string">'__init_subclass__'</span>, <span class="string">'__le__'</span>, </span><br><span class="line"><span class="string">'__lt__'</span>, <span class="string">'__module__'</span>, <span class="string">'__ne__'</span>, <span class="string">'__new__'</span>, <span class="string">'__reduce__'</span>, <span class="string">'__reduce_ex__'</span>, <span class="string">'__repr__'</span>, <span class="string">'__setattr__'</span>, <span class="string">'__sizeof__'</span>, <span class="string">'__str__'</span>, <span class="string">'__subclasshook__'</span>, <span class="string">'__weakref__'</span>, <span class="string">'school'</span>]</span><br></pre></td></tr></tbody></table></figure>
<p>没有<code>__name</code>这个属性<br>第一个内置方法<code>Student__name</code><br>有最后一个属性<code>school</code></p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>:</span></span><br><span class="line">    __name = <span class="string">"张三"</span>  <span class="comment"># 把私有变量名改为`_类名__变量名</span></span><br><span class="line">    school = <span class="string">"北大"</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(Student.school)  <span class="comment"># 北大</span></span><br><span class="line"><span class="comment"># print(Student.__name)  # AttributeError: type object 'Student' has no attribute '__name</span></span><br><span class="line">print(Student._Student__name)  <span class="comment"># 张三</span></span><br></pre></td></tr></tbody></table></figure>


<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>:</span></span><br><span class="line">    name = <span class="string">"四毛"</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__kaoshi</span>(<span class="params">self</span>):</span>  <span class="comment"># 私有方法</span></span><br><span class="line">        print(<span class="string">"学生考试"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(dir(Student))</span><br><span class="line"><span class="comment"># ['_Student__kaoshi', '__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'name'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Student._Student__kaoshi()  # TypeError: __kaoshi() missing 1 required positional argument: 'self'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">s = Student()</span><br><span class="line">print(dir(s))</span><br><span class="line"><span class="comment"># ['_Student__kaoshi', '__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'name']</span></span><br><span class="line">s._Student__kaoshi()  <span class="comment"># 通过dir(s)找到，类似于私有变量</span></span><br><span class="line"><span class="comment"># 学生考试</span></span><br></pre></td></tr></tbody></table></figure>


<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>():</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name, score</span>):</span></span><br><span class="line">        self.__name = name</span><br><span class="line">        self.__score = score</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__check_score</span>(<span class="params">self, score</span>):</span></span><br><span class="line">        <span class="keyword">if</span> score &gt; <span class="number">100</span> <span class="keyword">or</span> score &lt; <span class="number">0</span>:</span><br><span class="line">            print(<span class="string">"分数必须在0-100之间"</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">marking</span>(<span class="params">self, score</span>):</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> self.__check_score(score):</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        self.__score = score</span><br><span class="line">        print(self.__name + <span class="string">"的当前分数："</span> + str(self.__score))</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">prt</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(self)</span><br><span class="line">        print(self.__class__)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">stu = Student(<span class="string">'gwf'</span>,<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 这样操作虽然是可以的，但是这不是我们在方法中定义的私有变量__score,而是基于python动态语言的特性，又创建了一个__score的变量</span></span><br><span class="line">stu.__score = <span class="number">-1</span></span><br><span class="line">print(stu.__score)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 真正我们创建的私有变量，在python中是以_Student__score(_类名__私有变量名)进行保存的</span></span><br><span class="line">print(stu.__dict__)</span><br><span class="line"><span class="comment"># 上面代码打印的结果为{'name': 'gwf', '_Student__score': 10, '__score': -1}</span></span><br><span class="line"><span class="comment"># 可以通过stu._Student__score 访问到真正的私有变量，但是不推荐这样做</span></span><br><span class="line">print(stu._Student__score) <span class="comment"># 输出 10 </span></span><br><span class="line"></span><br><span class="line">t = Student(<span class="number">10</span>)</span><br><span class="line">t.print_name()</span><br><span class="line"><span class="comment"># t.prt()</span></span><br><span class="line"><span class="comment"># print(t)</span></span><br><span class="line"><span class="comment"># print('---')</span></span><br><span class="line"><span class="comment"># print(t.__class__)</span></span><br><span class="line"><span class="comment"># &lt;__main__.Student object at 0x0000017325E28080&gt;</span></span><br><span class="line"><span class="comment"># &lt;class '__main__.Student'&gt;</span></span><br><span class="line"><span class="comment"># &lt;__main__.Student object at 0x0000017325E28080&gt;</span></span><br><span class="line"><span class="comment"># &lt;class '__main__.Student'&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p><code>classmethod</code> / <code>staticmethod</code>  (它们两个经常被用作类方法的装饰器)</p>
<ul>
<li>都可以通过 <code>ClassName.method()</code> 的方式调用</li>
<li>都不能访问实例方法</li>
</ul>
<h4 id="类方法：定义加-classmethod装饰器来修饰"><a href="#类方法：定义加-classmethod装饰器来修饰" class="headerlink" title="类方法：定义加@classmethod装饰器来修饰"></a>类方法：定义加<code>@classmethod</code>装饰器来修饰</h4><p>该方法与类绑定，而不是与实例对象绑定，<br>第一个形参是 <code>cls</code> 代表的是调用的类本身，类方法不会被自动调用，<br>通过<code>类名.方法名()</code>和<code>实例名.方法名()</code>两种方法进行调用 （但是不建议用对象调用类方法，毕竟逻辑不符），<br>在类方法中用<code>类名.类变量名</code>和<code>cls.类变量名</code>访问类变量和操作类变量<br>在类方法中不可以访问实例变量。<br>self.class 则指向类。<br>通过self.class.xxx访问类变量</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>:</span></span><br><span class="line">    name = <span class="string">"四毛"</span></span><br><span class="line">    sum_student = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod  # 类方法，类可以直接调用,可以操作类变量</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">study</span>(<span class="params">cls</span>):</span></span><br><span class="line">        print(<span class="string">'当前类名为：{}'</span>.format(cls.__name__))</span><br><span class="line">        print(cls.name + <span class="string">"student study"</span>)</span><br><span class="line">        cls.name = <span class="string">"五毛"</span></span><br><span class="line">        print(cls.name + <span class="string">"student study"</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @classmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add_and_print_sum</span>(<span class="params">cls</span>):</span></span><br><span class="line">        cls.sum_student += <span class="number">1</span></span><br><span class="line">        print(cls.sum_student, id(cls.sum_student))</span><br><span class="line">        print(Student.sum_student, id(Student.sum_student))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(dir(Student))</span><br><span class="line"><span class="comment"># ['__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'add_and_print_sum', 'name', 'study', 'sum_student']</span></span><br><span class="line"></span><br><span class="line">Student.study()</span><br><span class="line"><span class="comment"># 当前类名为：Student</span></span><br><span class="line"><span class="comment"># 四毛student study</span></span><br><span class="line"><span class="comment"># 五毛student study</span></span><br><span class="line">Student.add_and_print_sum()</span><br><span class="line"><span class="comment"># 1</span></span><br><span class="line"><span class="comment"># 1</span></span><br><span class="line"></span><br><span class="line">s = Student()</span><br><span class="line">print(dir(s))</span><br><span class="line"><span class="comment"># ['__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'add_and_print_sum', 'name', 'study', 'sum_student']</span></span><br><span class="line"></span><br><span class="line">s.study()</span><br><span class="line"><span class="comment"># 当前类名为：Student</span></span><br><span class="line"><span class="comment"># 五毛student study</span></span><br><span class="line"><span class="comment"># 五毛student study</span></span><br><span class="line"></span><br><span class="line">s.add_and_print_sum()</span><br><span class="line"><span class="comment"># 2 140718899369664</span></span><br><span class="line"><span class="comment"># 2 140718899369664</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="静态方法"><a href="#静态方法" class="headerlink" title="静态方法"></a>静态方法</h4><p>在定义时，使用<code>@staticmethod</code>装饰器来修饰<br>使用起来和普通函数一样，只不过放在类里去组织,是代码组织的需要，<br>完全可以放到类之外，并没有引用当前类的任何东西，本来该放到外面的函数只是给塞到类里。<br>其实跟类并没有什么关系，完全独立的 脱离了类，相当于给了它一个作用范围，让它可以在类里面去使用，</p>
<p>不用传第一个参数 <code>cls</code>或<code>self</code>关键字即可进行创建的方法。<br>在调用过程时，无需将类实例化，通过<code>类名.方法名()</code>和<code>实例名.方法名()</code>的方式调用。<br>在静态方法内部，只能通过<code>类名.类变量名</code>的方式访问类变量。</p>
<p>不能操作类变量和实例变量<br>不能调用类里面的变量<br>静态方法一般使用场景就是和类相关的操作，但是又不会依赖和改变类、实例的状态。多用于写工具</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>:</span></span><br><span class="line">    name = <span class="string">"四毛"</span></span><br><span class="line">    sum_student = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod  # 静态方法 脱离了类而存在的，</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">run</span>():</span></span><br><span class="line">        print(Student.name, <span class="string">"run"</span>)</span><br><span class="line">        <span class="comment"># print(cls.name, "run")  # NameError: name 'cls' is not defined</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod  # 静态方法 脱离了类而存在的，</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">jump</span>(<span class="params">cls</span>):</span></span><br><span class="line">        cls.name = <span class="string">"六毛"</span></span><br><span class="line">        print(<span class="string">"student jump "</span>)</span><br><span class="line">        print(cls.name)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod  # 静态方法 脱离了类而存在的，</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">sit</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.name = <span class="string">"六毛"</span></span><br><span class="line">        print(<span class="string">"student sit "</span>)</span><br><span class="line">        print(self.name)</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">x, y</span>):</span></span><br><span class="line">        <span class="comment"># 访问类变量(所有地方都可以这样访问类变量)</span></span><br><span class="line">        print(Student.sum_student + x + y)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(dir(Student))</span><br><span class="line"><span class="comment"># ['__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'add', 'jump', 'name', 'run', 'sit', 'sum_student']</span></span><br><span class="line">Student.run()  <span class="comment"># 四毛 run</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Student.jump("hahaha")  # AttributeError: 'str' object has no attribute 'name'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Student.sit("hahaha")  # AttributeError: 'str' object has no attribute 'name'</span></span><br><span class="line"></span><br><span class="line">Student.add(<span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"><span class="comment"># 5</span></span><br><span class="line"></span><br><span class="line">s = Student()</span><br><span class="line">print(dir(s))</span><br><span class="line"><span class="comment"># ['__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'add', 'jump', 'name', 'run', 'sit', 'sum_student']</span></span><br><span class="line">s.run()  <span class="comment"># 四毛 run</span></span><br><span class="line"></span><br><span class="line">s.add(<span class="number">1</span>, <span class="number">5</span>)</span><br><span class="line"><span class="comment"># 6</span></span><br></pre></td></tr></tbody></table></figure>


<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span>(<span class="params">object</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, x, y</span>):</span></span><br><span class="line">        self.x = x</span><br><span class="line">        self.y = y</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="comment"># 下面两句等价</span></span><br><span class="line">        <span class="comment"># return '点的位置:({0}, {1})'.format(self.x, self.y)</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">'点的位置:({self.x}, {self.y})'</span>.format(self=self)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    p = Point(<span class="number">4</span>, <span class="number">2</span>)</span><br><span class="line">    print(dir(p))  <span class="comment"># 点的位置:(4, 2)</span></span><br><span class="line">    <span class="comment"># ['__class__', '__delattr__', '__dict__', '__dir__', '__doc__', '__eq__', '__format__', '__ge__', '__getattribute__', '__gt__', '__hash__', '__init__', '__init_subclass__', '__le__', '__lt__', '__module__', '__ne__', '__new__', '__reduce__', '__reduce_ex__', '__repr__', '__setattr__', '__sizeof__', '__str__', '__subclasshook__', '__weakref__', 'x', 'y']</span></span><br><span class="line">    print(p.__dict__)  <span class="comment"># {'x': 4, 'y': 2}</span></span><br><span class="line">    print(p)  <span class="comment"># 点的位置:(4, 2)</span></span><br><span class="line">    print(str(Point(<span class="number">4</span>, <span class="number">2</span>)))  <span class="comment"># 点的位置:(4, 2)</span></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>


<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyDate</span>(<span class="params">object</span>):</span></span><br><span class="line">    <span class="string">"""自己实现的日期类"""</span></span><br><span class="line">    source = <span class="string">'ioomc'</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, month, day</span>):</span></span><br><span class="line">        <span class="string">"""构造方法"""</span></span><br><span class="line">        self.month = month</span><br><span class="line">        self.day = day</span><br><span class="line"></span><br><span class="line"><span class="meta">    @staticmethod</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">validate_month</span>(<span class="params">month</span>):</span></span><br><span class="line">        <span class="string">"""静态方法，验证我们的月份是否合法"""</span></span><br><span class="line">        month = int(month)</span><br><span class="line">        print(<span class="string">'类的属性: {}'</span>.format(MyDate.source))</span><br><span class="line">        <span class="comment"># return month &gt;= 1 and month &lt;= 12</span></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> &lt;= month &lt;= <span class="number">12</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    my_date = MyDate(<span class="number">5</span>, <span class="number">20</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 静态方法的调用</span></span><br><span class="line">    print(MyDate.validate_month(<span class="string">'15'</span>))</span><br><span class="line">    <span class="comment"># 类的属性: ioomc</span></span><br><span class="line">    <span class="comment"># False</span></span><br><span class="line"></span><br><span class="line">    print(my_date.validate_month(<span class="string">'11'</span>))</span><br><span class="line">    <span class="comment"># 类的属性: ioomc</span></span><br><span class="line">    <span class="comment"># True</span></span><br></pre></td></tr></tbody></table></figure><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/python3-he-python2-chai-yi/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/python3-he-python2-chai-yi/" class="post-title-link" itemprop="url">Python3和python2差异</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-05-11 02:25:22" itemprop="dateModified" datetime="2021-05-11T02:25:22Z">2021-05-11</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/python/" itemprop="url" rel="index"><span itemprop="name">python</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Python关键字</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> keyword</span><br><span class="line">print(keyword.kwlist)</span><br><span class="line"><span class="comment"># ['False', 'None', 'True', 'and', 'as', 'assert', 'break', 'class', 'continue', 'def', 'del',</span></span><br><span class="line"><span class="comment"># 'elif', 'else', 'except', 'finally', 'for', 'from', 'global', 'if', 'import', 'in', 'is', 'lambda',</span></span><br><span class="line"><span class="comment"># 'nonlocal', 'not', 'or', 'pass', 'raise', 'return', 'try', 'while', 'with', 'yield']</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="print"><a href="#print" class="headerlink" title="print"></a>print</h3><p>python2中是关键字。</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python2的打印 print</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">print</span> <span class="string">'b'</span></span><br><span class="line">b</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'a'</span>, <span class="string">'b'</span>) <span class="comment"># 打印的是a和b合并成tuple对象</span></span><br><span class="line">(<span class="string">'a'</span>, <span class="string">'b'</span>)</span><br></pre></td></tr></tbody></table></figure>

<p>python3成为函数就支持传入不同参数，比如不同换行符end或者分隔符sep</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python3的打印 print()</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'b'</span>)</span><br><span class="line">b</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'a'</span>, <span class="string">'b'</span>,sep=<span class="string">'|'</span> ) <span class="comment"># sep:分隔符，end:换行符</span></span><br><span class="line">a|b</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'a'</span>, <span class="string">'b'</span>)</span><br><span class="line">a b</span><br></pre></td></tr></tbody></table></figure>

<p>计算机是 以字节为单位 来 存储和传输数据的，</p>
<blockquote>
<p>一个字节 由 8位二进制数字表示，最多可以表示从0到255，一共256个字符。</p>
</blockquote>
<p>Python中字符串的类型只有两种（str，bytes）文本字符串和字节字符串。<br>其中文本字符串类型被命名为str，内部采用Unicode字符集（兼容ASCII码），<br>而字节字符串则直接用来表示原始的字节序列（用print函数来打印字节字符串时，若字节在ascii码范围内，则显示为ascii码对应的字符，其余的则直接显示为16进制数），该类型被命名为bytes。</p>
<p>有三种前缀</p>
<ul>
<li><p>无前缀<br>一般英文字符在使用各种编码下, 基本都可以正常解析, 所以一般不带u；<br>但是中文, 必须表明所需编码, 否则一旦编码转换就会出现乱码。</p>
</li>
<li><p>前缀u/U:<br>一个具体的unicode字符表示法<code>\uxxxx</code>，<code>\u</code>会自动去寻找后面4位16进制数，然后去Unicode字符集寻找对应的字符来显式输出。<br>不是仅仅是针对中文, 可以针对任何的字符串，代表是对字符串进行unicode编码。</p>
</li>
</ul>
<figure class="highlight java"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//定义变量存放unicode编码表示的字符</span></span><br><span class="line"><span class="keyword">char</span> c = <span class="string">'\u005d'</span>;</span><br><span class="line">System.out.println(<span class="string">"c="</span> + c);  <span class="comment">// c=]</span></span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>前缀b: bytes 文件操作模式会用到 可存储到文件或者传输到网络中</li>
</ul>
<h3 id="Python3"><a href="#Python3" class="headerlink" title="Python3"></a>Python3</h3><p>字符串str==unicode，是和人交互的，用来操作的，前缀带不带u，其实都一样。<br>每个字符用字符本身或者\u1234，来表示都可以，<br>后者则是直接是Unicode编码。但打印时都是打印字符本身。</p>
<p>想在py3里看字符，必须得是unicode编码，其它编码一律按bytes格式展示。<br>unicode是某种特定编码的字节流，是bytes的子集。这就意味着：所有的unicode都能放进bytes，但某些bytes无法放进unicode。<br>不是utf-8，utf-8编码的是bytes</p>
<p>字节串bytes!=str：计算机自己能理解的“语言”是二进制数，最小的信息标识是二进制位，给计算机传输或者保存的 字节是将unicode编码后的utf或gbk字节串，bytes是(py2.x)的str<br>不能print，直接print你decode出来的那个str就行了，不需要再encode</p>
<h3 id="python2"><a href="#python2" class="headerlink" title="python2"></a>python2</h3><p>字符串有两种字符串类型unicode，str和是python3中的byte，<br>bytes==str<br>unicode!=str</p>
<p>python里写入文件出现乱码通常都是因为编码导致的。很多人说我已经encode设置为utf-8了呀，怎么还会出现乱码呢？<br>其实这里涉及到2个编码的问题<br>1、字符串的编码，比如我们爬虫返回的text的编码<br>2、文件的编码<br>要想不出现编码，必须保证文字的编码和文件的编码一致。</p>
<p>编码和解码就是Python中str和bytes这两种字符串类型之间的互相转换。</p>
<p><code>str.encode(encoding='UTF-8', errors='strict')</code><br>以指定的编码格式编码，把str类型的字符串转换为bytes字符串，字符对应的若干十六进制数，</p>
<figure class="highlight plain"><figcaption><span>如```\xc9```，代表两位16进制，一个字节</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">- encoding -- 要使用的编码</span><br><span class="line">   - ```utf-8``` ```UTF8``` 用三个十六进制 3个字节 来表示一个中文字符，</span><br><span class="line"></span><br><span class="line">   - ```gbk```编码中文用 二个十六进制 2个字节Bytes 来表示一个中文字符，</span><br><span class="line">每个bytes，即8位bit的第一个位作为标志位，</span><br><span class="line">标志位为1则表示是中文字符，如果标志位为0则表示为英文字符</span><br><span class="line"></span><br><span class="line">```py</span><br><span class="line">import sys</span><br><span class="line">print(sys.platform)  # win32</span><br><span class="line">print(sys.getdefaultencoding())  # utf-8</span><br><span class="line"># 平台默认选择的就是utf-8编码方式。</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>errors – 设置不同错误的处理方案。默认为 ‘strict’，意为编码错误引起一个UnicodeError。 其他可能得值有 ‘ignore’, ‘replace’, ‘xmlcharrefreplace’, ‘backslashreplace’ 以及通过 codecs.register_error() 注册的任何值。<br>该方法返回编码后的字符串，它是一个 bytes 对象。</li>
</ul>
<p><code>bytes.decode(encoding="utf-8", errors="strict")</code><br>以指定的编码格式解码 bytes 对象。</p>
<ul>
<li>encoding – 要使用的编码，默认编码为 ‘utf-8’。</li>
<li>errors – 设置不同错误的处理方案。默认为 ‘strict’,意为编码错误引起一个UnicodeError。<br>其他可能得值有 ‘ignore’, ‘replace’, ‘xmlcharrefreplace’, ‘backslashreplace’ 以及通过 codecs.register_error() 注册的任何值。</li>
</ul>
<p>从文件中读入文字信息， 从网络上接收 文字信息，获取的数据通常是使用某种字符编码后的 字节串</p>
<p>当python解释器执行到产生字符串的代码时（例如x=’上’），<br>会申请新的内存地址，然后将’上’编码成文件开头指定的编码格式</p>
<p>想看x在内存中的真实格式，可以将其放入列表中再打印，<br>而不要直接打印，因为直接print()会自动转换编码，</p>
<p>字符串编码转换</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python2 编码</span></span><br><span class="line"><span class="comment"># coding:gbk</span></span><br><span class="line">x=<span class="string">'上'</span></span><br><span class="line">y=<span class="string">'下'</span></span><br><span class="line">print([x,y]) <span class="comment"># ['\xc9\xcf', '\xcf\xc2']</span></span><br><span class="line">print(type(x),type(y)) <span class="comment"># (&lt;type 'str'&gt;, &lt;type 'str'&gt;)</span></span><br><span class="line"><span class="comment"># c9cf总共4位16进制数，</span></span><br><span class="line"><span class="comment"># 一个16进制 4个比特位</span></span><br><span class="line"><span class="comment"># 4个16进制数则是16个比特位，即2个Bytes</span></span><br><span class="line"></span><br><span class="line">x=<span class="string">'上'</span>.decode(<span class="string">'gbk'</span>)</span><br><span class="line">y=<span class="string">'下'</span>.decode(<span class="string">'gbk'</span>)</span><br><span class="line">print([x,y]) <span class="comment">#[u'\u4e0a', u'\u4e0b']</span></span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = <span class="string">u'中文'</span> <span class="comment"># python2中定义包含中文字符串必须加U前缀</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>type(s)</span><br><span class="line">&lt;type <span class="string">'unicode'</span>&gt;</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python3 编码</span></span><br><span class="line">string = <span class="string">u'中文'</span>  </span><br><span class="line"><span class="comment"># 加u，'中文'也会被以unicode形式保存新的内存空间中</span></span><br><span class="line">print(string, type(string), len(string))  <span class="comment"># 中文 &lt;class 'str'&gt; 2</span></span><br><span class="line"></span><br><span class="line">s = <span class="string">'中文'</span>  </span><br><span class="line"><span class="comment"># 无需加u，'中文'也会被以unicode形式保存新的内存空间中</span></span><br><span class="line">print(s, type(s), type(s), len(s))  <span class="comment"># 中文 &lt;class 'str'&gt; 2</span></span><br><span class="line"></span><br><span class="line">print(string == s)  <span class="comment"># True</span></span><br><span class="line">print(string <span class="keyword">is</span> s)  <span class="comment"># True</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 将 Unicode 编码格式字符串转换成 UTF-8</span></span><br><span class="line">print(s.encode(), type(s.encode()), len(s.encode()))  <span class="comment"># 默认UTF-8</span></span><br><span class="line"><span class="comment"># b'\xe4\xb8\xad\xe6\x96\x87' &lt;class 'bytes'&gt; 6</span></span><br><span class="line"><span class="comment"># utf-8是多字节编码，你的\xe4\xb8\xad合起来是一个字符，</span></span><br><span class="line"><span class="comment"># 而unicode里面，\xe4, \xb8, \xad各自是一个字符，</span></span><br><span class="line"><span class="comment"># 相当于\u00e4, \u00b8, \u00ad，所以当然是乱码了</span></span><br><span class="line"></span><br><span class="line">print(s.encode(encoding=<span class="string">"UTF8"</span>, type(s.encode()), len(s.encode())),</span><br><span class="line">      type(s.encode(encoding=<span class="string">"UTF-8"</span>)))</span><br><span class="line"><span class="comment"># b'\xe4\xb8\xad\xe6\x96\x87' &lt;class 'bytes'&gt;</span></span><br><span class="line"></span><br><span class="line">print(s.encode(encoding=<span class="string">"UTF-8"</span>, type(s.encode()), len(s.encode())),</span><br><span class="line">      type(s.encode(encoding=<span class="string">"UTF-8"</span>)))</span><br><span class="line"><span class="comment"># b'\xe4\xb8\xad\xe6\x96\x87' &lt;class 'bytes'&gt;</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">b'\xe4\xb8\xad\xe6\x96\x87'</span>.decode(<span class="string">"UTF-8"</span>),\</span><br><span class="line">    type(<span class="string">b'\xe4\xb8\xad\xe6\x96\x87'</span>.decode(<span class="string">"UTF-8"</span>)),len(<span class="string">b'\xe4\xb8\xad\xe6\x96\x87'</span>.decode(<span class="string">"UTF-8"</span>)))</span><br><span class="line"><span class="comment"># 中文 &lt;class 'str'&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 将 Unicode 编码格式字符串 转换成 GBK 编码</span></span><br><span class="line">print(s.encode(<span class="string">"GBK"</span>), type(s.encode(<span class="string">"GBK"</span>)), len(s.encode(<span class="string">"GBK"</span>)))</span><br><span class="line"><span class="comment"># b'\xd6\xd0\xce\xc4' &lt;class 'bytes'&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 将 GBK 编码格式字符串 转化成 Unicode</span></span><br><span class="line">print(<span class="string">b'\xd6\xd0\xce\xc4'</span>.decode(<span class="string">'GBK'</span>),\</span><br><span class="line">    type(<span class="string">b'\xd6\xd0\xce\xc4'</span>.decode(<span class="string">'GBK'</span>, <span class="string">'strict'</span>)),len(<span class="string">b'\xd6\xd0\xce\xc4'</span>.decode(<span class="string">'GBK'</span>, <span class="string">'strict'</span>)))</span><br><span class="line"><span class="comment"># 中文 &lt;class 'str'&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 只有ascii字符集中的字符，三种编码方式得到的结果才完全一致。</span></span><br><span class="line">print(<span class="string">'abc'</span>.encode())  <span class="comment"># b'abc'</span></span><br><span class="line">print(<span class="string">'abc'</span>.encode(<span class="string">'GBK'</span>))  <span class="comment"># b'abc'</span></span><br><span class="line">print(<span class="string">'abc'</span>.encode(<span class="string">'latin-1'</span>))  <span class="comment"># b'abc'</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> 大写(<span class="params">s</span>):</span></span><br><span class="line">    <span class="keyword">return</span> s.upper()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(大写(<span class="string">'abc'</span>))  <span class="comment"># 'ABC'</span></span><br></pre></td></tr></tbody></table></figure>

<p>如果**<em>type(text) is str**</em>，<br>那么<code>text.encode(‘latin1’).decode(‘unicode_escape’)</code></p>
<p>如果**<em>type(text) is bytes**</em>，<br>那么<code>text.decode('unicode_escape')</code></p>
<h3 id="unicode-escape-unicode-escape-的解码与编码规则，"><a href="#unicode-escape-unicode-escape-的解码与编码规则，" class="headerlink" title="unicode_escape unicode-escape 的解码与编码规则，"></a>unicode_escape unicode-escape 的解码与编码规则，</h3><p>编码用unicode数字字符串表示字符</p>
<p>解码碰到\会去掉一个\，编码的时候会添上一个,<br>所以就解释了b’\uxxxx’就是b’\uxxxx’ ，<br>因为\u的情况下面，根本不可能出现一个\的情况。<br>所以总的思路是出现’\uxxxx’的字符串，首先通过一种常规的字符编码方式utf8 gbc随便你，<br>转换成b’\uxxxx’的形式，然后再通过’unicode_escape’的编码解码，变成’\uxxxx’的形式，</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">'中文'</span>.encode(<span class="string">'unicode_escape'</span>))</span><br><span class="line"><span class="comment"># b'\\u4e2d\\u6587'</span></span><br><span class="line">print(<span class="string">'中文'</span>.encode(<span class="string">'unicode-escape'</span>))</span><br><span class="line"><span class="comment"># b'\\u4e2d\\u6587'</span></span><br><span class="line">print(type(<span class="string">'中文'</span>.encode(<span class="string">'unicode_escape'</span>)), len(<span class="string">'中文'</span>.encode(<span class="string">'unicode_escape'</span>)))</span><br><span class="line"><span class="comment"># &lt;class 'bytes'&gt; 12</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 一个反斜杠 unicode转义数字 写字符串</span></span><br><span class="line">print(<span class="string">'\u4e2d\u6587'</span>, type(<span class="string">'\u4e2d\u6587'</span>), len(<span class="string">'\u4e2d\u6587'</span>))</span><br><span class="line"><span class="comment"># 中文 &lt;class 'str'&gt; 2</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Python的字符串中应该不会出现'\uxxxx'的字符。</span></span><br><span class="line"><span class="comment"># 如果出现了，那应该是'\\uxxxx'注意前面应该是两个反斜杠，直接把\u的反斜杠转义了</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">r'\u5bb6'</span>)  <span class="comment"># \u5bb6 </span></span><br><span class="line">print(<span class="string">b'\u5bb6'</span>)  <span class="comment"># b'\\u5bb6'</span></span><br><span class="line">print(<span class="string">b'\u5bb6'</span>.decode(<span class="string">'unicode_escape'</span>))  <span class="comment"># 家</span></span><br><span class="line">print(<span class="string">'\u5bb6'</span>)  <span class="comment"># 家</span></span><br><span class="line">print(<span class="string">'\\u5bb6'</span>)  <span class="comment"># \u5bb6</span></span><br><span class="line">print(<span class="string">'\\u5bb6'</span>.encode())  <span class="comment"># b'\\u5bb6'</span></span><br><span class="line">print(<span class="string">'\\u5bb6'</span>.encode().decode())  <span class="comment"># \u5bb6</span></span><br><span class="line">print(<span class="string">'\\u5bb6'</span>.encode().decode(<span class="string">'unicode_escape'</span>))  <span class="comment"># 家</span></span><br><span class="line"></span><br><span class="line">print(<span class="string">'\\u5bb6'</span>.encode(<span class="string">'unicode_escape'</span>))  <span class="comment"># b'\\\\u5bb6'</span></span><br><span class="line">print(<span class="string">'\\u5bb6'</span>.encode(<span class="string">'unicode_escape'</span>).decode(<span class="string">'unicode_escape'</span>))  <span class="comment"># \u5bb6</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">b = <span class="string">b'apple'</span></span><br><span class="line">print(b, type(b))</span><br><span class="line"><span class="comment"># b'apple' &lt;class 'bytes'&gt;</span></span><br><span class="line">print(b[<span class="number">0</span>])  <span class="comment"># 97</span></span><br><span class="line">print(b[<span class="number">1</span>:])  <span class="comment"># b'pple'</span></span><br><span class="line">print(list(b))  <span class="comment"># [97, 112, 112, 108, 101]</span></span><br><span class="line"></span><br><span class="line">userInputTag = [<span class="string">"\xe5\x8f\xa4\xe8\xbf\xb9"</span>, <span class="string">"\xe5\xbb\xba\xe7\xad\x91"</span>]</span><br><span class="line">print(userInputTag[<span class="number">0</span>].encode(<span class="string">'latin-1'</span>).decode(<span class="string">'utf-8'</span>), type(userInputTag[<span class="number">0</span>]))</span><br><span class="line"><span class="comment"># 古迹 &lt;class 'str'&gt;</span></span><br></pre></td></tr></tbody></table></figure>


<h3 id="除法变化"><a href="#除法变化" class="headerlink" title="除法变化"></a>除法变化</h3><p>Python3除号返回浮点数，<br>Python2中直接截断并且返回整数，像是C语言的除法</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python2中除法</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">5</span>/<span class="number">2</span></span><br><span class="line"><span class="number">2</span>  <span class="comment"># 会做整数截断，只保留整数值 </span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python3中除法</span></span><br><span class="line">print(<span class="number">5</span>/<span class="number">2</span>)  <span class="comment"># 2.5  float的值</span></span><br><span class="line">print(<span class="number">5</span>//<span class="number">2</span>)  <span class="comment"># 2 实现python2一样除法</span></span><br><span class="line">print(<span class="number">-5</span>//<span class="number">2</span>)  <span class="comment"># -3 实现python2一样除法</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="类型注解-type-hint-。"><a href="#类型注解-type-hint-。" class="headerlink" title="类型注解(type hint)。"></a>类型注解(type hint)。</h3><p>给变量添加类型提示<br>IDE可以根据它检查类型是否一致。<br>解释器运行时，并不会做检查</p>
<p>Once compiled, a function’s annotations are available via the function’s <strong>annotations</strong> attribute.<br>This attribute is a mutable dictionary,s<br>There is a special key in the <strong>annotations</strong> mapping, “return”.<br>This key is present only if an annotation was supplied for the function’s return value.<br>如果该函数上没有注释，或者该函数是从lambda表达式创建的，则__annotations__是一个空的可变字典。<br>第一行输出中的__annotations__是函数的保留属性，保存的是函数声明中的注释内容，</p>
<p>使用dir(fucntionName)的时候，多了一个__annotations__的属性annotations：注解; 评注; 注文; 释文</p>
<p>Python 3 extends the feature by allowing you to attach metadata<br>to functions describing their parameters and return values<br>为了标注 输入参数参数和返回值的类型。<br>“-&gt;” 函数返回值的类型建议符，<br>类型建议符并非强制规定和检查，也就是说即使传入的实际参数与建议参数不符，也不会报错。<br>-&gt; str 意思即是提醒函数使用者返回值会是一个str型。<br>:后面是建议传入的参数类型，</p>
<p>使用第三方工具mypy实现类型检查，消除一些代码错误</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># name:str 表示输入的name的值是str类型, -&gt; st 表示返回值是str类型</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hello</span>(<span class="params">name: str</span>) -&gt; str:</span>  <span class="comment"># 起到提示作用，并没有实现真正类型检查</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">'hello '</span> + name</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(hello(<span class="string">'Ashe'</span>))</span><br><span class="line"><span class="comment"># hello Ashe</span></span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">greeting</span>(<span class="params">name: str</span>) -&gt; str:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="string">'Hello '</span> + name</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(greeting.__annotations__)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span>(<span class="params">a: <span class="string">'x'</span>, b: <span class="number">5</span> + <span class="number">6</span>, c: list</span>) -&gt; max(2, 9):</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(foo.__annotations__)</span><br><span class="line"><span class="comment"># {'a': 'x', 'b': 11, 'c': &lt;class 'list'&gt;, 'return': 9}</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">twoSum</span>(<span class="params">num1: int, num2: int = <span class="number">100</span></span>) -&gt; int:</span></span><br><span class="line">    sum = num1 + num2</span><br><span class="line">    <span class="keyword">return</span> sum</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(<span class="string">'-----'</span>)</span><br><span class="line">print(dir(twoSum))</span><br><span class="line"><span class="comment"># output: ['__annotations__', '__call__', '__class__', '__closure__', ... ]</span></span><br><span class="line">print(twoSum.__annotations__)</span><br><span class="line"><span class="comment"># {'num1': &lt;class 'int'&gt;, 'num2': &lt;class 'int'&gt;, 'return': &lt;class 'int'&gt;}</span></span><br><span class="line">print(twoSum(<span class="number">1</span>, <span class="number">2</span>))  <span class="comment"># 3</span></span><br><span class="line">print(twoSum(<span class="number">1</span>))  <span class="comment"># 101</span></span><br><span class="line">print(twoSum(<span class="string">'I love '</span>, <span class="string">'python'</span>))  <span class="comment"># I love python</span></span><br><span class="line"><span class="comment"># print(twoSum('python'))  # TypeError: can only concatenate str (not "int") to str</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">第二行输出是正常用法。</span></span><br><span class="line"><span class="string">第三行输出验证了：注释内容后可以跟等号"=",意思为未传入实参时，该参数获得的默认值</span></span><br><span class="line"><span class="string">第四行输出则验证了该解释说明符并非强制检查，我们传入了两个str实参，</span></span><br><span class="line"><span class="string">并不会报错，而是继续进行函数中的加法运算。</span></span><br><span class="line"><span class="string">如果传入的两个实参无法进行函数中规定的运算，则会正常报错。</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">kinetic_energy</span>(<span class="params">m: <span class="string">'in KG'</span>, v: <span class="string">'in M/S'</span></span>) -&gt; 'Joules':</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">1</span> / <span class="number">2</span> * m * v ** <span class="number">2</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(kinetic_energy.__annotations__)</span><br><span class="line"><span class="comment"># {'m': 'in KG', 'v': 'in M/S', 'return': 'Joules'}</span></span><br><span class="line">print(<span class="string">'{:,} {}'</span>.format(kinetic_energy(<span class="number">20</span>, <span class="number">3000</span>),</span><br><span class="line">                       kinetic_energy.__annotations__[<span class="string">'return'</span>]))</span><br><span class="line"><span class="comment"># 90,000,000.0 Joules</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Annotations are dictionaries</span></span><br><span class="line"><span class="comment"># There is a special key in the __annotations__ mapping, "return".</span></span><br><span class="line"><span class="comment"># This key is present only if an annotation was supplied for the function's return value.</span></span><br><span class="line">rd = {<span class="string">'type'</span>: float, <span class="string">'units'</span>: <span class="string">'Joules'</span>, <span class="string">'docstring'</span>: <span class="string">'Given mass and velocity returns kinetic energy in Joules'</span>}</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>() -&gt; rd:</span></span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(f.__annotations__[<span class="string">'return'</span>][<span class="string">'type'</span>])</span><br><span class="line"><span class="comment"># &lt;class 'float'&gt;</span></span><br><span class="line">print(f.__annotations__[<span class="string">'return'</span>][<span class="string">'units'</span>])</span><br><span class="line"><span class="comment"># 'Joules'</span></span><br><span class="line">print(f.__annotations__[<span class="string">'return'</span>][<span class="string">'docstring'</span>])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 'Given mass and velocity returns kinetic energy in Joules'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># you can use function attributes to validate called values:</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">validate</span>(<span class="params">func, locals</span>):</span></span><br><span class="line">    <span class="keyword">for</span> var, test <span class="keyword">in</span> func.__annotations__.items():</span><br><span class="line">        value = locals[var]</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            pr = test.__name__ + <span class="string">': '</span> + test.__docstring__</span><br><span class="line">        <span class="keyword">except</span> AttributeError:</span><br><span class="line">            pr = test.__name__</span><br><span class="line">        msg = <span class="string">'{}=={}; Test: {}'</span>.format(var, value, pr)</span><br><span class="line">        <span class="keyword">assert</span> test(value), msg</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">between</span>(<span class="params">lo, hi</span>):</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">_between</span>(<span class="params">x</span>):</span></span><br><span class="line">        <span class="keyword">return</span> lo &lt;= x &lt;= hi</span><br><span class="line"></span><br><span class="line">    _between.__docstring__ = <span class="string">'must be between {} and {}'</span>.format(lo, hi)</span><br><span class="line">    <span class="keyword">return</span> _between</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f</span>(<span class="params">x: between(<span class="params"><span class="number">3</span>, <span class="number">10</span></span>), y: lambda _y: isinstance(<span class="params">_y, int</span>)</span>):</span></span><br><span class="line">    validate(f, locals())</span><br><span class="line">    print(x, y)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">f(<span class="number">2</span>, <span class="number">2</span>)</span><br><span class="line"><span class="comment"># AssertionError: x==2; Test: _between: must be between 3 and 10</span></span><br><span class="line">f(<span class="number">3</span>, <span class="number">2.1</span>)</span><br><span class="line"><span class="comment"># AssertionError: y==2.1; Test: &lt;lambda&gt;</span></span><br></pre></td></tr></tbody></table></figure>



<h3 id="高级解包操作"><a href="#高级解包操作" class="headerlink" title="高级解包操作"></a>高级解包操作</h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python2中无解包操作</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a, b, c = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a,b,c</span><br><span class="line">(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a, b, *c = range(<span class="number">10</span>)  </span><br><span class="line">  File <span class="string">"&lt;stdin&gt;"</span>, line <span class="number">1</span></span><br><span class="line">    a, b, *c = range(<span class="number">10</span>)</span><br><span class="line">          ^</span><br><span class="line">SyntaxError: invalid syntax</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python3中解包操作</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a, b, *c = range(<span class="number">10</span>)  </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c</span><br><span class="line">[<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]  <span class="comment"># 剩下的元素全部赋值给c</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a, b, *_ = range(<span class="number">5</span>)  <span class="comment"># 丢弃2,3,4元素</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>b</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="限定关键字参数"><a href="#限定关键字参数" class="headerlink" title="限定关键字参数"></a>限定关键字参数</h3><p>当参数特别多的时候，想把后面参数指定名字进行传入，<br>限定关键字参数需要指定参数名传参，<br>关键字参数实际就是传入值得时候指定值的参数名字，</p>
<p>Keyword only arguments 关键字参数<br>根据参数名来传入参数值，则无须遵守定义形参的顺序，<br>以param = value的方式传递数据</p>
<p>使用关键字参数好处 :<br>①关键字参数顺序也可以不按函数声明参数的顺序。可以防止参数的位置顺序搞混<br>②清晰地指出了参数值，有助于提高程序的可读性</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">a, b, *, c</span>):</span></span><br><span class="line">    <span class="comment"># python3中支持语法，要显示转入c的值，前面加一个参数*号就行。</span></span><br><span class="line">    <span class="keyword">return</span> a + b + c</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># c = 3 就是限定关键字参数方式</span></span><br><span class="line">print(add(<span class="number">1</span>, <span class="number">2</span>, c=<span class="number">3</span>))</span><br></pre></td></tr></tbody></table></figure>


<h3 id="Chained-exception-连接异常-。"><a href="#Chained-exception-连接异常-。" class="headerlink" title="Chained exception(连接异常)。"></a>Chained exception(连接异常)。</h3><p>Python3重新抛出异常不会丢失栈信息，有 raise from 保留异常栈信息<br>python2重新抛出异常会丢失栈信息、原来的 traceback 信息</p>
<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```python</span><br><span class="line">import shutil</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line">def mycopy(source, dest):</span><br><span class="line">    # Python3中支持 raise from保留异常栈信息</span><br><span class="line">    try:</span><br><span class="line">        shutil.copy2(source, dest)</span><br><span class="line">    except OSError: # python2中raise会丢失原来的 traceback信息</span><br><span class="line">        raise NotImplementedError("automatic sudo injection") from OSError</span><br><span class="line">        # 这样会把所有栈信息抛出，有利于去排错</span><br><span class="line">  </span><br><span class="line">mycopy('old', 'new')</span><br><span class="line">输出结果：</span><br><span class="line"># OSError</span><br><span class="line"> </span><br><span class="line"># The above exception was the direct cause of the following exception:</span><br><span class="line"> </span><br><span class="line"># Traceback (most recent call last):</span><br><span class="line">#   File "chain_exception.py", line 12, in &lt;module&gt;</span><br><span class="line">#     mycopy('old', 'new')</span><br><span class="line">#   File "chain_exception.py", line 9, in mycopy</span><br><span class="line">#     raise NotImplementedError("automatic sudo injection") from OSError</span><br><span class="line"># NotImplementedError: automatic sudo injection</span><br></pre></td></tr></tbody></table></figure>


<h3 id="一切都是返回迭代对象-range-zip-map-dict-values-etc-are-all-iterators。"><a href="#一切都是返回迭代对象-range-zip-map-dict-values-etc-are-all-iterators。" class="headerlink" title="一切都是返回迭代对象 range, zip, map, dict.values, etc, are.all iterators。"></a>一切都是返回迭代对象 range, zip, map, dict.values, etc, are.all iterators。</h3><p>python2中range和map返回的都是列表，当这个列表非常大时候会非常消耗内存，<br>python3中很多内置函数之前返回列表的现在返回是迭代器，迭代器是”惰性加载”的，这样会省很多内存<br>如果我们需要显示得到一个列表时候，我么就需要list进行强转一下)，返回列表会消耗大的内存</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># python2中</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>range(<span class="number">10</span>)</span><br><span class="line">[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]  <span class="comment"># 返回列表</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(type(range(<span class="number">10</span>)))</span><br><span class="line">&lt;type <span class="string">'list'</span>&gt;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(xrange(<span class="number">10</span>))</span><br><span class="line">xrange(<span class="number">10</span>)</span><br><span class="line"> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> i <span class="keyword">in</span> xrange(<span class="number">100</span>):print(i) </span><br><span class="line"><span class="comment"># python2中xrange返回可迭代对象，python3中没有xrange函数</span></span><br><span class="line"> </span><br><span class="line">---------------------------------------------------------------</span><br><span class="line"><span class="comment"># python3中</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>range(<span class="number">10</span>)</span><br><span class="line">range(<span class="number">0</span>, <span class="number">10</span>)  <span class="comment"># 返回软加载可迭代对象</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(type(range(<span class="number">10</span>)))</span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">range</span>'&gt;</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">print</span>(<span class="params">list(<span class="params">range(<span class="params"><span class="number">10</span></span>)</span>)</span>)</span></span><br><span class="line">[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]  </span><br><span class="line"> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">10</span>):print(i， end=<span class="string">' '</span>)   <span class="comment"># end默认值是'\n'换行，置空表示水平输出</span></span><br><span class="line">...</span><br><span class="line"><span class="number">0</span> <span class="number">1</span> <span class="number">2</span> <span class="number">3</span> <span class="number">4</span> <span class="number">5</span> <span class="number">6</span> <span class="number">7</span> <span class="number">8</span> <span class="number">9</span></span><br></pre></td></tr></tbody></table></figure>
<p>python3中不再使用dict.iteritems() ，直接使用dict.items()方法就可以返回可迭代对象。</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2020/08/21/python-chang-yong-nei-zhi-suan-fa-he-shu-ju-jie-gou/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2020/08/21/python-chang-yong-nei-zhi-suan-fa-he-shu-ju-jie-gou/" class="post-title-link" itemprop="url">Python常用内置算法和数据结构</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2020-08-20 16:21:41" itemprop="dateCreated datePublished" datetime="2020-08-20T16:21:41Z">2020-08-20</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-05-12 15:51:03" itemprop="dateModified" datetime="2021-05-12T15:51:03Z">2021-05-12</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" itemprop="url" rel="index"><span itemprop="name">数据结构与算法</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h1 id="Python常用内置算法和数据结构"><a href="#Python常用内置算法和数据结构" class="headerlink" title="Python常用内置算法和数据结构"></a>Python常用内置算法和数据结构</h1><table>
<thead>
<tr>
<th>数据结构/算法</th>
<th>语言内置</th>
<th>内置库</th>
</tr>
</thead>
<tbody><tr>
<td>线性结构</td>
<td>list(列表)/tuple(元祖)</td>
<td>array(数组，不常用)/collections.namedtuple</td>
</tr>
<tr>
<td>链式结构</td>
<td></td>
<td>collections.deque(双端队列)</td>
</tr>
<tr>
<td>字典结构</td>
<td>dict(字典)</td>
<td>collections.Counter(计数器)/OrderedDict(有序字典)/defaultdict</td>
</tr>
<tr>
<td>集合结构</td>
<td>set(集合)/frozenset(不可变集合)</td>
<td></td>
</tr>
<tr>
<td>排序算法</td>
<td>sorted</td>
<td></td>
</tr>
<tr>
<td>二分算法</td>
<td></td>
<td>bisect模块</td>
</tr>
<tr>
<td>堆算法</td>
<td></td>
<td>heapq模块</td>
</tr>
<tr>
<td>缓存算法</td>
<td></td>
<td>functools.lru_cache(Least Recent Used, python3)</td>
</tr>
</tbody></table>
<p>有序数据类型：字符串，列表，元组，集合，字典<br>一般情况下，有序数据类型，可以索引，切片，连接，重复<br>但字典除外，因为d[key]=value</p>
<h3 id="frozenset固定集合"><a href="#frozenset固定集合" class="headerlink" title="frozenset固定集合"></a>frozenset固定集合</h3><p>是不可变、无序的，含有唯一元素的不可迭代的集合，<br>作用：固定集合可以作为字典的键，还可以作为字典的值</p>
<figure class="highlight plain"><figcaption><span>frozenset([iterable])``` 固定集合的构造函数</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">iterable -- 可迭代的对象，比如列表、字典、元组等等。</span><br><span class="line">用可迭代对象创建一个固定的、不能再添加或删除任何元素的集合，返回新的 frozenset 对象，</span><br><span class="line">如果不提供任何参数，默认会生成空的固定集合</span><br><span class="line"></span><br><span class="line">为什么需要冻结的集合（即不可变的集合）呢？因为在集合的关系中，有集合的中的元素是另一个集合的情况，但是普通集合（set）本身是可变的，那么它的实例就不能放在另一个集合中（set中的元素必须是不可变类型）。</span><br><span class="line"></span><br><span class="line">所以，frozenset提供了不可变的集合的功能，当集合不可变时，它就满足了作为集合中的元素的要求，就可以放在另一个集合中了。</span><br><span class="line"></span><br><span class="line">```python</span><br><span class="line">&gt;&gt;&gt;a = frozenset(range(10))     # 生成一个新的不可变集合</span><br><span class="line">&gt;&gt;&gt; a</span><br><span class="line">frozenset([0, 1, 2, 3, 4, 5, 6, 7, 8, 9])</span><br><span class="line">&gt;&gt;&gt; b = frozenset('runoob') </span><br><span class="line">&gt;&gt;&gt; b</span><br><span class="line">frozenset(['b', 'r', 'u', 'o', 'n'])   # 创建不可变集合</span><br></pre></td></tr></tbody></table></figure>

<h3 id="collections是Python内建的一个集合模块，提供的一些内置数据结构拓展，"><a href="#collections是Python内建的一个集合模块，提供的一些内置数据结构拓展，" class="headerlink" title="collections是Python内建的一个集合模块，提供的一些内置数据结构拓展，"></a><code>collections</code>是Python内建的一个集合模块，提供的一些内置数据结构拓展，</h3><p>力扣提交时环境中已经有<code>import collections</code></p>
<h3 id="namedtuple"><a href="#namedtuple" class="headerlink" title="namedtuple()"></a>namedtuple()</h3><p>factory function for creating tuple subclasses with named fields<br>创建命名元组子类的工厂函数  具名元组<br>接受类型的名称和属性列表创建一个自定义的 tuple 对象，并且规定了tuple元素的个数，<br>并可以用属性而不是索引来引用tuple的某个元素。<br>作用场景：通过下标不太可读通过属性名称变得比较可读。<br>它具备tuple的不变性</p>
<p>tuple可以表示一个元组，是不可变的集合,例如一个点的二维坐标就可以这样表示成p=(1,2)<br>但是，(1,2)很难看出这个tuple是用来表示一个坐标的</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> collections</span><br><span class="line">Point = collections.namedtuple(<span class="string">'Point'</span>, <span class="string">'x,y'</span>)  <span class="comment"># 定义一个tuple对象</span></span><br><span class="line">p = Point(<span class="number">1</span>, <span class="number">2</span>)  <span class="comment"># 给x赋值1，y赋值2</span></span><br><span class="line">print(p.x)  <span class="comment"># 1</span></span><br><span class="line">print(p.y)  <span class="comment"># 2</span></span><br><span class="line">print(p[<span class="number">0</span>])  <span class="comment"># 1</span></span><br><span class="line">print(p[<span class="number">1</span>])  <span class="comment"># 2</span></span><br><span class="line">print(p.x == p[<span class="number">0</span>])  <span class="comment"># True</span></span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><p>deque /dek/<br>list-like container with fast appends and pops on either end<br>类似列表(list)的容器，实现了在两端快速添加(append)和弹出(pop)<br>是为了高效实现插入和删除操作的双向列表，<br>deque可以方便实现 queue (队列 ) / stack (栈)。</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> collections</span><br><span class="line">de = collections.deque()  <span class="comment"># 定义deque对象</span></span><br><span class="line">print(de)  <span class="comment"># deque([])</span></span><br><span class="line">de.append(<span class="number">1</span>)  <span class="comment"># 右边添加1元素</span></span><br><span class="line">de.appendleft(<span class="number">0</span>)  <span class="comment"># 左边添加0元素</span></span><br><span class="line">print(de)  <span class="comment"># deque([0, 1])</span></span><br><span class="line">de.pop()  <span class="comment"># 1 输出右边元素</span></span><br><span class="line">de.popleft()  <span class="comment"># 0 输出左边元素</span></span><br><span class="line">print(de)  <span class="comment"># deque([])</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>Counter<br>dict subclass for counting hashable objects<br>字典的子类，提供了可哈希对象的计数功能，值是一个字典</p>
</li>
</ul>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> collections</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c = collections.Counter()   <span class="comment"># 定义Counter对象</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c = collections.Counter(<span class="string">'abcab'</span>) <span class="comment"># 统计字符数目</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c</span><br><span class="line">Counter({<span class="string">'a'</span>: <span class="number">2</span>, <span class="string">'b'</span>: <span class="number">2</span>, <span class="string">'c'</span>: <span class="number">1</span>})   <span class="comment"># 值是一个字典，a是有2个，b是有2个，c是有1个</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c[<span class="string">'a'</span>]  <span class="comment"># 统计字符串每个字符个数</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c.most_common() <span class="comment"># 获取从大到小每个字符数量</span></span><br><span class="line">[(<span class="string">'a'</span>, <span class="number">2</span>), (<span class="string">'b'</span>, <span class="number">2</span>), (<span class="string">'c'</span>, <span class="number">1</span>)]</span><br><span class="line">&gt;&gt;&gt;</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> ch <span class="keyword">in</span> <span class="string">'programming'</span>:</span><br><span class="line">      c[ch]=c[ch]+<span class="number">1</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c</span><br><span class="line">Counter({<span class="string">'g'</span>:<span class="number">2</span>,<span class="string">'m'</span><span class="number">2</span>,<span class="string">'r'</span>:<span class="number">2</span>,<span class="string">'a'</span>:<span class="number">1</span>,<span class="string">'i'</span>:<span class="number">1</span>,<span class="string">'o'</span>:<span class="number">1</span>,<span class="string">'n'</span>:<span class="number">1</span>,<span class="string">'p'</span>:<span class="number">1</span>})</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><p>OrderedDict<br>dict subclass that remembers the order entries were added<br>字典的子类，保存了他们被添加的顺序，key 顺序是第一次插入的顺序。</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> collections</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>od = collections.OrderedDict()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>od[<span class="string">'c'</span>] = <span class="string">'c'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>od[<span class="string">'a'</span>] = <span class="string">'a'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>od[<span class="string">'b'</span>] = <span class="string">'b'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list(od.keys())</span><br><span class="line">[<span class="string">'c'</span>, <span class="string">'a'</span>, <span class="string">'b'</span>]   <span class="comment"># key的顺序是第一次插入的顺序。</span></span><br></pre></td></tr></tbody></table></figure>
</li>
<li><p>defaultdict<br>dict subclass that calls a factory function to supply missing values<br>defaultdict字典的子类，提供了一个工厂函数，为字典查询提供一个默认值</p>
</li>
</ul>
<figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> collections</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dd = collections.defaultdict(int) <span class="comment"># 第一个参数必须是可调用的，否则为None</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dd[<span class="string">'a'</span>]  <span class="comment"># 不存在的key默认为0</span></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dd[<span class="string">'b'</span>] += <span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dd</span><br><span class="line">defaultdict(&lt;class 'int'&gt;, {'a': 0, 'b': 1})</span><br></pre></td></tr></tbody></table></figure>

<h3 id="Python-dict-set-底层都是哈希表"><a href="#Python-dict-set-底层都是哈希表" class="headerlink" title="Python dict/set 底层都是哈希表"></a>Python dict/set 底层都是哈希表</h3><ul>
<li>哈希表的实现原理, 底层其实就是一个数组, 通过哈希函数把相应的元素映射到一个数组槽里面。</li>
<li>根据哈希函数快速定位一个元素，平均查找时间复杂度O(1)，查找和插入的速度极快，不会随着key的增加而变慢；二分查找</li>
<li>不断加入元素会引起哈希表重新开辟空间，拷贝之前元素到新数组，需要占用大量的内存，内存浪费多。</li>
<li>dict是用来存储键值对（key-value）结构的数据的，</li>
<li>set没有存储对应的value，其实也是存储的键值对，只是默认键和值是相同的,</li>
</ul>
<p>dict是python中的一个可变的数据类型，用{}表示，dict curly bracket 花括号<br>dict的key必须是不可变的数据类型对象，同一个字典中的键必须唯一，如果出现多个相同的键，则最新的键会被记住<br>而value的数据类型可以任意</p>
<p>新版哈希表结构：</p>
<figure class="highlight asciidoc"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Indices</span><br><span class="line">----------------------------------------------------</span><br><span class="line">None | index | None | None | index | None | index ...</span><br><span class="line">----------------------------------------------------</span><br><span class="line"></span><br><span class="line">Entries</span><br><span class="line">--------------------</span><br><span class="line">hash0   key0  value0</span><br><span class="line">---------------------</span><br><span class="line">hash1   key1  value1</span><br><span class="line">---------------------</span><br><span class="line">hash2   key2  value2</span><br><span class="line">---------------------</span><br><span class="line"><span class="code">        ...</span></span><br><span class="line">---------------------</span><br></pre></td></tr></tbody></table></figure>

<p>集合并不支持索引操作，因为集合本质上是一个哈希表，和列表不一样。所以，同样不可以放入可变对象，<br>因为无法判断两个可变对象是否相等，<br>也就无法保证set内部“不会有重复元素”。</p>
<p>dict根据key来计算value的存储位置，<br>如果每次计算相同的key得出的结果不同，那dict内部就完全混乱了。<br>这个通过key计算位置的算法称为哈希算法（Hash）</p>
<p>{0, 1, 2} set 无序，不能通过索引访问，不重复，用来去重<br>set() 创建一个空集合，<br>{}新建一个空字典<br>{} - {}求两个集合的差集，去掉相同的元素，以前面集合为标准，从一个集合里面去掉后面集合特有的元素<br>{} &amp; {}求两个集合的交集，找两个集合的公有元素<br>{} | {}求两个集合的并集，把两个集合合并在一起，按照从前往后的顺序，去掉相同的元素</p>
<ul>
<li>CPython解释器使用二次探查解决哈希冲突问题</li>
</ul>
<p>哈希冲突<br>当插入一个Entry&lt;k,v&gt;时，将key经过hash计算出的下标中已经存在另一个Entry&lt;k,v&gt;，这时就会产生哈希冲突。哈希冲突主要是是由于哈希函数产生的哈希值是有限的</p>
<p>解决哈希冲突的常用方法有</p>
<ul>
<li>链接法：元素key冲突之后使用一个链表填充相同key 的元素</li>
<li>开放寻址法(探查法) 又分为线性探查和二次探查等，冲突之后根据一种方式(二次探查)寻找下一个可用的槽。( 探查是一次还是二次看使用函数是一次还是二次的)，</li>
</ul>
<p>哈希扩容：HashMap的初始值是16（1,&lt;&lt;4）,负载因子0.75（听说这个值是经过大量实践算出来的，这个值设定最合理），初始值16指的是数组的长度（1&lt;&lt;4是2的4次方，这样写计算机执行更快），当数组的容量达到12（16*0.75）时，这时开始扩容，扩容为32（1&lt;&lt;5即2的5次方），每次扩容按照2的倍数递增，扩容是为了减少hash碰撞，让链表的数据更少（最好链表上就一个数据，即为数组的下标数据）</p>
<p>当前数据存储的数量（即size()）大小必须大于等于阈值；<br>当前加入的数据是否发生了hash冲突，满足这两个条件就会哈希扩容。</p>
<p>dict则为了快速查找使用了一种特别的方法，哈希表，<br>采用哈希函数从key计算得到一个数字<br>（哈希函数有个特点：对于不同的key，有很大的概率得到的哈希值也不同），<br>然后直接把value存储到这个数字所对应的地址上，<br>比如key=’ABC’，value=10，经过哈希函数得到key对应的哈希值为123，<br>那么就申请一个有1000个地址（从0到999）的内存，<br>然后把10存放在地址为123的地方。<br>对于key=’BCD’，value=20，得到key的哈希值为234，<br>那么就把20存放在地址为234的地方。<br>对于这样的表查找起来是非常方便的。只要给出key，计算得到哈希值，<br>然后直接到对应的地址去找value就可以了。<br>无论有几个元素，都可以直接找到value，无需遍历整个表。<br>不过虽然dict查找速度快，但内存浪费严重，你看我们只存储了两个元素，都要申请一个长度为1000的内存。<br>3.现在你知道为啥key要用不可变对象了吧？因为不可变对象是常量，每次的哈希值算出来都是固定的，这样就不会出错。比如key=’ABC’，value=10，存储地址为123，假设我突发奇想，把key改成’BCD’，那么当查找’BCD’的value的时候就会去234的地址找，但那里啥也没有，这就乱套了。</p>
<blockquote>
<p>Dictionary key 必须是不可变的</p>
</blockquote>
<h3 id="Python中list-tuple区别"><a href="#Python中list-tuple区别" class="headerlink" title="Python中list/tuple区别"></a>Python中list/tuple区别</h3><ul>
<li><p>都是线性结构、支持下标访问</p>
</li>
<li><p>list是可变对象，查找和删除的时间复杂度是O(n)，添加的时间复杂度是O(1)<br>没有办法作为字典的key，因为list有可能因为添加新的元素而导致内存地址的更换<br>list既可以当栈、也可以当队列，通过数组实现，而不是链表；<br>因此，每当执行 insert(0, val) 操作时，<br>需要将元素都向后移动一位才可插入，复杂度 O(N) ；<br>这和insert方法不同，是根据索引值来判断插入到链表的哪个位置。</p>
</li>
<li><p>tuple是保存的引用不可变，你没法替换这个对象，但是如果它本身就是一个可变对象，是可以修改这个引用指向的可变对象，比如tuple中包容可变对象，如果tuple里面保存一个list，list本身还是可变的。 parenthese 圆括号，有序的 不变的顺序表<br>可以作为字典的key，可以用在字符串格式化中。</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">print((), type(()))</span><br><span class="line"><span class="comment"># () &lt;class 'tuple'&gt; 空元组</span></span><br><span class="line">print((<span class="number">3</span>), type((<span class="number">3</span>)))</span><br><span class="line"><span class="comment"># 3 &lt;class 'int'&gt;</span></span><br><span class="line">print((<span class="number">3</span>, ), type((<span class="number">3</span>,)))</span><br><span class="line"><span class="comment"># (3,) &lt;class 'tuple'&gt; 只有一个元组元素后面要加逗号</span></span><br></pre></td></tr></tbody></table></figure>

</li>
</ul>
<p>1.list和tuple其实是用链表顺序存储的，也就是前一个元素中存储了下一个元素的位置，这样只要找到第一个元素的位置就可以顺藤摸瓜找到所有元素的位置，所以list的名字其实就是个指针，指向list的第一个元素的位置。list的插入和删除等可以直接用链表的方式进行，比如我要在第1个元素和第2个元素中间插入一个元素，那么直接在链表的最后面（我们假设这个list只有两个元素，那么也就是在第3个元素的位置上）插入这个元素，然后把第一个元素指针指向这个元素（第3个位置），然后再把新插入的元素的指针指向原来的第2个元素，这样插入操作就完成了。读取这个list的时候，先用list的名字（就是个指针，指向第1个元素的位置）找到第一个元素，然后用第1一个元素的指针找到第2个元素（位置3），然后用第2个元素的指针找到第3个元素（位置2），以此类推。所以list的顺序和内存中的实际顺序其实不一定完全对应。这种存储方式占用空间小，浪费内存很少。<br>因为要按照链表一个一个找下去，查找和插入的时间随着元素的增加而增加；</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">s = set([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>])</span><br><span class="line">print(s)  <span class="comment"># {1, 2, 3}   </span></span><br><span class="line">s.add(<span class="number">4</span>)</span><br><span class="line">print(s)  <span class="comment"># {1, 2, 3, 4}</span></span><br><span class="line">s.remove(<span class="number">4</span>)</span><br><span class="line">print(s)  <span class="comment"># {1, 2, 3}   </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">t = ([<span class="number">1</span>], <span class="number">2</span>, <span class="number">3</span>)</span><br><span class="line">print(t[<span class="number">0</span>])  <span class="comment"># [1]</span></span><br><span class="line">t[<span class="number">0</span>].append(<span class="number">1</span>)</span><br><span class="line">print(t)</span><br><span class="line"><span class="comment"># ([1, 1], 2, 3)  # 第一个列表对象元素虽然改变，但它依然是这个列表对象</span></span><br><span class="line"></span><br><span class="line">print(t[<span class="number">2</span>])  <span class="comment"># 3，不可变对象</span></span><br><span class="line">t[<span class="number">2</span>] = <span class="number">3</span>  <span class="comment"># TypeError: 'tuple' object does not support item assignment</span></span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">t = (<span class="number">1</span>, <span class="string">'23'</span>, [<span class="number">123</span>, <span class="string">'abc'</span>], (<span class="string">'python'</span>, <span class="string">'learn'</span>))</span><br><span class="line">tls = list(t)  <span class="comment">#tuple--&gt;list</span></span><br><span class="line">print(tls)</span><br><span class="line"><span class="comment"># [1, '23', [123, 'abc'], ('python', 'learn')]</span></span><br><span class="line"></span><br><span class="line">t_tuple = tuple(tls)  <span class="comment">#list--&gt;tuple</span></span><br><span class="line">print(t_tuple)</span><br><span class="line"><span class="comment"># (1, '23', [123, 'abc'], ('python', 'learn'))</span></span><br></pre></td></tr></tbody></table></figure>

<p>常用函数<br>list<br><code>min(list_name)</code> <code>max(list_name)</code> <code>sum(list_name)</code><br><code>len(list_name)</code></p>
<p><code>list.index(x[, start[, end]])</code><br>从列表中找出某个值第一个匹配项的索引位置。<br>x– 查找的对象。<br>start– 可选，查找的起始位置。<br>end– 可选，查找的结束位置。<br>返回：查找对象的索引位置，如果没有找到对象则抛出异常。</p>
<figure class="highlight plain"><figcaption><span>start, end)```返回开始的索引值，没找到则抛出异常。</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```py</span><br><span class="line">list1 = ['Google', 'Runoob', 'Taobao']</span><br><span class="line">print('Google 索引值为', list1.index('Google'))</span><br><span class="line"># Google 索引值为 0</span><br><span class="line">print('Runoob 索引值为', list1.index('Runoob'))</span><br><span class="line"># Runoob 索引值为 1</span><br><span class="line"></span><br><span class="line">print('Taobao 索引值为', list1.index('Taobao'))</span><br><span class="line"># Taobao 索引值为 2</span><br><span class="line"></span><br><span class="line"># 从指定位置开始搜索</span><br><span class="line">print('Runoob 索引值为', list1.index('Runoob', 1))</span><br><span class="line"># Runoob 索引值为 1</span><br><span class="line"># print('Runoob 索引值为', list1.index('Runoob', 2))</span><br><span class="line"># ValueError: 'Runoob' is not in list</span><br><span class="line"></span><br><span class="line">list1 = ['Google', 'Runoob', 'Taobao']</span><br><span class="line">list2 = ['Runoob', 'Taobao', 'Google']</span><br><span class="line">dic = {}</span><br><span class="line">for i in range(len(list2)):</span><br><span class="line">    dic[list2[i]] = i</span><br><span class="line">    print(dic)</span><br><span class="line"># {'Runoob': 0}</span><br><span class="line"># {'Runoob': 0, 'Taobao': 1}</span><br><span class="line"># {'Runoob': 0, 'Taobao': 1, 'Google': 2}</span><br><span class="line"># {'Runoob': 0, 'Taobao': 1, 'Google': 2}</span><br><span class="line"></span><br><span class="line">print(list1[0])  # Google</span><br><span class="line">i = dic[list1[0]]</span><br><span class="line">print(i)  # 2</span><br><span class="line"></span><br><span class="line">x = dict()</span><br><span class="line">print(x)  # {}</span><br><span class="line"></span><br><span class="line">dict2 = {val: idx for idx, val in enumerate(list2)}</span><br><span class="line">print(dict2)</span><br><span class="line"># {'Runoob': 0, 'Taobao': 1, 'Google': 2}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight plain"><figcaption><span>根据值移除元素</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">```del a[索引号]```</span><br><span class="line">```list.pop([index=-1])```移除列表中指定索引号一个元素（默认最后一个元素），并且返回该元素的值。</span><br><span class="line">```python</span><br><span class="line">list1 = ['Google', 'Runoob', 'Taobao', "Yahoo"]</span><br><span class="line">list1.pop()  # 括号里没有参数，表示删除list数组中最后一个元素</span><br><span class="line">print("列表现在为 : ", list1)</span><br><span class="line"># 列表现在为 :  ['Google', 'Runoob', 'Taobao']</span><br><span class="line">list_pop = list1.pop(1)</span><br><span class="line">print("删除的项为 :", list_pop)</span><br><span class="line"># 删除的项为 : Runoob</span><br><span class="line">print("列表现在为 : ", list1)</span><br><span class="line"># 列表现在为 :  ['Google', 'Taobao']</span><br><span class="line">print("删除的项为 :", list1.pop(0), "，列表现在为 : ", list1)</span><br><span class="line"># 删除的项为 : Google ，列表现在为 :  ['Taobao']</span><br></pre></td></tr></tbody></table></figure>

<p><code> .sort(key=lambda x: x[0], reverse=True)</code><br><code> .sort(key=lambda x:(-x[1],x[0],x[2]))</code><br><code> .sort(key=lambda x:(-x[1],x[0],x[2]))</code><br>默认是升序，加个符号变降序，可做多级排序。</p>
<figure class="highlight plain"><figcaption><span>不在本地做排序</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```.reverse()```函数用于反向列表中元素。不能将字符串反转。</span><br><span class="line">```.reversed()```函数是返回序列seq的反向访问的迭代子。参数可以是列表，元组，字符串</span><br><span class="line"></span><br><span class="line">```py</span><br><span class="line"># 组织列表 sort() 永久性排序 abcde正向或逆向顺序排序</span><br><span class="line">che = ["motuo", "qiche", "zixingche", 'huoche']</span><br><span class="line"></span><br><span class="line"># 倒着打印列表  永久性的修改顺序 也可以随时改回来</span><br><span class="line">che = ["motuo", "qiche", "zixingche", 'huoche']</span><br><span class="line"># 倒着打印</span><br><span class="line">che.reverse()</span><br><span class="line">print(che)</span><br><span class="line"># ['huoche', 'zixingche', 'qiche', 'motuo']</span><br><span class="line"># 再次倒着改回</span><br><span class="line">che.reverse()</span><br><span class="line">print(che)</span><br><span class="line"># ['motuo', 'qiche', 'zixingche', 'huoche']</span><br><span class="line"></span><br><span class="line"># "iloveChina".reverse()  # 直接将字符串用reverse异常，reverse适用于list(列表)</span><br><span class="line">a= "ilovechina"[::-1] </span><br><span class="line">print(a)</span><br><span class="line">b = ''.join(reversed('ilovechina'))</span><br><span class="line">print(b)</span><br></pre></td></tr></tbody></table></figure>

<p>元素 in list_name<br><code>.append</code><br><code>.insert(序号，内容)</code><br>函数参数是可以是任意一个元素，<br>作用是在列表的最后添加上这个新元素。</p>
<p>变量<br><code>float(‘inf’)</code></p>
<p>字典</p>
<figure class="highlight plain"><figcaption><span>查询字典的键</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">```.values()``` 查询字典的值</span><br><span class="line">```.items()``` 返回的是元组</span><br><span class="line"></span><br><span class="line">```dict.get(key, default=None)``` 查询某个键是否存在，</span><br><span class="line">key -- 字典中要查找的键。</span><br><span class="line">default -- 如果指定键的值不存在时，返回该默认值。</span><br><span class="line">返回指定键的值，如果值不在字典中或不存在此键，返回默认值None。</span><br><span class="line">可以在get()方法中添加信息避免出现None</span><br><span class="line"></span><br><span class="line">```py</span><br><span class="line"># 字典的查询</span><br><span class="line">dict1 = {'name': 'Ashe', 'age': 18, 'male': '男'}</span><br><span class="line">print(dict1.keys())  # dict_keys(['name', 'age', 'male'])</span><br><span class="line">print(dict1.values())  # dict_values(['Ashe', 18, '男'])</span><br><span class="line">print(dict1.items())  </span><br><span class="line"># dict_items([('name', 'Ashe'), ('age', 18), ('male', '男')])</span><br><span class="line"></span><br><span class="line"># 判断key是否在字典里</span><br><span class="line">print('name' in dict1)  # True，效率高</span><br><span class="line">print('name' in dict1.keys())  # True 效率低，要先生成遍历字典的所有内容一个列表，这样字典的优势就没有了</span><br><span class="line"></span><br><span class="line"># 打印dict1的键</span><br><span class="line">for i in dict1.keys():</span><br><span class="line">    print(i)</span><br><span class="line">    # name</span><br><span class="line">    # age</span><br><span class="line">    # male</span><br><span class="line"></span><br><span class="line"># 打印dict的值</span><br><span class="line">for v in dict1.values():</span><br><span class="line">    print(v)  #Ashe 18 男</span><br><span class="line">    # Ashe</span><br><span class="line">    # 18</span><br><span class="line">    # 男</span><br></pre></td></tr></tbody></table></figure>

<p>打印字典的键值：</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">dict1 = {<span class="string">'name'</span>: <span class="string">'Ashe'</span>, <span class="string">'age'</span>: <span class="number">18</span>, <span class="string">'male'</span>: <span class="string">'男'</span>}</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> dict1.items():</span><br><span class="line">    print(i)</span><br><span class="line">    <span class="comment"># ('name', 'Ashe')</span></span><br><span class="line">    <span class="comment"># ('age', 18)</span></span><br><span class="line">    <span class="comment"># 'male', '男')</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> dict1.items():</span><br><span class="line">    print(k, v)</span><br><span class="line">    <span class="comment"># name Ashe</span></span><br><span class="line">    <span class="comment"># age 18</span></span><br><span class="line">    <span class="comment"># male 男</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">dict1 = {<span class="string">'name'</span>: <span class="string">'Ashe'</span>, <span class="string">'age'</span>: <span class="number">18</span>, <span class="string">'male'</span>: <span class="string">'男'</span>}</span><br><span class="line">print(dict1.get(<span class="string">'name'</span>))  <span class="comment"># Ashe</span></span><br><span class="line">print(dict1.get(<span class="string">'address'</span>))  <span class="comment"># None</span></span><br><span class="line">print(dict1.get(<span class="string">'address'</span>, <span class="string">'没有此键'</span>))  <span class="comment"># 没有此键</span></span><br><span class="line">print(dict1.get(<span class="string">'name'</span>, <span class="string">'age'</span>))  <span class="comment"># Ashe</span></span><br><span class="line">print(dict1.get(<span class="string">'age'</span>, <span class="string">'name'</span>))  <span class="comment"># 18</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">a = {<span class="string">'x'</span>: <span class="number">1</span>}</span><br><span class="line">print(a[<span class="string">'x'</span>])  <span class="comment"># 1</span></span><br><span class="line"><span class="comment"># print(a[1]) # KeyError:1</span></span><br><span class="line">b = {(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>): <span class="string">'test'</span>}</span><br><span class="line">print(b[(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)])  <span class="comment"># test</span></span><br><span class="line"><span class="comment"># c = {[1, 2, 3]: 'test'}</span></span><br><span class="line"><span class="comment"># print(c[[1, 2, 3]])  # TypeError: unhashable type: 'list'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(a.keys())  <span class="comment"># dict_keys(['x'])</span></span><br><span class="line">print(a.values())  <span class="comment"># dict_values([1])</span></span><br><span class="line">print(b.keys())  <span class="comment"># dict_keys([(1, 2, 3)])</span></span><br><span class="line">print(b.values())  <span class="comment"># dict_values(['test'])</span></span><br><span class="line"></span><br><span class="line">print(a.get(<span class="string">'x'</span>))  <span class="comment"># 1</span></span><br><span class="line">print(a.get(<span class="string">'x'</span>, <span class="number">4</span>))  <span class="comment"># 1 指定的键的值不存在，返回默认值</span></span><br><span class="line">print(a.get(<span class="number">4</span>))  <span class="comment"># None 指定的键的值不存在，返回默认值None</span></span><br><span class="line"></span><br><span class="line">print(b.get((<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)))  <span class="comment"># test</span></span><br><span class="line">print(b.get(<span class="string">'y'</span>))  <span class="comment"># None，指定键的值不存在时，返回该默认值None。</span></span><br><span class="line">print(b.get(<span class="string">'y'</span>, <span class="number">2</span>))  <span class="comment"># 2，如果指定键的值不存在时，返回该默认值2。</span></span><br></pre></td></tr></tbody></table></figure>

<p>dict有两种增加的方法<br>如果没有的键值对，则进行添加，如果有，则将值进行覆盖</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">dict1={<span class="string">'name'</span>:<span class="string">'Ashe'</span>,<span class="string">'age'</span>:<span class="number">18</span>,<span class="string">'male'</span>:<span class="string">'男'</span>}</span><br><span class="line">print(dict1)</span><br><span class="line">dict1[<span class="string">'high'</span>]=<span class="number">185</span></span><br><span class="line">print(dict1)  <span class="comment"># {'name': 'Ashe', 'age': 18, 'male': '男', 'high': 185}</span></span><br><span class="line">dict1[<span class="string">'age'</span>]=<span class="number">16</span></span><br><span class="line">print(dict1) <span class="comment">#  {'name': 'Ashe', 'age': 16, 'male': '男', 'high': 185}</span></span><br></pre></td></tr></tbody></table></figure>

<p>如果有键值对，不做任何改变，没有键值对，才进行添加</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">dict1 = {<span class="string">'name'</span>: <span class="string">'Ashe'</span>, <span class="string">'age'</span>: <span class="number">18</span>, <span class="string">'male'</span>: <span class="string">'男'</span>}</span><br><span class="line">dict1.setdefault(<span class="string">"weight"</span>)</span><br><span class="line">print(dict1)</span><br><span class="line"><span class="comment"># {'name': 'Ashe', 'age': 16, 'male': '男', 'high': 185, 'weight': None}</span></span><br><span class="line">dict1.setdefault(<span class="string">'weight'</span>, <span class="string">'65kg'</span>)</span><br><span class="line">print(dict1)</span><br><span class="line"><span class="comment"># {'name': 'Ashe', 'age': 16, 'male': '男', 'high': 185, 'weight': None}</span></span><br><span class="line">dict1.setdefault(<span class="string">'address'</span>, <span class="string">'北京'</span>)</span><br><span class="line">print(dict1)</span><br><span class="line"><span class="comment"># {'name': 'Ashe', 'age': 16, 'male': '男', 'high': 185, 'weight': None, 'address': '北京'}</span></span><br><span class="line">dict1.setdefault(<span class="string">'address'</span>, <span class="string">'桂林'</span>)</span><br><span class="line">print(dict1)</span><br><span class="line"><span class="comment"># {'name': 'Ashe', 'age': 16, 'male': '男', 'high': 185, 'weight': None, 'address': '北京'}</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">```py</span><br><span class="line">delDict={'name': 'Ashe', 'age': 16, 'male': '男', 'high': 185, 'weight': None, 'address': '北京'}</span><br><span class="line">print(delDict.pop('age'))  # 16</span><br><span class="line">print(delDict)  #{'name': 'Ashe', 'male': '男', 'high': 185, 'weight': None, 'address': '北京'}</span><br><span class="line">print(delDict.pop('职业','没有此键'))  #没有此键</span><br><span class="line"></span><br><span class="line">del a['x']  # 删除key</span><br><span class="line">print(a['y'])  # 2</span><br></pre></td></tr></tbody></table></figure>

<p><code>pop(key[,default])</code><br>删除字典给定键 key 所对应的值，返回值为被删除的值。<br>key: 要删除的键值<br>default: 如果没有 key，返回 default 值</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">site = {<span class="string">'name'</span>: <span class="string">'菜鸟教程'</span>, <span class="string">'alexa'</span>: <span class="number">10000</span>, <span class="string">'url'</span>: <span class="string">'www.runoob.com'</span>}</span><br><span class="line">pop_obj = site.pop(<span class="string">'name'</span>)</span><br><span class="line">print(pop_obj)  <span class="comment"># 菜鸟教程</span></span><br><span class="line"></span><br><span class="line">dict1 = {<span class="number">1</span>: <span class="string">"a"</span>, <span class="number">2</span>: [<span class="number">1</span>, <span class="number">2</span>]}</span><br><span class="line">print(dict1.pop(<span class="number">1</span>), dict1)</span><br><span class="line"><span class="comment"># a {2: [1, 2]}</span></span><br><span class="line">print(dict1.pop(<span class="number">3</span>, <span class="string">"nokey"</span>), dict1)  <span class="comment"># 设置默认值，必须添加，否则报错</span></span><br><span class="line"><span class="comment"># nokey {2: [1, 2]}</span></span><br><span class="line">print(dict1.pop(<span class="number">3</span>), dict1)  <span class="comment"># 没用设置默认值，报错</span></span><br><span class="line"><span class="comment"># Traceback (most recent call last):</span></span><br><span class="line"><span class="comment">#   print(dict1.pop(3), dict1)</span></span><br><span class="line"><span class="comment"># KeyError: 3</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">```py</span><br><span class="line">delDict = {</span><br><span class="line">    'name': 'Ashe',</span><br><span class="line">    'age': 16,</span><br><span class="line">    'male': '男',</span><br><span class="line">    'high': 185,</span><br><span class="line">    'weight': None,</span><br><span class="line">    'address': '北京'</span><br><span class="line">}</span><br><span class="line">print(delDict.pop('age'))  # 16</span><br><span class="line">print(delDict)</span><br><span class="line"># {'name': 'Ashe', 'male': '男', 'high': 185, 'weight': None, 'address': '北京'}</span><br><span class="line">print(delDict.pop('职业', '没有此键'))  # 没有此键</span><br><span class="line"></span><br><span class="line">print(delDict.popitem())  </span><br><span class="line"># ('address', '北京') 随机删除，返回值是删除的键值对</span><br><span class="line">print(delDict)  </span><br><span class="line"># {'name': 'Ashe', 'male': '男', 'high': 185, 'weight': None}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">```py</span><br><span class="line">delDict = {'name': 'Ashe', 'male': '男', 'high': 185, 'weight': None}</span><br><span class="line">del delDict['name']</span><br><span class="line">print(delDict)  # {'male': '男', 'high': 185, 'weight': None}</span><br><span class="line"></span><br><span class="line"># 使用del清空列表</span><br><span class="line">del delDict</span><br><span class="line">print(delDict)  # NameError: name 'delDict' is not defined</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight plain"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">```py</span><br><span class="line">delDict = {'name': 'Ashe', 'male': '男', 'high': 185, 'weight': None}</span><br><span class="line">print(delDict.clear())  # None</span><br><span class="line">print(delDict)  # {}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 修改字典</span></span><br><span class="line">x = {<span class="string">'a'</span>: <span class="number">1</span>, <span class="string">'b'</span>: <span class="number">2</span>}</span><br><span class="line">y = {<span class="string">'c'</span>: <span class="number">3</span>, <span class="string">'d'</span>: <span class="number">4</span>}</span><br><span class="line">x.update(y)  <span class="comment"># 这里注意我是直接改变的x变量，具体根据程序逻辑来定，可以用其它变量接受。</span></span><br><span class="line">print(x)  <span class="comment"># {'a': 1, 'b': 2, 'c': 3, 'd': 4}</span></span><br><span class="line"></span><br><span class="line">x = {<span class="string">'a'</span>: <span class="number">1</span>, <span class="string">'b'</span>: <span class="number">2</span>}</span><br><span class="line">y = {<span class="string">'a'</span>: <span class="number">3</span>, <span class="string">'d'</span>: <span class="number">4</span>}</span><br><span class="line">x.update(y)  <span class="comment"># 这里注意我是直接改变的x变量，具体根据程序逻辑来定，可以用其它变量接受。</span></span><br><span class="line">print(x)  <span class="comment"># {'a': 3, 'b': 2, 'd': 4}</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 字典合并的方法</span></span><br><span class="line">print(<span class="string">'===='</span>)</span><br><span class="line">x = {<span class="string">'a'</span>: <span class="number">1</span>, <span class="string">'b'</span>: <span class="number">2</span>}</span><br><span class="line">y = {<span class="string">'c'</span>: <span class="number">3</span>, <span class="string">'d'</span>: <span class="number">4</span>}</span><br><span class="line"><span class="comment"># 法一</span></span><br><span class="line">z = {}</span><br><span class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> x.items():</span><br><span class="line">    z[k] = v</span><br><span class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> y.items():</span><br><span class="line">    z[k] = v</span><br><span class="line">print(z)</span><br><span class="line"><span class="comment"># {'a': 1, 'b': 2, 'c': 3, 'd': 4}</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 法二</span></span><br><span class="line">q = {**x, **y}</span><br><span class="line">print(q)</span><br><span class="line"></span><br><span class="line">print(<span class="string">'^^^^^^^'</span>)</span><br><span class="line">a = {<span class="string">"A"</span>: <span class="number">1</span>, <span class="string">"B"</span>: <span class="number">2</span>}</span><br><span class="line">b = {<span class="string">"A"</span>: <span class="number">3</span>, <span class="string">"D"</span>: <span class="number">4</span>}</span><br><span class="line"></span><br><span class="line">print({**a, **b})</span><br><span class="line"><span class="comment"># {'A': 3, 'B': 2, 'D': 4}  # 这里取的是b中的A，即b覆盖了a</span></span><br><span class="line">print(<span class="string">'-----'</span>)</span><br><span class="line">print(dict(a, **b))</span><br><span class="line"><span class="comment"># {'A': 3, 'B': 2, 'D': 4}</span></span><br></pre></td></tr></tbody></table></figure>


<p>字符串</p>
<figure class="highlight plain"><figcaption><span>beg</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">```py</span><br><span class="line">str = "this is string example....wow!!!"</span><br><span class="line">print(str.startswith('this'))  </span><br><span class="line"># True 字符串是否以 this 开头</span><br><span class="line">print(str.startswith('string', 8))  </span><br><span class="line"># True 从第九个字符开始的字符串是否以 string 开头</span><br><span class="line">print(str.startswith('this', 2, 4))  </span><br><span class="line"># False 从第2个字符开始到第四个字符结束的字符串是否以 this 开头</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight plain"><figcaption><span>beg</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">beg -- 开始索引，默认为0。</span><br><span class="line">```py</span><br><span class="line">info = 'abca'</span><br><span class="line">print(info.find('a'))  # 0 从下标0开始，查找在字符串里第一个出现的子串</span><br><span class="line">print(info.find('a', 1))  # 3 从下标1开始，查找在字符串里第一个出现的子串</span><br><span class="line">print(info.find('3'))  # -1 查找不到</span><br><span class="line"></span><br><span class="line">str1 = "Runoob example....wow!!!"</span><br><span class="line">str2 = "exam"</span><br><span class="line"></span><br><span class="line">print(str1.find(str2))  # 7</span><br><span class="line">print(str1.find(str2, 5))  # 7  第2个参数5，表示从素引5的位置开始往后查找</span><br><span class="line">print(str1.find(str2, 10))  # -1</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight plain"><figcaption><span>方法用于截掉字符串左边的空格或指定字符。</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">```str.rstrip([chars])``` 方法用于截掉字符串右边的空格或指定字符。</span><br><span class="line"></span><br><span class="line">从左到右移除字符串的指定字符，</span><br><span class="line">```.strip()```无字符集参数或为 None 时 去除首位空格</span><br><span class="line">匹配时不是按照整个字符串匹配的，而是一个个匹配的。</span><br><span class="line">移除所有属于字符集子串的字符一旦不属于则停止移除并返回字符串副本。</span><br><span class="line"></span><br><span class="line">chars --指定截取的字符。</span><br><span class="line">返回截掉字符串左边的空格或指定字符后生成的新字符串。</span><br><span class="line"></span><br><span class="line">```.strip().strip(‘-a’)```去除首位空格和字符</span><br><span class="line"></span><br><span class="line">```py</span><br><span class="line">str = "     this is string example....wow!!!     "</span><br><span class="line">print(str.lstrip())</span><br><span class="line"># this is string example....wow!!!</span><br><span class="line"></span><br><span class="line">str = "88888888this is string example....wow!!!8888888"</span><br><span class="line">print(str.lstrip('8'))</span><br><span class="line"># this is string example....wow!!!8888888</span><br><span class="line"></span><br><span class="line">print('www.example.com'.lstrip('we.'))</span><br><span class="line"># xample.com</span><br><span class="line">print('www.example.com'.lstrip('we'))</span><br><span class="line"># '.example.com'</span><br><span class="line"></span><br><span class="line">print('www.example.com'.lstrip('e'))</span><br><span class="line"># 'www.example.com'</span><br><span class="line"></span><br><span class="line">print('www.example.com'.lstrip('cmowz.'))</span><br><span class="line"># 'example.com'</span><br><span class="line"></span><br><span class="line">print('www.example.com'.lstrip('cmoz.'))</span><br><span class="line"># 'www.example.com'</span><br><span class="line"></span><br><span class="line">message = "\tpython xue xi\t"</span><br><span class="line"># 每个单词的首字母大写的写法</span><br><span class="line">print(message.title())</span><br><span class="line"># 单词全部大写的写法</span><br><span class="line">print(message.upper())  </span><br><span class="line"># 单词全部小写的写法</span><br><span class="line">print(message.lower())  </span><br><span class="line"># 去除字符串前面的空白</span><br><span class="line">print(message.lstrip())</span><br><span class="line"># 去除字符串后面的空白</span><br><span class="line">print(message.rstrip())</span><br><span class="line"># 去除字符串两边的空白</span><br><span class="line">print(message.strip())</span><br><span class="line">#         Python Xue Xi</span><br><span class="line">#         PYTHON XUE XI</span><br><span class="line">#         python xue xi</span><br><span class="line"># python xue xi        </span><br><span class="line">#         python xue xi</span><br><span class="line"># python xue xi    </span><br></pre></td></tr></tbody></table></figure>

<p>S[:3]+S[5:] 拼接字符串，去除某个字符</p>
<figure class="highlight plain"><figcaption><span>替换字符</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">```re.sub(‘a’,’b’,s)``` 替换字符</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">```ord(a)```它以一个字符（长度为1）作为参数，返回对应的 ASCII 数值(返回值是对应的十进制整数)，或者 Unicode 数值，</span><br><span class="line">如果所给的 Unicode 字符超出了你的 Python 定义范围，则会引发一个 TypeError 的异常。</span><br><span class="line">因为python里不像C++那样两个字符相减可以求出ASCII数值差</span><br><span class="line"></span><br><span class="line">```chr(a)``` 函数（对于8位的ASCII字符串）或 unichr() 函数（对于Unicode对象）的配对函数 是ord的逆过程，将ASCII数值转化成该编码对应的字符</span><br><span class="line"></span><br><span class="line">```py</span><br><span class="line">print(ord(' '), type(ord(' ')))  # 32 &lt;class 'int'&gt; 空格的ascii码</span><br><span class="line">print(ord('0'))  # 48</span><br><span class="line">print(ord('1'))  # 49</span><br><span class="line">print(ord('2'))  # 50</span><br><span class="line">print(ord('2'), type(ord('2')))  # 50  &lt;class 'int'&gt;</span><br><span class="line">print(ord('3'))  # 51</span><br><span class="line"># print(ord('10')) TypeError: ord() expected a character, but string of length 2 found</span><br><span class="line">print(ord('A'))  # 65</span><br><span class="line">print(ord('B'))  # 66</span><br><span class="line">print(ord('C'))  # 67</span><br><span class="line">print(ord('a'))  # 97</span><br><span class="line">print(ord('b'))  # 98</span><br><span class="line">print(ord('c'))  # 99</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">print(chr(<span class="number">32</span>))  <span class="comment"># 空格</span></span><br><span class="line">print(chr(<span class="number">50</span>), type(chr(<span class="number">50</span>)))  <span class="comment"># 2  &lt;class 'str'&gt;</span></span><br><span class="line">print(chr(<span class="number">65</span>))  <span class="comment"># A</span></span><br><span class="line">print(chr(<span class="number">97</span>))  <span class="comment"># a</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">upper_letters = list(chr(x) <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">65</span>, <span class="number">91</span>))</span><br><span class="line">lower_letters = list(chr(x) <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">97</span>, <span class="number">123</span>))</span><br><span class="line">number = list(chr(x) <span class="keyword">for</span> x <span class="keyword">in</span> range(<span class="number">48</span>, <span class="number">58</span>))</span><br><span class="line"></span><br><span class="line">print(*upper_letters)</span><br><span class="line"><span class="comment"># A B C D E F G H I J K L M N O P Q R S T U V W X Y Z</span></span><br><span class="line">print(*lower_letters)</span><br><span class="line"><span class="comment"># a b c d e f g h i j k l m n o p q r s t u v w x y z</span></span><br><span class="line">print(*number)</span><br><span class="line"><span class="comment"># 0 1 2 3 4 5 6 7 8 9</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight plain"><figcaption><span>方法返回"标题化"的字符串，就是说所有单词的首个字母转化为大写，其余字母均为小写</span></figcaption><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">返回"标题化"的字符串,就是说所有单词的首字母都转化为大写。</span><br><span class="line"></span><br><span class="line">```py</span><br><span class="line">str = "this is string example from runoob....wow!!!"</span><br><span class="line">print(str.title())</span><br><span class="line"># This Is String Example From Runoob....Wow!!! </span><br></pre></td></tr></tbody></table></figure>

<p>非字母后的第一个字母将转换为大写字母：</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">txt = <span class="string">"hello b2b2b2 and 3g3g3g"</span></span><br><span class="line">print(txt.title())  <span class="comment"># Hello B2B2B2 And 3G3G3G</span></span><br></pre></td></tr></tbody></table></figure>

<p><code>str.split(str="", num=string.count(str))</code><br>通过指定分隔符对字符串进行切片，不是对列表对象切片<br>返回分割后的字符串列表。<br>如果第二个参数 num 有指定值，则分割为 num+1 个子字符串。<br>str – 分隔符，默认为所有的空字符，包括空格、换行(\n)、制表符(\t)等。<br>num – 分割次数。默认为 -1, 即分隔所有。</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">url = <span class="string">"http://www.baidu.com/python/image/123456.jpg"</span></span><br><span class="line">print(url.split())  <span class="comment"># 以空格为分隔符</span></span><br><span class="line"><span class="comment"># ['http://www.baidu.com/python/image/123456.jpg']</span></span><br><span class="line">print(url.split(<span class="string">"/"</span>))  <span class="comment"># 以“/” 进行分隔</span></span><br><span class="line"><span class="comment"># ['http:', '', 'www.baidu.com', 'python', 'image', '123456.jpg']</span></span><br><span class="line">print(url.split(<span class="string">'/'</span>, <span class="number">1</span>))  <span class="comment"># 以 / 为分隔符，分割为2个字符串列表</span></span><br><span class="line"><span class="comment"># ['http:', '/www.baidu.com/python/image/123456.jpg']</span></span><br><span class="line">print(url.split(<span class="string">"/"</span>)[<span class="number">-1</span>])  <span class="comment"># 分隔符分割后列表最后一个元素(字符串类型），图片名称的获取</span></span><br><span class="line"><span class="comment"># 123456.jpg</span></span><br><span class="line">print(url.split(<span class="string">"/"</span>)[<span class="number">0</span>])  <span class="comment"># 分隔符分割后列表第一个元素(字符串类型）</span></span><br><span class="line"><span class="comment"># http:</span></span><br><span class="line">print(url[<span class="number">1</span>:<span class="number">-1</span>], type(url[<span class="number">1</span>:<span class="number">-1</span>]))  <span class="comment"># 切片，去除第一个和最后一个元素</span></span><br><span class="line"><span class="comment"># ttp://www.baidu.com/python/image/123456.jp &lt;class 'str'&gt;</span></span><br><span class="line">print(url[<span class="number">1</span>:<span class="number">-1</span>].split(<span class="string">"/"</span>)[<span class="number">0</span>])  <span class="comment"># 列表第一个元素(字符串类型）</span></span><br><span class="line"><span class="comment"># ttp:</span></span><br><span class="line"></span><br><span class="line">url = <span class="string">"[http://www.baidu.com/python/image/123456.jpg]"</span></span><br><span class="line">print(url[:], type(url[:]))</span><br><span class="line"><span class="comment"># [http://www.baidu.com/python/image/123456.jpg] &lt;class 'str'&gt;</span></span><br><span class="line">print(url[:].split(<span class="string">"/"</span>)[<span class="number">0</span>])  <span class="comment"># 列表第一个元素(字符串类型）</span></span><br><span class="line"><span class="comment"># [http:</span></span><br><span class="line"></span><br><span class="line">data = <span class="string">'[1, 2, 3, null, 4, 5, null]'</span></span><br><span class="line">print(data[<span class="number">1</span>:<span class="number">-1</span>], type(data[<span class="number">1</span>:<span class="number">-1</span>]))</span><br><span class="line"><span class="comment"># 1, 2, 3, null, 4, 5, null &lt;class 'str'&gt;</span></span><br><span class="line">print(data[<span class="number">1</span>:<span class="number">-1</span>].split(<span class="string">','</span>), type(data[<span class="number">1</span>:<span class="number">-1</span>].split(<span class="string">','</span>)))</span><br><span class="line"><span class="comment"># ['1', ' 2', ' 3', ' null', ' 4', ' 5', ' null'] &lt;class 'list'&gt;</span></span><br></pre></td></tr></tbody></table></figure>

<p><code>str.splitlines([keepends])</code><br>按照行(‘\r’, ‘\r\n’, \n’)分隔，返回一个包含各行作为元素的列表，<br>keepends – 在输出结果里是否去掉换行符(‘\r’, ‘\r\n’, \n’)，<br>默认为 <code>False</code>，不包含换行符，<br>如果为 <code>True</code>，则保留换行符。</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">'ab c\n\nde fg\rkl\r\n'</span>.splitlines())</span><br><span class="line"><span class="comment"># ['ab c', '', 'de fg', 'kl']</span></span><br><span class="line">print(<span class="string">'ab c\n\nde fg\rkl\r\n'</span>.splitlines(<span class="literal">True</span>))</span><br><span class="line"><span class="comment"># ['ab c\n', '\n', 'de fg\r', 'kl\r\n']</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="39-sep-39-join-seq"><a href="#39-sep-39-join-seq" class="headerlink" title="'sep'.join(seq)"></a><code>'sep'.join(seq)</code></h3><p>以sep作为分隔符，将seq所有的元素合并成一个新的字符串<br>将字符串、元组、列表中的元素以指定的字符(分隔符)连接生成一个新的字符串</p>
<p>参数说明<br>sep：分隔符。string（字符串），可以为空<br>seq：要连接的元素列表、字符串、元组、字典<br>返回值：返回一个以分隔符sep连接各个元素后生成的字符串</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 对字符串进行操作</span></span><br><span class="line">print(<span class="string">':'</span>.join(<span class="string">"hello good boy "</span>))</span><br><span class="line"><span class="comment"># h:e:l:l:o: :g:o:o:d: :b:o:y:</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用字符串把字符串列表里的字符串连接起来</span></span><br><span class="line"><span class="comment"># 用空字符串''隔开</span></span><br><span class="line">print(<span class="string">''</span>.join([<span class="string">"hello"</span>, <span class="string">"world"</span>, <span class="string">"!"</span>]))  <span class="comment"># helloworld!</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用' '隔开，用空格</span></span><br><span class="line">print(<span class="string">' '</span>.join([<span class="string">"hello"</span>, <span class="string">"world"</span>, <span class="string">"!"</span>]))  <span class="comment"># hello world !</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用'-'隔开</span></span><br><span class="line">print(<span class="string">'-'</span>.join([<span class="string">"hello"</span>, <span class="string">"world"</span>, <span class="string">"!"</span>]))  <span class="comment"># hello-world-!</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对元组进行操作</span></span><br><span class="line">seq3 = (<span class="string">'hello'</span>, <span class="string">'good'</span>, <span class="string">'boy'</span>)</span><br><span class="line">print(<span class="string">':'</span>.join(seq3))</span><br><span class="line"><span class="comment"># hello:good:boy</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 对字典进行操作</span></span><br><span class="line">seq4 = {<span class="string">'hello'</span>: <span class="number">1</span>, <span class="string">'good'</span>: <span class="number">2</span>, <span class="string">'boy'</span>: <span class="number">3</span>}</span><br><span class="line">print(<span class="string">':'</span>.join(seq4))</span><br><span class="line"><span class="comment"># hello:good:boy</span></span><br></pre></td></tr></tbody></table></figure>

<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/18/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><span class="page-number current">19</span><a class="page-number" href="/page/20/">20</a><span class="space">&hellip;</span><a class="page-number" href="/page/25/">25</a><a class="extend next" rel="next" href="/page/20/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>
<script src="/js/comments.js"></script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">外心人D</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
