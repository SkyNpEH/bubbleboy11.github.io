<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.0.2">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.3/css/all.min.css">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<meta name="hexo-config" content="{&quot;hostname&quot;:&quot;bubbleboy11.github.io&quot;,&quot;root&quot;:&quot;/&quot;,&quot;images&quot;:&quot;/images&quot;,&quot;scheme&quot;:&quot;Muse&quot;,&quot;version&quot;:&quot;8.3.0&quot;,&quot;exturl&quot;:false,&quot;sidebar&quot;:{&quot;position&quot;:&quot;left&quot;,&quot;display&quot;:&quot;post&quot;,&quot;padding&quot;:18,&quot;offset&quot;:12},&quot;copycode&quot;:true,&quot;bookmark&quot;:{&quot;enable&quot;:false,&quot;color&quot;:&quot;#222&quot;,&quot;save&quot;:&quot;auto&quot;},&quot;fancybox&quot;:false,&quot;mediumzoom&quot;:false,&quot;lazyload&quot;:false,&quot;pangu&quot;:false,&quot;comments&quot;:{&quot;style&quot;:&quot;tabs&quot;,&quot;active&quot;:null,&quot;storage&quot;:true,&quot;lazyload&quot;:false,&quot;nav&quot;:null},&quot;motion&quot;:{&quot;enable&quot;:true,&quot;async&quot;:false,&quot;transition&quot;:{&quot;post_block&quot;:&quot;fadeIn&quot;,&quot;post_header&quot;:&quot;fadeInDown&quot;,&quot;post_body&quot;:&quot;fadeInDown&quot;,&quot;coll_header&quot;:&quot;fadeInLeft&quot;,&quot;sidebar&quot;:&quot;fadeInUp&quot;}},&quot;prism&quot;:false,&quot;i18n&quot;:{&quot;placeholder&quot;:&quot;搜索...&quot;,&quot;empty&quot;:&quot;没有找到任何搜索结果：${query}&quot;,&quot;hits_time&quot;:&quot;找到 ${hits} 个搜索结果（用时 ${time} 毫秒）&quot;,&quot;hits&quot;:&quot;找到 ${hits} 个搜索结果&quot;}}">
<meta name="description" content="本博客大多内容为慕课和网上博客，并非原创">
<meta property="og:type" content="website">
<meta property="og:title" content="外心人D的博客">
<meta property="og:url" content="https://bubbleboy11.github.io/index.html">
<meta property="og:site_name" content="外心人D的博客">
<meta property="og:description" content="本博客大多内容为慕课和网上博客，并非原创">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="外心人D">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://bubbleboy11.github.io/">



<meta name="hexo-config-page" content="{&quot;sidebar&quot;:&quot;&quot;,&quot;isHome&quot;:true,&quot;isPost&quot;:false,&quot;lang&quot;:&quot;zh-CN&quot;}">
<meta name="hexo-config-calendar" content="">
<script data-pjax src="/js/load-config.js"></script>
  <title>外心人D的博客</title>
  




  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
<link rel="alternate" href="/atom.xml" title="外心人D的博客" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism.css" type="text/css"></head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏" role="button">
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">外心人D的博客</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">外心人D</p>
  <div class="site-description" itemprop="description">本博客大多内容为慕课和网上博客，并非原创</div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives">
          <span class="site-state-item-count">311</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
        <span class="site-state-item-count">25</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
        <span class="site-state-item-count">40</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>



        </div>
      </div>
        <div class="back-to-top animated" role="button" aria-label="返回顶部">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">

    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2021/07/02/go-qie-pian/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/07/02/go-qie-pian/" class="post-title-link" itemprop="url">go切片</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-07-01 16:21:41" itemprop="dateCreated datePublished" datetime="2021-07-01T16:21:41Z">2021-07-01</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-07-02 05:02:37" itemprop="dateModified" datetime="2021-07-02T05:02:37Z">2021-07-02</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/go/" itemprop="url" rel="index"><span itemprop="name">go</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h3 id="切片"><a href="#切片" class="headerlink" title="切片"></a>切片</h3><p>Go 数组的长度不可改变，在特定场景中这样的集合就不太适用，</p>
<p>Go中提供了一种灵活，功能强悍的内置类型切片(“动态数组”)，与数组相比切片的长度是不固定的，<br>可以追加元素，在追加时可能使切片的容量增大</p>
<p>Go的切片类型为处理同类型数据序列提供一个方便而高效的方式。<br>切片有些类似于其他语言中的数组，slice对标的就是python中list，但是有一些不同寻常的特性。</p>
<h3 id="定义切片"><a href="#定义切片" class="headerlink" title="定义切片"></a>定义切片</h3><p>第一种方法： var identifier []type</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// var courses []string // 定义了一个切片</span></span><br><span class="line"><span class="keyword">var</span> courses = []<span class="keyword">string</span>{<span class="string">"django"</span>, <span class="string">"scrapy"</span>, <span class="string">"tornado"</span>}</span><br><span class="line">fmt.Printf(<span class="string">"%T"</span>, courses) <span class="comment">// []string</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="第二种-使用make"><a href="#第二种-使用make" class="headerlink" title="第二种 使用make"></a>第二种 使用make</h4><p>切片不是没有长度限制，为什么使用make初始化的需要我们传递一个长度，<br>那我传递了长度之后是不是意味着就像数组一样长度不能变了呢？</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> slice1 []<span class="keyword">type</span> = <span class="built_in">make</span>([]<span class="keyword">type</span>, <span class="built_in">len</span>)</span><br><span class="line"></span><br><span class="line">slice1 := <span class="built_in">make</span>([]<span class="keyword">type</span>, <span class="built_in">len</span>)</span><br><span class="line"></span><br><span class="line">courses := <span class="built_in">make</span>([]<span class="keyword">string</span>, <span class="number">5</span>)</span><br><span class="line">fmt.Printf(<span class="string">"%T"</span>, courses) <span class="comment">// []string</span></span><br><span class="line">fmt.Println(<span class="built_in">len</span>(courses)) <span class="comment">// 5</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="第三种，通过对数组操作返回一个切片"><a href="#第三种，通过对数组操作返回一个切片" class="headerlink" title="第三种，通过对数组操作返回一个切片"></a>第三种，通过对数组操作返回一个切片</h4><p>python中切片的用法非常的多非常的灵活B=,[:-1] [::-1] go都不能用<br>python中的用法叫切片 go语言中切片是一种数据结构</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// course := [5]string{"django", "tornado", "scrapy", "python", "asyncio"}</span></span><br><span class="line"><span class="keyword">var</span> courses = [<span class="number">5</span>]<span class="keyword">string</span>{<span class="string">"django"</span>, <span class="string">"scrapy"</span>, <span class="string">"tornado"</span>, <span class="string">"python"</span>, <span class="string">"asyncio"</span>}</span><br><span class="line">subCourse := courses[<span class="number">1</span>:<span class="number">4</span>]</span><br><span class="line">fmt.Println(courses)        <span class="comment">// [django scrapy tornado python asyncio]</span></span><br><span class="line">subCourse[<span class="number">0</span>] = <span class="string">"bobby"</span>      <span class="comment">// 修改切片，原数组会一样改变，引用传递，</span></span><br><span class="line">fmt.Println(courses)        <span class="comment">// [django bobby tornado python asyncio]</span></span><br><span class="line">fmt.Println(subCourse)      <span class="comment">// [bobby tornado python]</span></span><br><span class="line">fmt.Printf(<span class="string">"%T"</span>, subCourse) <span class="comment">// []string</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">replace</span><span class="params">(mySlice []<span class="keyword">string</span>)</span></span> {</span><br><span class="line">    mySlice[<span class="number">0</span>] = <span class="string">"bobby"</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="keyword">var</span> courses = [<span class="number">5</span>]<span class="keyword">string</span>{<span class="string">"django"</span>, <span class="string">"scrapy"</span>, <span class="string">"tornado"</span>, <span class="string">"python"</span>, <span class="string">"asyncio"</span>}</span><br><span class="line">    subCourse := courses[<span class="number">1</span>:<span class="number">4</span>] <span class="comment">// python中的用法叫切片 go语言中切片是一种数据结构</span></span><br><span class="line">    fmt.Println(subCourse) <span class="comment">// [scrapy tornado python]</span></span><br><span class="line">    fmt.Println(courses)   <span class="comment">// [django scrapy tornado python asyncio]</span></span><br><span class="line">    replace(subCourse)</span><br><span class="line">    fmt.Printf(<span class="string">"%T"</span>, subCourse) <span class="comment">// []string</span></span><br><span class="line">    fmt.Println(subCourse)      <span class="comment">// [bobby tornado python]</span></span><br><span class="line">    fmt.Println(courses)        <span class="comment">// [django bobby tornado python asyncio] 第二个已经变了</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="切片初始化"><a href="#切片初始化" class="headerlink" title="切片初始化"></a>切片初始化</h3><p>创建 slice 的方式有以下几种：<br>序号    方式    代码示例<br>1    直接声明    var slice []int<br>2    new    slice := *new([]int)<br>3    字面量    slice := []int{1,2,3,4,5}<br>4    make    slice := make([]int, 5, 10)<br>5    从切片或数组“截取”    slice := array[1:5]<br> 或 slice := sourceSlice[1:5]</p>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2021/07/02/go-shu-zu/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/07/02/go-shu-zu/" class="post-title-link" itemprop="url">go数组</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-07-01 16:21:41" itemprop="dateCreated datePublished" datetime="2021-07-01T16:21:41Z">2021-07-01</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-07-02 02:20:07" itemprop="dateModified" datetime="2021-07-02T02:20:07Z">2021-07-02</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/go/" itemprop="url" rel="index"><span itemprop="name">go</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>机器学习的同学对python的numpy array应该很了解，但是做web开发的同学对python的array使用的不多<br>Go 语言提供了数组类型的数据结构。<br>数组是具有相同唯一类型的一组已编号且长度固定的数据项序列，这种类型可以是任意的原始类型例如整形、字符串或者自定义类型。</p>
<p>数组元素可以通过索引（位置）来读取（或者修改），索引从0开始，第一个元素索引为 0，第二个索引为 1，以此类推。数组的下标取值范围是从0开始，到长度减1。<br>数组一旦定义后，大小不能更改。</p>
<p>相对于去声明 number0, number1, …, number99 的变量，使用数组形式 numbers[0], numbers[1] …, numbers[99] 更加方便且易于扩展。<br>数组元素可以通过索引（位置）来读取（或者修改），索引从 0 开始，第一个元素索引为 0，第二个索引为 1，以此类推。</p>
<h4 id="声明和初始化数组"><a href="#声明和初始化数组" class="headerlink" title="声明和初始化数组"></a>声明和初始化数组</h4><p>需要指明数组的大小和存储的数据类型。</p>
<p>go语言中的数组和python的list可以对应起来理解，slice和python的list更像</p>
<p>静态语言中的数组： 1. 大小确定，不可变 2. 类型一致<br>初始化数组中 {} 中的元素个数不能大于 [] 中的数字。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//var course [10]string /* n 是一个长度为 10 的数组 *</span></span><br><span class="line"><span class="comment">//var course = [5]string{"django", "scrapy", "tornado"}</span></span><br><span class="line">course := [<span class="number">5</span>]<span class="keyword">string</span>{<span class="string">"django"</span>, <span class="string">"scrapy"</span>, <span class="string">"tornado"</span>}</span><br><span class="line"></span><br><span class="line"><span class="comment">//1. 修改值， 取值： 删除值， 添加某一个值， 数组一开始就要指定大小</span></span><br><span class="line"><span class="comment">//取值， 修改值</span></span><br><span class="line">fmt.Println(course[<span class="number">0</span>]) <span class="comment">// django</span></span><br><span class="line"><span class="comment">//修改值</span></span><br><span class="line">course[<span class="number">0</span>] = <span class="string">"django3"</span></span><br><span class="line">fmt.Println(course) <span class="comment">// [django3 scrapy tornado  ]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//数组的另一种创建方式</span></span><br><span class="line"><span class="keyword">var</span> a [<span class="number">4</span>]<span class="keyword">float32</span> <span class="comment">// 等价于：var a = [4]float32{}</span></span><br><span class="line">fmt.Println(a) <span class="comment">// [0 0 0 0]</span></span><br><span class="line"><span class="keyword">var</span> b = [<span class="number">4</span>]<span class="keyword">float32</span>{<span class="number">1.0</span>}</span><br><span class="line">fmt.Println(b) <span class="comment">// [1 0 0 0]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> c = [<span class="number">5</span>]<span class="keyword">int</span>{<span class="string">'A'</span>, <span class="string">'B'</span>} <span class="comment">// byte</span></span><br><span class="line">fmt.Println(c) <span class="comment">// [65 66 0 0 0]</span></span><br></pre></td></tr></tbody></table></figure>

<p>如果忽略 [] 中的数字不设置数组大小，Go 语言会根据元素的个数来设置数组的大小：</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> balance = []<span class="keyword">float32</span>{<span class="number">1000.0</span>, <span class="number">2.0</span>, <span class="number">3.4</span>, <span class="number">7.0</span>, <span class="number">50.0</span>}</span><br><span class="line"></span><br><span class="line">balance[<span class="number">4</span>] = <span class="number">50.0</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="访问数组元素"><a href="#访问数组元素" class="headerlink" title="访问数组元素"></a>访问数组元素</h4><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="keyword">var</span> n [<span class="number">10</span>]<span class="keyword">int</span> <span class="comment">/* n 是一个长度为 10 的数组 */</span></span><br><span class="line">    <span class="keyword">var</span> i, j <span class="keyword">int</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 为数组 n 初始化元素 */</span></span><br><span class="line">    <span class="keyword">for</span> i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ {</span><br><span class="line">        n[i] = i + <span class="number">100</span> <span class="comment">/* 设置元素为 i + 100 */</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* 输出每个数组元素的值 */</span></span><br><span class="line">    <span class="keyword">for</span> j = <span class="number">0</span>; j &lt; <span class="number">10</span>; j++ {</span><br><span class="line">        fmt.Printf(<span class="string">"Element[%d] = %d\n"</span>, j, n[j])</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight angelscript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Element[<span class="number">0</span>] = <span class="number">100</span></span><br><span class="line">Element[<span class="number">1</span>] = <span class="number">101</span></span><br><span class="line">Element[<span class="number">2</span>] = <span class="number">102</span></span><br><span class="line">Element[<span class="number">3</span>] = <span class="number">103</span></span><br><span class="line">Element[<span class="number">4</span>] = <span class="number">104</span></span><br><span class="line">Element[<span class="number">5</span>] = <span class="number">105</span></span><br><span class="line">Element[<span class="number">6</span>] = <span class="number">106</span></span><br><span class="line">Element[<span class="number">7</span>] = <span class="number">107</span></span><br><span class="line">Element[<span class="number">8</span>] = <span class="number">108</span></span><br><span class="line">Element[<span class="number">9</span>] = <span class="number">109</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="数组的长度"><a href="#数组的长度" class="headerlink" title="数组的长度"></a>数组的长度</h4><p>通过将数组作为参数传递给<code>len</code>函数，可以获得数组的长度。</p>
<p>忽略声明中数组的长度并将其替换为<code>…</code> ，数组的长度大小根据初始化的元素的个数确定，让编译器为你找到长度。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">e := [<span class="number">5</span>]<span class="keyword">int</span>{<span class="number">4</span>: <span class="number">100</span>} <span class="comment">// 下标第四个的值设为100，其他为默认值</span></span><br><span class="line">fmt.Println(e)      <span class="comment">// [0 0 0 0 100]</span></span><br><span class="line">fmt.Println(<span class="built_in">len</span>(e))          <span class="comment">// 5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ... makes the compiler determine the length</span></span><br><span class="line">d := [...]<span class="keyword">int</span>{<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>} <span class="comment">// 不写省略号是切片</span></span><br><span class="line">fmt.Println(d)               <span class="comment">// [1 2 3 4 5]</span></span><br><span class="line">fmt.Println(<span class="built_in">len</span>(d))          <span class="comment">// 5</span></span><br><span class="line"></span><br><span class="line">f := [...]<span class="keyword">int</span>{<span class="number">0</span>: <span class="number">1</span>, <span class="number">4</span>: <span class="number">1</span>, <span class="number">9</span>: <span class="number">100</span>}</span><br><span class="line">fmt.Println(f) <span class="comment">// [1 0 0 0 1 0 0 0 0 100]</span></span><br><span class="line">fmt.Println(<span class="built_in">len</span>(f)) <span class="comment">// 10</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="使用range遍历数组"><a href="#使用range遍历数组" class="headerlink" title="使用range遍历数组"></a>使用range遍历数组</h4><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">course := [<span class="number">5</span>]<span class="keyword">string</span>{<span class="string">"django"</span>, <span class="string">"scrapy"</span>, <span class="string">"tornado"</span>}</span><br><span class="line"><span class="keyword">for</span> i, value := <span class="keyword">range</span> course {</span><br><span class="line">    fmt.Println(i, value)</span><br><span class="line">    <span class="comment">//0 django</span></span><br><span class="line">    <span class="comment">//1 scrapy</span></span><br><span class="line">    <span class="comment">//2 tornado</span></span><br><span class="line">    <span class="comment">//3</span></span><br><span class="line">    <span class="comment">//4</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">f := [...]<span class="keyword">int</span>{<span class="number">0</span>: <span class="number">1</span>, <span class="number">4</span>: <span class="number">1</span>, <span class="number">9</span>: <span class="number">100</span>}</span><br><span class="line">sum := <span class="number">0</span></span><br><span class="line"><span class="comment">// 使用for range求和 只需要值并希望忽略索引</span></span><br><span class="line"><span class="keyword">for</span> _, value := <span class="keyword">range</span> f { <span class="comment">//ignores index</span></span><br><span class="line">    sum += value</span><br><span class="line">}</span><br><span class="line">fmt.Println(sum) <span class="comment">// 102</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a := [...]<span class="keyword">float64</span>{<span class="number">67.7</span>, <span class="number">89.8</span>, <span class="number">21</span>, <span class="number">78</span>}</span><br><span class="line">sum := <span class="keyword">float64</span>(<span class="number">0</span>)</span><br><span class="line"><span class="keyword">for</span> i, v := <span class="keyword">range</span> a { <span class="comment">//range returns both the index and value</span></span><br><span class="line">    fmt.Printf(<span class="string">"%d the element of a is %.2f\n"</span>, i, v)</span><br><span class="line">    sum += v</span><br><span class="line">}</span><br><span class="line">fmt.Println(<span class="string">"\nsum of all elements of a"</span>, sum)</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight basic"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">0 </span>the element of a is <span class="number">67.70</span></span><br><span class="line"><span class="symbol">1 </span>the element of a is <span class="number">89.80</span></span><br><span class="line"><span class="symbol">2 </span>the element of a is <span class="number">21.00</span></span><br><span class="line"><span class="symbol">3 </span>the element of a is <span class="number">78.00</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="使用for语句也可以遍历数组"><a href="#使用for语句也可以遍历数组" class="headerlink" title="使用for语句也可以遍历数组"></a>使用for语句也可以遍历数组</h4><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">a := [...]<span class="keyword">float64</span>{<span class="number">67.7</span>, <span class="number">89.8</span>, <span class="number">21</span>, <span class="number">78</span>}</span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(a); i++ { <span class="comment">//looping from 0 to the length of the array</span></span><br><span class="line">    fmt.Printf(<span class="string">"%d th element of a is %.2f\n"</span>, i, a[i])</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight basic"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">0 </span>th element of a is <span class="number">67.70</span></span><br><span class="line"><span class="symbol">1 </span>th element of a is <span class="number">89.80</span></span><br><span class="line"><span class="symbol">2 </span>th element of a is <span class="number">21.00</span></span><br><span class="line"><span class="symbol">3 </span>th element of a is <span class="number">78.00</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">course := [<span class="number">5</span>]<span class="keyword">string</span>{<span class="string">"django"</span>, <span class="string">"scrapy"</span>, <span class="string">"tornado"</span>}</span><br><span class="line">f := [...]<span class="keyword">int</span>{<span class="number">0</span>: <span class="number">1</span>, <span class="number">4</span>: <span class="number">1</span>, <span class="number">9</span>: <span class="number">100</span>}</span><br><span class="line">fmt.Println(<span class="built_in">len</span>(course)) <span class="comment">// 5</span></span><br><span class="line">sum = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(course); i++ {</span><br><span class="line">    sum += f[i]</span><br><span class="line">}</span><br><span class="line">fmt.Println(sum) <span class="comment">// 2</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="数组是值类型"><a href="#数组是值类型" class="headerlink" title="数组是值类型"></a>数组是值类型</h4><p>数组是值类型 Go中的数组是值类型、深拷贝，而不是python java 的引用类型。<br>在go语言中函数传递参数的时候，数组作为参数 实际调用的时候是值传递<br>这意味着当它们被分配给一个新变量时，将把<strong>原始数组的副本</strong>分配给新变量。<strong>如果对新变量进行了更改，则不会在原始数组中反映</strong>。</p>
<p>数组的大小是类型的一部分。长度不一样的数组类型是不一样，因此[5]int和[25]int是不同的类型。因此，数组不能被调整大小。不要担心这个限制，因为切片的存在是为了解决这个问题。</p>
<p>如果courseA和courseB是一种类型的话 为什么前面要加一个数组，</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a := [...]<span class="keyword">string</span>{<span class="string">"USA"</span>, <span class="string">"China"</span>, <span class="string">"India"</span>, <span class="string">"Germany"</span>, <span class="string">"France"</span>}</span><br><span class="line">b := a <span class="comment">// a deep copy of a is assigned to b</span></span><br><span class="line">b[<span class="number">0</span>] = <span class="string">"Singapore"</span></span><br><span class="line">fmt.Println(<span class="string">"a is "</span>, a)</span><br><span class="line"><span class="comment">// a is  [USA China India Germany France]</span></span><br><span class="line">fmt.Println(<span class="string">"b is "</span>, b)</span><br><span class="line"><span class="comment">// b is  [Singapore China India Germany France]</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printArray</span><span class="params">(toPrint [5]<span class="keyword">string</span>)</span></span> {</span><br><span class="line">    toPrint[<span class="number">0</span>] = <span class="string">"bobby"</span></span><br><span class="line">    fmt.Println(toPrint)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    courseA := [<span class="number">3</span>]<span class="keyword">string</span>{<span class="string">"django"</span>, <span class="string">"scrapy"</span>, <span class="string">"tornado"</span>}</span><br><span class="line">    courseB := [...]<span class="keyword">string</span>{<span class="string">"django1"</span>, <span class="string">"scrapy1"</span>, <span class="string">"tornado1"</span>, <span class="string">"python+go"</span>, <span class="string">"asyncio"</span>}</span><br><span class="line">    <span class="comment">//courseA和courseB应该是同一种类型， 都是数组类型</span></span><br><span class="line">    <span class="comment">//在go语言中，courseA和courseB都是数组，但是不是同一种类型、长度不一样</span></span><br><span class="line">    fmt.Printf(<span class="string">"%T\n"</span>, courseA) <span class="comment">// [3]string</span></span><br><span class="line">    fmt.Printf(<span class="string">"%T\n"</span>, courseB) <span class="comment">// [5]string</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//printArray(courseA) // cannot use courseA (type [3]string) as type [5]string in argument to printArray</span></span><br><span class="line">    printArray(courseB)</span><br><span class="line">    <span class="comment">// [bobby scrapy1 tornado1 python+go asyncio]</span></span><br><span class="line">    fmt.Println(courseB)</span><br><span class="line">    <span class="comment">// [django1 scrapy1 tornado1 python+go asyncio]</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    a := [<span class="number">3</span>]<span class="keyword">int</span>{<span class="number">5</span>, <span class="number">78</span>, <span class="number">8</span>}</span><br><span class="line">    <span class="keyword">var</span> b [<span class="number">5</span>]<span class="keyword">int</span></span><br><span class="line">    b = a <span class="comment">//not possible since [3]int and [5]int are distinct types</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">var</span> al []<span class="keyword">int</span>     <span class="comment">//创建slice</span></span><br><span class="line">    <span class="comment">//sl := make([]int,10)  // 创建有10个元素的slice</span></span><br><span class="line">    sl:=[<span class="number">3</span>]<span class="keyword">int</span>{<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>} <span class="comment">// 创建有初始化元素的slice</span></span><br><span class="line">    s2:=[<span class="number">4</span>]<span class="keyword">int</span>{<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>} <span class="comment">// 创建有初始化元素的slice</span></span><br><span class="line">    fmt.Printf(<span class="string">"%T, %T, %T"</span>, al, sl, s2)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2021/07/01/go-de-for-xun-huan/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/07/01/go-de-for-xun-huan/" class="post-title-link" itemprop="url">go的for循环</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2021-06-30 16:21:41 / 修改时间：12:05:29" itemprop="dateCreated datePublished" datetime="2021-06-30T16:21:41Z">2021-06-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/go/" itemprop="url" rel="index"><span itemprop="name">go</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Go 语言的 For 循环有 3 种形式，只有其中的一种使用分号。</p>
<p>与if语句相同，Go语言的for循环与C语言也有如下区别:</p>
<p>for的条件不需要用括号<code>()</code>括住<br>for的代码块必须加上大括号<code>{}</code>括住，就算只有一行语句</p>
<p>和 C 语言的 <code>for</code> 一样：</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> init; condition; post { }</span><br></pre></td></tr></tbody></table></figure>

<p>和 C 的 <code>while</code> 一样，令for循环的前置或后置语句为空，只添加条件：</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> condition { }</span><br></pre></td></tr></tbody></table></figure>

<p>和 C 的 <code>for(;;)</code> 一样，以让前置、条件和后置语句皆为空，这样相当于<code>for true</code>无限循环：</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> {</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li><code>init</code>： 一般为赋值表达式，给控制变量赋初值； 前置语句中声明的变量作用域也仅限于for内</li>
<li><code>condition</code>： 关系表达式或逻辑表达式，循环控制条件；</li>
<li><code>post</code>： 一般为赋值表达式，给控制变量增量或减量。</li>
</ul>
<h4 id="for语句执行过程"><a href="#for语句执行过程" class="headerlink" title="for语句执行过程"></a>for语句执行过程</h4><p>1、先对表达式 1 赋初值；<br>2、判别赋值表达式 init 是否满足给定条件，若其值为真，满足循环条件，则执行循环体内语句，然后执行 post，进入第二次循环，再判别 condition；否则判断 condition 的值为假，不满足条件，就终止for循环，执行循环体外语句。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//for init; condition; post { } 计算1-10的和</span></span><br><span class="line">sum := <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">1</span>; i&lt;=<span class="number">10</span>; i++ {</span><br><span class="line">   sum += i</span><br><span class="line"></span><br><span class="line">fmt.Println(sum) <span class="comment">// 55</span></span><br></pre></td></tr></tbody></table></figure>

<ol>
<li>i := 1</li>
<li>是否 i&lt;=10</li>
<li>sum = 1</li>
<li>i ++  -&gt; i = 2</li>
<li>是否 i &lt;= 10</li>
<li>sum = 3</li>
<li>i++ … i=11</li>
</ol>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">i := <span class="number">1</span></span><br><span class="line"><span class="keyword">for</span> i &lt;= <span class="number">10</span> { <span class="comment">// 等同于 for ; i &lt;= 10; {</span></span><br><span class="line">   fmt.Println(<span class="string">"bobby"</span>)</span><br><span class="line">   i++</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">i := <span class="number">1</span></span><br><span class="line"><span class="keyword">for</span> ; i &lt;= <span class="number">10</span>; i++ {</span><br><span class="line">    fmt.Println(<span class="string">"bobby"</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>死循环</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> ; ; {</span><br><span class="line">    fmt.Println(<span class="string">'sum'</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> {</span><br><span class="line">    fmt.Println(<span class="string">'sum'</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h3 id="for-循环的-range-格式"><a href="#for-循环的-range-格式" class="headerlink" title="for 循环的 range 格式"></a>for 循环的 <code>range</code> 格式</h3><p>可以对 slice、map、数组、字符串等进行迭代循环。<br>在做字符串遍历的时候要尽量使用range<br>格式如下</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> key, value := <span class="keyword">range</span> oldMap {</span><br><span class="line">    newMap[key] = value</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">st := <span class="string">"bobby:慕课网"</span></span><br><span class="line"><span class="keyword">for</span> index, value := <span class="keyword">range</span> st {</span><br><span class="line">    <span class="comment">// 数字是字符对应的ascii</span></span><br><span class="line">    fmt.Println(index, value)</span><br><span class="line">    <span class="comment">//0 98</span></span><br><span class="line">    <span class="comment">//1 111</span></span><br><span class="line">    <span class="comment">//2 98</span></span><br><span class="line">    <span class="comment">//3 98</span></span><br><span class="line">    <span class="comment">//4 121</span></span><br><span class="line">    <span class="comment">//5 58</span></span><br><span class="line">    <span class="comment">//6 24917</span></span><br><span class="line">    <span class="comment">//9 35838</span></span><br><span class="line">    <span class="comment">//12 32593</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">st := <span class="string">"bobby:慕课网"</span></span><br><span class="line"><span class="comment">//for index, value := range st {</span></span><br><span class="line"><span class="keyword">for</span> _, value := <span class="keyword">range</span> st {</span><br><span class="line">    <span class="comment">// 显示原字符串</span></span><br><span class="line">    fmt.Printf(<span class="string">"%c"</span>, value)</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">st := <span class="string">"bobby:慕课网"</span></span><br><span class="line"><span class="comment">//for index, value := range st {</span></span><br><span class="line"><span class="keyword">for</span> _, value := <span class="keyword">range</span> st {</span><br><span class="line">    <span class="comment">// 遍历字符串</span></span><br><span class="line">      fmt.Printf(<span class="string">"%c\n"</span>, value)</span><br><span class="line">    <span class="comment">//55</span></span><br><span class="line">    <span class="comment">//b</span></span><br><span class="line">    <span class="comment">//o</span></span><br><span class="line">    <span class="comment">//b</span></span><br><span class="line">    <span class="comment">//b</span></span><br><span class="line">    <span class="comment">//y</span></span><br><span class="line">    <span class="comment">//:</span></span><br><span class="line">    <span class="comment">//慕</span></span><br><span class="line">    <span class="comment">//课</span></span><br><span class="line">    <span class="comment">//网</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1. st是一个字符串， 2. 字符串是字符的数组</span></span><br><span class="line">fmt.Printf(st)     <span class="comment">// bobby:慕课网</span></span><br><span class="line">fmt.Println(st[<span class="number">0</span>]) <span class="comment">// 98</span></span><br><span class="line"><span class="comment">//fmt.Printf(st[0])         // cannot use st[0] (type byte) as type string in argument to fmt.Printf</span></span><br><span class="line">fmt.Printf(<span class="string">"%c\n"</span>, st[<span class="number">0</span>]) <span class="comment">// b</span></span><br><span class="line">fmt.Printf(<span class="string">"%c\n"</span>, st[<span class="number">6</span>]) <span class="comment">// æ</span></span><br><span class="line">fmt.Println(<span class="built_in">len</span>(st))      <span class="comment">// 15</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// rune数组解决中文编码utf</span></span><br><span class="line">name_arr := []<span class="keyword">rune</span>(st)</span><br><span class="line">fmt.Println(<span class="built_in">len</span>(name_arr)) <span class="comment">// 9</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="built_in">len</span>(name_arr); i++ {</span><br><span class="line">    fmt.Printf(<span class="string">"%c\n"</span>, name_arr[i])</span><br><span class="line">    <span class="comment">//b</span></span><br><span class="line">    <span class="comment">//o</span></span><br><span class="line">    <span class="comment">//b</span></span><br><span class="line">    <span class="comment">//b</span></span><br><span class="line">    <span class="comment">//y</span></span><br><span class="line">    <span class="comment">//:</span></span><br><span class="line">    <span class="comment">//慕</span></span><br><span class="line">    <span class="comment">//课</span></span><br><span class="line">    <span class="comment">//网</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>


<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    strings := []<span class="keyword">string</span>{<span class="string">"bobby"</span>, <span class="string">"imooc"</span>}</span><br><span class="line">    <span class="keyword">for</span> i, s := <span class="keyword">range</span> strings {</span><br><span class="line">        fmt.Println(i, s)</span><br><span class="line">        <span class="comment">//0 bobby</span></span><br><span class="line">        <span class="comment">//1 imooc</span></span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    numbers := [<span class="number">6</span>]<span class="keyword">int</span>{<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>}</span><br><span class="line">    <span class="keyword">for</span> i, x := <span class="keyword">range</span> numbers {</span><br><span class="line">        fmt.Printf(<span class="string">"第 %d 位 x 的值 = %d\n"</span>, i, x)</span><br><span class="line">        <span class="comment">//第 0 位 x 的值 = 1</span></span><br><span class="line">        <span class="comment">//第 1 位 x 的值 = 2</span></span><br><span class="line">        <span class="comment">//第 2 位 x 的值 = 3</span></span><br><span class="line">        <span class="comment">//第 3 位 x 的值 = 5</span></span><br><span class="line">        <span class="comment">//第 4 位 x 的值 = 0</span></span><br><span class="line">        <span class="comment">//第 5 位 x 的值 = 0</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2021/07/01/go-de-goto/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/07/01/go-de-goto/" class="post-title-link" itemprop="url">go的goto跳转转移语句</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2021-06-30 16:21:41 / 修改时间：14:46:55" itemprop="dateCreated datePublished" datetime="2021-06-30T16:21:41Z">2021-06-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/go/" itemprop="url" rel="index"><span itemprop="name">go</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>Go 语言的 goto 语句通过标签进行代码间的无条件地转移到过程中指定的行</p>
<p>goto 语句通常与条件语句配合使用。可用来实现条件转移， 构成循环，跳出循环体、避免重复退出等功能</p>
<p>但是，在结构化程序设计中一般不主张使用 goto 语句， 以免造成程序流程的混乱，使理解和调试程序都产生困难。<br>goto能不能则不用，goto过多， label过多，整个程序到后期维护就会麻烦<br>最容易理解的代码逐行的执行，哪怕多一个函数的调用对于我们都是理解上的负担</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">goto</span> label;</span><br><span class="line">..</span><br><span class="line">.</span><br><span class="line">label: statement;</span><br></pre></td></tr></tbody></table></figure>

<p>在变量 a 等于 15 的时候跳过本次循环并回到循环的开始语句 LOOP 处</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 定义局部变量 */</span></span><br><span class="line"><span class="keyword">var</span> a <span class="keyword">int</span> = <span class="number">10</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 循环 */</span></span><br><span class="line">LOOP:</span><br><span class="line">    <span class="keyword">for</span> a &lt; <span class="number">20</span> {</span><br><span class="line">        <span class="keyword">if</span> a == <span class="number">15</span> {</span><br><span class="line">            <span class="comment">/* 跳过迭代 */</span></span><br><span class="line">            a = a + <span class="number">1</span></span><br><span class="line">            <span class="keyword">goto</span> LOOP <span class="comment">// 跳过15行的打印</span></span><br><span class="line">        }</span><br><span class="line">        fmt.Printf(<span class="string">"a的值为 : %d\n"</span>, a)</span><br><span class="line">        a++</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight ada"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">a的值为 : 10</span><br><span class="line">a的值为 : 11</span><br><span class="line">a的值为 : 12</span><br><span class="line">a的值为 : 13</span><br><span class="line">a的值为 : 14</span><br><span class="line">a的值为 : 16</span><br><span class="line">a的值为 : 17</span><br><span class="line">a的值为 : 18</span><br><span class="line">a的值为 : 19</span><br></pre></td></tr></tbody></table></figure>

<h3 id="退出多层循环"><a href="#退出多层循环" class="headerlink" title="退出多层循环"></a>退出多层循环</h3><p>下面这段代码在满足条件时，需要连续退出两层循环，使用传统的编码方式如下：</p>
<p>默认情况下循环只能一层一层退出，为此就需要设置一个状态变量 breakAgain，需要退出时，设置这个变量为 true。<br>使用 break 退出当前循环，执行后，代码调转到<code>if breakAgain {</code>。<br>退出一层循环后，根据 breakAgain 变量判断是否需要再次退出外层循环。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> breakAgain <span class="keyword">bool</span></span><br><span class="line"><span class="comment">// 外循环</span></span><br><span class="line"><span class="keyword">for</span> x := <span class="number">0</span>; x &lt; <span class="number">10</span>; x++ {</span><br><span class="line">    <span class="comment">// 内循环</span></span><br><span class="line">    <span class="keyword">for</span> y := <span class="number">0</span>; y &lt; <span class="number">10</span>; y++ {</span><br><span class="line">        <span class="comment">// 满足某个条件时，退出循环</span></span><br><span class="line">        <span class="keyword">if</span> y == <span class="number">2</span> { <span class="comment">// 当 y==2 时需要退出所有的 for 循环。</span></span><br><span class="line">            <span class="comment">// 设置退出标记</span></span><br><span class="line">            breakAgain = <span class="literal">true</span></span><br><span class="line">            <span class="comment">// 退出本次循环</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">// 根据标记，还需要退出一次循环</span></span><br><span class="line">    <span class="keyword">if</span> breakAgain {</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line">fmt.Println(<span class="string">"done"</span>) <span class="comment">// 退出所有循环后，打印 done</span></span><br></pre></td></tr></tbody></table></figure>

<p>goto 语句跳转到指明的标签处 退出多层循环<br>无须额外的变量就可以快速退出所有的循环。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">for</span> x := <span class="number">0</span>; x &lt; <span class="number">10</span>; x++ {</span><br><span class="line">        <span class="keyword">for</span> y := <span class="number">0</span>; y &lt; <span class="number">10</span>; y++ {</span><br><span class="line">            <span class="keyword">if</span> y == <span class="number">2</span> {</span><br><span class="line">                <span class="comment">// 跳转到标签</span></span><br><span class="line">                <span class="keyword">goto</span> breakHere</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">// 手动返回，避免执行进入标签</span></span><br><span class="line">    <span class="keyword">return</span> <span class="comment">// 此处如果不手动返回，在不满足条件时，也会执行标签下面的代码</span></span><br><span class="line"><span class="comment">// 定义 breakHere 标签，标签只能被 goto 使用，但不影响代码执行流程，</span></span><br><span class="line">breakHere:</span><br><span class="line">    fmt.Println(<span class="string">"done"</span>) <span class="comment">// done</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="集中处理错误"><a href="#集中处理错误" class="headerlink" title="集中处理错误"></a>集中处理错误</h3><p>多处错误处理存在代码重复是非常棘手<br>重复的错误处理代码。后期陆续在这些代码中如果添加更多的判断，就需要在每一块雷同代码中依次修改，极易造成疏忽和错误。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">err := firstCheckError() <span class="comment">// 执行某逻辑，返回错误。</span></span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> { <span class="comment">// 如果发生错误，打印错误退出进程</span></span><br><span class="line">    fmt.Println(err)</span><br><span class="line">    exitProcess()</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">err = secondCheckError() <span class="comment">// 执行某逻辑，返回错误</span></span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> { <span class="comment">// 发生错误后退出流程</span></span><br><span class="line">    fmt.Println(err)</span><br><span class="line">    exitProcess()</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">fmt.Println(<span class="string">"done"</span>) <span class="comment">// 没有任何错误，打印完成</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="goto-语句-集中处理错误"><a href="#goto-语句-集中处理错误" class="headerlink" title="goto 语句 集中处理错误"></a>goto 语句 集中处理错误</h4><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">err := firstCheckError()</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> {</span><br><span class="line">        <span class="keyword">goto</span> onExit <span class="comment">// 发生错误时，跳转错误标签 onExit。</span></span><br><span class="line">    }</span><br><span class="line">    err = secondCheckError()</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> {</span><br><span class="line">        <span class="keyword">goto</span> onExit <span class="comment">// 发生错误时，跳转错误标签 onExit。</span></span><br><span class="line">    }</span><br><span class="line">    fmt.Println(<span class="string">"done"</span>)</span><br><span class="line">    <span class="keyword">return</span> <span class="comment">// // 手动返回, 避免执行进入标签</span></span><br><span class="line">onExit:</span><br><span class="line">    <span class="comment">// 汇总所有流程进行错误打印并退出进程。</span></span><br><span class="line">    fmt.Println(err)</span><br><span class="line">    exitProcess()</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">``</span><span class="string">`</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="string">``</span><span class="keyword">go</span></span><br><span class="line">    <span class="keyword">var</span> a = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">LOOP:</span><br><span class="line">    fmt.Println(<span class="string">"执行了goto"</span>)</span><br><span class="line">    <span class="keyword">for</span> a &lt; <span class="number">20</span> {</span><br><span class="line">        <span class="keyword">if</span> a == <span class="number">15</span> {</span><br><span class="line">            a += <span class="number">1</span>    <span class="comment">//a满足条件  15+1</span></span><br><span class="line">            <span class="keyword">goto</span> LOOP <span class="comment">// 因为上面条件满足了  到这条goto语句就会跳转到LOOP:执行</span></span><br><span class="line">        }</span><br><span class="line">        fmt.Printf(<span class="string">"a的值为:%d\n"</span>, a)</span><br><span class="line">        a++</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<figure class="highlight angelscript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">执行了goto</span><br><span class="line">a的值为:<span class="number">10</span></span><br><span class="line">a的值为:<span class="number">11</span></span><br><span class="line">a的值为:<span class="number">12</span></span><br><span class="line">a的值为:<span class="number">13</span></span><br><span class="line">a的值为:<span class="number">14</span></span><br><span class="line">执行了goto</span><br><span class="line">a的值为:<span class="number">16</span></span><br><span class="line">a的值为:<span class="number">17</span></span><br><span class="line">a的值为:<span class="number">18</span></span><br><span class="line">a的值为:<span class="number">19</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">    i:=<span class="number">0</span></span><br><span class="line">    test: fmt.Println(<span class="string">"当前i的值为"</span>, i)</span><br><span class="line">    <span class="keyword">for</span> i&lt;<span class="number">3</span>{</span><br><span class="line">        i++</span><br><span class="line">        <span class="keyword">if</span> i==<span class="number">2</span>{<span class="keyword">goto</span> test}</span><br><span class="line">        fmt.Println(i)</span><br><span class="line">    }</span><br><span class="line">    fmt.Println(<span class="string">"结束"</span>)</span><br><span class="line">}</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">当前i的值为 0</span></span><br><span class="line"><span class="comment">1</span></span><br><span class="line"><span class="comment">当前i的值为 2</span></span><br><span class="line"><span class="comment">3</span></span><br><span class="line"><span class="comment">结束</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span>{</span><br><span class="line">    <span class="keyword">var</span> n <span class="keyword">int</span> = <span class="number">30</span></span><br><span class="line">    fmt.Println(<span class="string">"ok1"</span>)</span><br><span class="line">    <span class="keyword">if</span> n &gt; <span class="number">20</span> {</span><br><span class="line">        <span class="keyword">goto</span> label1</span><br><span class="line">    }</span><br><span class="line">    fmt.Println(<span class="string">"ok2"</span>)</span><br><span class="line">    fmt.Println(<span class="string">"ok3"</span>)</span><br><span class="line">    fmt.Println(<span class="string">"ok4"</span>)</span><br><span class="line">    label1:</span><br><span class="line">    fmt.Println(<span class="string">"ok5"</span>)</span><br><span class="line">    fmt.Println(<span class="string">"ok6"</span>)</span><br><span class="line">    fmt.Println(<span class="string">"ok7"</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure><script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2021/07/01/go-de-if-tiao-jian-kong-zhi-yu-ju/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/07/01/go-de-if-tiao-jian-kong-zhi-yu-ju/" class="post-title-link" itemprop="url">go的if条件控制语句</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>
      

      <time title="创建时间：2021-06-30 16:21:41 / 修改时间：04:05:26" itemprop="dateCreated datePublished" datetime="2021-06-30T16:21:41Z">2021-06-30</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/go/" itemprop="url" rel="index"><span itemprop="name">go</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>go语言的常用控制流程有if和for，没有while， 而switch和goto是为了简化代码，降低重复代码，属于扩展的流程控制。</p>
<p>if语句的结构：</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> 布尔表达式 {</span><br><span class="line">   <span class="comment">/* 在布尔表达式为 true 时执行 */</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> 布尔表达式 {</span><br><span class="line">   <span class="comment">/* 在布尔表达式为 true 时执行 */</span></span><br><span class="line">} <span class="keyword">else</span> {</span><br><span class="line">  <span class="comment">/* 在布尔表达式为 false 时执行 */</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> 布尔表达式<span class="number">1</span> {</span><br><span class="line">   <span class="comment">/* 在布尔表达式1为 true 时执行 */</span></span><br><span class="line">} <span class="keyword">else</span> <span class="keyword">if</span> 布尔表达式<span class="number">2</span>{</span><br><span class="line">   <span class="comment">/* 在布尔表达式1为 false ,布尔表达式2为true时执行 */</span></span><br><span class="line">} <span class="keyword">else</span>{</span><br><span class="line">   <span class="comment">/* 在上面两个布尔表达式都为false时，执行*/</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">   <span class="comment">/* 定义局部变量 */</span></span><br><span class="line">    num := <span class="number">11</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> num%<span class="number">2</span> == <span class="number">0</span> {</span><br><span class="line">        fmt.Println(<span class="string">"偶数"</span>)</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        fmt.Println(<span class="string">"奇数"</span>)</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    score := <span class="number">55</span></span><br><span class="line">    <span class="keyword">if</span> score &gt;= <span class="number">90</span> {</span><br><span class="line">        fmt.Println(<span class="string">"优"</span>)</span><br><span class="line">    } <span class="keyword">else</span> <span class="keyword">if</span> score &gt;= <span class="number">80</span> {</span><br><span class="line">        fmt.Println(<span class="string">"良"</span>)</span><br><span class="line">    } <span class="keyword">else</span> <span class="keyword">if</span> score &gt;= <span class="number">60</span> {</span><br><span class="line">        fmt.Println(<span class="string">"一般"</span>)</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        fmt.Println(<span class="string">"不及格"</span>)</span><br><span class="line">    }</span><br></pre></td></tr></tbody></table></figure>

<h4 id="将返回值与判断放在一行进行处理，而且返回值的作用范围被限制在if、-else-语句组合中"><a href="#将返回值与判断放在一行进行处理，而且返回值的作用范围被限制在if、-else-语句组合中" class="headerlink" title="将返回值与判断放在一行进行处理，而且返回值的作用范围被限制在if、 else 语句组合中"></a>将返回值与判断放在一行进行处理，而且返回值的作用范围被限制在if、 else 语句组合中</h4><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">// if statement; condition</span></span><br><span class="line">    <span class="keyword">if</span> num := <span class="number">11</span>; num%<span class="number">2</span> == <span class="number">0</span> { <span class="comment">//checks if number is even</span></span><br><span class="line">        fmt.Println(<span class="string">"偶数even"</span>)</span><br><span class="line">    } <span class="keyword">else</span> {</span><br><span class="line">        fmt.Println(<span class="string">"奇数odd"</span>)</span><br><span class="line">    }</span><br><span class="line">    fmt.Println(num)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> err := Connect(); err != <span class="literal">nil</span> {</span><br><span class="line"></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"errors"</span></span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">test</span><span class="params">()</span> <span class="title">error</span></span> {</span><br><span class="line">    <span class="keyword">return</span> errors.New(<span class="string">"error"</span>)</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="keyword">if</span> err := test(); err != <span class="literal">nil</span> {</span><br><span class="line">        fmt.Println(<span class="string">"error happen"</span>)</span><br><span class="line">    }</span><br><span class="line">    fmt.Println(err) <span class="comment">//此处会报错</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2021/07/01/go-de-switch-yu-ju/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/07/01/go-de-switch-yu-ju/" class="post-title-link" itemprop="url">go的switch语句</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-06-30 16:21:41" itemprop="dateCreated datePublished" datetime="2021-06-30T16:21:41Z">2021-06-30</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-07-01 03:04:37" itemprop="dateModified" datetime="2021-07-01T03:04:37Z">2021-07-01</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/go/" itemprop="url" rel="index"><span itemprop="name">go</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>switch 语句用于基于不同条件执行不同动作，每一个 case 分支都是唯一的，从上至下逐一测试，直到匹配为止。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> var1 {</span><br><span class="line">    <span class="keyword">case</span> val1:</span><br><span class="line">        ...</span><br><span class="line">    <span class="keyword">case</span> val2:</span><br><span class="line">        ...</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        ...</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">   <span class="comment">/* 定义局部变量 */</span></span><br><span class="line">   <span class="keyword">var</span> grade <span class="keyword">string</span> = <span class="string">"B"</span></span><br><span class="line">   <span class="keyword">var</span> marks <span class="keyword">int</span> = <span class="number">90</span></span><br><span class="line"></span><br><span class="line">   <span class="keyword">switch</span> marks {</span><br><span class="line">      <span class="keyword">case</span> <span class="number">90</span>: grade = <span class="string">"A"</span></span><br><span class="line">      <span class="keyword">case</span> <span class="number">80</span>: grade = <span class="string">"B"</span></span><br><span class="line">      <span class="keyword">case</span> <span class="number">50</span>,<span class="number">60</span>,<span class="number">70</span> : grade = <span class="string">"C"</span></span><br><span class="line">      <span class="keyword">default</span>: grade = <span class="string">"D"</span>  </span><br><span class="line">   }</span><br><span class="line"></span><br><span class="line">   <span class="keyword">switch</span> {</span><br><span class="line">      <span class="keyword">case</span> grade == <span class="string">"A"</span> :</span><br><span class="line">         fmt.Printf(<span class="string">"优秀!\n"</span> )    </span><br><span class="line">      <span class="keyword">case</span> grade == <span class="string">"B"</span>, grade == <span class="string">"C"</span> :</span><br><span class="line">         fmt.Printf(<span class="string">"良好\n"</span> )      </span><br><span class="line">      <span class="keyword">case</span> grade == <span class="string">"D"</span> :</span><br><span class="line">         fmt.Printf(<span class="string">"及格\n"</span> )      </span><br><span class="line">      <span class="keyword">case</span> grade == <span class="string">"F"</span>:</span><br><span class="line">         fmt.Printf(<span class="string">"不及格\n"</span> )</span><br><span class="line">      <span class="keyword">default</span>:</span><br><span class="line">         fmt.Printf(<span class="string">"差\n"</span> );</span><br><span class="line">   }</span><br><span class="line">   fmt.Printf(<span class="string">"你的等级是 %s\n"</span>, grade );      </span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>区间</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">score := <span class="number">95</span></span><br><span class="line"></span><br><span class="line">grade := <span class="string">"A"</span></span><br><span class="line"><span class="comment">//if score &gt; 90 {</span></span><br><span class="line"><span class="comment">//    grade = "A"</span></span><br><span class="line"><span class="comment">//}else if score &gt;= 80 &amp;&amp; score&lt;= 89{</span></span><br><span class="line"><span class="comment">//    grade = "B"</span></span><br><span class="line"><span class="comment">//}else if score &gt;= 70 &amp;&amp; score&lt;= 79{</span></span><br><span class="line"><span class="comment">//    grade = "C"</span></span><br><span class="line"><span class="comment">//}else if score &gt;= 60 &amp;&amp; score&lt;= 69{</span></span><br><span class="line"><span class="comment">//    grade = "D"</span></span><br><span class="line"><span class="comment">//}else{</span></span><br><span class="line"><span class="comment">//    grade = "E"</span></span><br><span class="line"><span class="comment">//}</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">switch</span> {</span><br><span class="line"><span class="keyword">case</span> score &gt;= <span class="number">90</span>:</span><br><span class="line">    grade = <span class="string">"A"</span></span><br><span class="line">    fmt.Println(<span class="string">"优"</span>)</span><br><span class="line"><span class="keyword">case</span> score &gt;= <span class="number">80</span> &amp;&amp; score &lt;= <span class="number">89</span>:</span><br><span class="line">    grade = <span class="string">"B"</span></span><br><span class="line"><span class="keyword">case</span> score &gt;= <span class="number">70</span> &amp;&amp; score &lt;= <span class="number">79</span>:</span><br><span class="line">    grade = <span class="string">"C"</span></span><br><span class="line"><span class="keyword">case</span> score &gt;= <span class="number">60</span> &amp;&amp; score &lt;= <span class="number">69</span>:</span><br><span class="line">    grade = <span class="string">"D"</span></span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line">    grade = <span class="string">"E"</span></span><br><span class="line">}</span><br><span class="line"></span><br><span class="line">fmt.Println(grade)</span><br></pre></td></tr></tbody></table></figure>

<p>Type Switch<br>switch 语句还可以被用于 type-switch 来判断某个 interface 变量中实际存储的变量类型。</p>
<p>Type Switch 语法格式如下：</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> x.(<span class="keyword">type</span>){</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">type</span>:</span><br><span class="line">       statement(s);      </span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">type</span>:</span><br><span class="line">       statement(s); </span><br><span class="line">    <span class="comment">/* 你可以定义任意个数的case */</span></span><br><span class="line">    <span class="keyword">default</span>: <span class="comment">/* 可选 */</span></span><br><span class="line">       statement(s);</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="keyword">var</span> x <span class="keyword">interface</span>{}</span><br><span class="line"></span><br><span class="line">    <span class="keyword">switch</span> i := x.(<span class="keyword">type</span>) {</span><br><span class="line">    <span class="keyword">case</span> <span class="literal">nil</span>:</span><br><span class="line">        fmt.Printf(<span class="string">" x 的类型 :%T"</span>, i)</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">int</span>:</span><br><span class="line">        fmt.Printf(<span class="string">"x 是 int 型"</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">float64</span>:</span><br><span class="line">        fmt.Printf(<span class="string">"x 是 float64 型"</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="function"><span class="keyword">func</span><span class="params">(<span class="keyword">int</span>)</span> <span class="title">float64</span>:</span></span><br><span class="line">        fmt.Printf(<span class="string">"x 是 func(int) 型"</span>)</span><br><span class="line">    <span class="keyword">case</span> <span class="keyword">bool</span>, <span class="keyword">string</span>:</span><br><span class="line">        fmt.Printf(<span class="string">"x 是 bool 或 string 型"</span>)</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        fmt.Printf(<span class="string">"未知型"</span>)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>一分支多值<br>不同的 case 表达式使用逗号分隔。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">"mum"</span></span><br><span class="line"><span class="keyword">switch</span> a {</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"mum"</span>, <span class="string">"daddy"</span>:</span><br><span class="line">    fmt.Println(<span class="string">"family"</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ol start="2">
<li>分支表达式</li>
</ol>
<p>break 语句在执行一条 case 后跳出 switch 循环</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line"> </span><br><span class="line">    name := <span class="string">"Golang"</span></span><br><span class="line">    <span class="keyword">switch</span> name {</span><br><span class="line">    <span class="keyword">case</span> <span class="string">"oldboy"</span>:</span><br><span class="line">        fmt.Println(name)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">"Linux"</span>:</span><br><span class="line">        fmt.Println(name)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">"Golang"</span>:</span><br><span class="line">        fmt.Println(name)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">"Python"</span>:</span><br><span class="line">        fmt.Println(name)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">"Java"</span>:</span><br><span class="line">        fmt.Println(name)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">case</span> <span class="string">"DBA"</span>:</span><br><span class="line">        fmt.Println(name)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2021/07/01/go-tiao-chu-xun-huan/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/07/01/go-tiao-chu-xun-huan/" class="post-title-link" itemprop="url">go跳出循环</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-06-30 16:21:41" itemprop="dateCreated datePublished" datetime="2021-06-30T16:21:41Z">2021-06-30</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-07-01 03:06:21" itemprop="dateModified" datetime="2021-07-01T03:06:21Z">2021-07-01</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/go/" itemprop="url" rel="index"><span itemprop="name">go</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>循环控制语句可以控制循环体内语句的执行过程</p>
<p>GO 语言支持 goto、break、continue 三种循环控制语句，三个语句都可以配合标签( label )使用，标签名区分大小写，定义后不使用会造成编译错误。</p>
<h3 id="break跳出循环"><a href="#break跳出循环" class="headerlink" title="break跳出循环"></a>break跳出循环</h3><h4 id="如果我们不想一直死循环下去，当某个条件成立时中断当前-for-循环，并开始执行循环之后的语句"><a href="#如果我们不想一直死循环下去，当某个条件成立时中断当前-for-循环，并开始执行循环之后的语句" class="headerlink" title="如果我们不想一直死循环下去，当某个条件成立时中断当前 for 循环，并开始执行循环之后的语句"></a>如果我们不想一直死循环下去，当某个条件成立时中断当前 for 循环，并开始执行循环之后的语句</h4><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="string">"fmt"</span></span><br><span class="line">i:=<span class="number">0</span></span><br><span class="line"><span class="keyword">for</span>{</span><br><span class="line">    fmt.Println(<span class="string">"你怎么这么好看?"</span>)</span><br><span class="line">    i+=<span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> i==<span class="number">3</span>{</span><br><span class="line">        fmt.Println(<span class="string">"天生的"</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    }</span><br><span class="line">}</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">你怎么这么好看?</span></span><br><span class="line"><span class="comment">你怎么这么好看?</span></span><br><span class="line"><span class="comment">你怎么这么好看?</span></span><br><span class="line"><span class="comment">天生的</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">var</span> a <span class="keyword">int</span> = <span class="number">10</span></span><br><span class="line">    <span class="keyword">for</span> a &lt; <span class="number">20</span> {</span><br><span class="line">        <span class="keyword">if</span> a == <span class="number">15</span> {</span><br><span class="line">            <span class="comment">/* 跳过迭代 */</span></span><br><span class="line">            a = a + <span class="number">1</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        }</span><br><span class="line">        fmt.Printf(<span class="string">"a的值为 : %d\n"</span>, a)</span><br><span class="line">        a++</span><br><span class="line"><span class="comment">// a的值为 : 10</span></span><br><span class="line"><span class="comment">// a的值为 : 11</span></span><br><span class="line"><span class="comment">// a的值为 : 12</span></span><br><span class="line"><span class="comment">// a的值为 : 13</span></span><br><span class="line"><span class="comment">// a的值为 : 14</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="中断当前-for-range-循环，并开始执行循环之后的语句"><a href="#中断当前-for-range-循环，并开始执行循环之后的语句" class="headerlink" title="中断当前 for range 循环，并开始执行循环之后的语句"></a>中断当前 for range 循环，并开始执行循环之后的语句</h4><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    m := <span class="keyword">map</span>[<span class="keyword">int</span>]<span class="keyword">string</span>{</span><br><span class="line">        <span class="number">1</span>: <span class="string">"oldboy"</span>,</span><br><span class="line">        <span class="number">2</span>: <span class="string">"Linux"</span>,</span><br><span class="line">        <span class="number">3</span>: <span class="string">"Python"</span>,</span><br><span class="line">        <span class="number">4</span>: <span class="string">"Java"</span>,</span><br><span class="line">        <span class="number">5</span>: <span class="string">"Golang"</span>,</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> k, v := <span class="keyword">range</span> m {</span><br><span class="line">        fmt.Printf(<span class="string">"%d =&gt; %s \n"</span>, k, v)</span><br><span class="line">        <span class="keyword">if</span> v == <span class="string">"Golang"</span> {</span><br><span class="line">            <span class="comment">// break 语句跳出循环</span></span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>


<p>break 语句在执行一条 case 后跳出 select 循环</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="keyword">var</span> ch <span class="keyword">chan</span> <span class="keyword">int</span></span><br><span class="line">    ch = <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="keyword">int</span>, <span class="number">1</span>)</span><br><span class="line">    <span class="comment">// ch &lt;- 1</span></span><br><span class="line">    <span class="keyword">select</span> {</span><br><span class="line">    <span class="keyword">case</span> i := &lt;-ch:</span><br><span class="line">        fmt.Printf(<span class="string">"received %d %s"</span>, i, <span class="string">" from ch\n"</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        fmt.Println(<span class="string">"break"</span>)</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>Break label 语句 跳出多层嵌套循环</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    fmt.Println(<span class="string">"start"</span>)</span><br><span class="line"> </span><br><span class="line">Exit:</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">9</span>; i++ {</span><br><span class="line">        <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; <span class="number">9</span>; j++ {</span><br><span class="line">            <span class="keyword">if</span> i+j &gt; <span class="number">15</span> {</span><br><span class="line">                fmt.Println(<span class="string">"exit"</span>)</span><br><span class="line">                <span class="keyword">break</span> Exit</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line"> </span><br><span class="line">    fmt.Println(<span class="string">"end"</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>break 标签除了可以跳出 for 循环，还可以跳出 select、switch 循环。</p>
<p>注意：label要写在循环的开始而不是结束的地方，和goto语句不一样。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> main</span><br><span class="line"> </span><br><span class="line"><span class="keyword">import</span> (</span><br><span class="line">    <span class="string">"fmt"</span></span><br><span class="line">)</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    fmt.Println(<span class="string">"start"</span>)</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">9</span>; i++ {</span><br><span class="line">        <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; <span class="number">9</span>; j++ {</span><br><span class="line">            <span class="keyword">if</span> i+j &gt; <span class="number">15</span> {</span><br><span class="line">                fmt.Println(<span class="string">"exit"</span>)</span><br><span class="line">                <span class="keyword">break</span> Exit</span><br><span class="line">            }</span><br><span class="line">        }</span><br><span class="line">    }</span><br><span class="line">Exit:</span><br><span class="line">    fmt.Println(<span class="string">"end"</span>)</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight dos"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">./main.go:<span class="number">14</span>:<span class="number">11</span>: <span class="built_in">break</span> <span class="built_in">label</span> <span class="keyword">not</span> <span class="keyword">defined</span>: <span class="keyword">Exit</span></span><br><span class="line">./main.go:<span class="number">18</span>:<span class="number">1</span>: <span class="built_in">label</span> <span class="keyword">Exit</span> <span class="keyword">defined</span> and <span class="keyword">not</span> used</span><br></pre></td></tr></tbody></table></figure>

<h3 id="continue跳过当前循环"><a href="#continue跳过当前循环" class="headerlink" title="continue跳过当前循环"></a>continue跳过当前循环</h3><p>与break退出整个循环不同，continue是跳过当前循环，也就是说在for代码块中遇到continue，在 for 循环和for range 循环中用于跳过当前循环其后的的剩余语句，然后继续进行下一轮循环。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i:=<span class="number">1</span>;i&lt;=<span class="number">3</span>;i++{</span><br><span class="line">    <span class="keyword">if</span> i==<span class="number">2</span>{</span><br><span class="line">        <span class="comment">// 不妨将continue换成break试试，看看它们的区别</span></span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    }</span><br><span class="line">    fmt.Println(i)</span><br><span class="line">}</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">continue结果    break结果</span></span><br><span class="line"><span class="comment">1              1</span></span><br><span class="line"><span class="comment">3</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">    <span class="keyword">var</span> a <span class="keyword">int</span> = <span class="number">10</span></span><br><span class="line">    <span class="keyword">for</span> a &lt; <span class="number">20</span> {</span><br><span class="line">        <span class="keyword">if</span> a == <span class="number">15</span> {</span><br><span class="line">            <span class="comment">/* 跳过迭代 */</span></span><br><span class="line">            a = a + <span class="number">1</span></span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        }</span><br><span class="line">        fmt.Printf(<span class="string">"a的值为 : %d\n"</span>, a)</span><br><span class="line">        a++</span><br><span class="line"></span><br><span class="line"><span class="comment">// a的值为 : 10</span></span><br><span class="line"><span class="comment">// a的值为 : 11</span></span><br><span class="line"><span class="comment">// a的值为 : 12</span></span><br><span class="line"><span class="comment">// a的值为 : 13</span></span><br><span class="line"><span class="comment">// a的值为 : 14</span></span><br><span class="line"><span class="comment">// a的值为 : 16</span></span><br><span class="line"><span class="comment">// a的值为 : 17</span></span><br><span class="line"><span class="comment">// a的值为 : 18</span></span><br><span class="line"><span class="comment">// a的值为 : 19</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> {</span><br><span class="line">    <span class="comment">// for 循环</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ {</span><br><span class="line">        <span class="keyword">if</span> i == <span class="number">2</span> {</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        }</span><br><span class="line">        fmt.Printf(<span class="string">"i 的值为 : %d\n"</span>, i)</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">// for range 循环</span></span><br><span class="line">    sli := []<span class="keyword">string</span>{<span class="string">"Linux"</span>, <span class="string">"Python"</span>, <span class="string">"Golang"</span>, <span class="string">"Java"</span>}</span><br><span class="line">    <span class="keyword">for</span> _, v := <span class="keyword">range</span> sli {</span><br><span class="line">        fmt.Println(v)</span><br><span class="line">        <span class="keyword">if</span> v != <span class="string">"Golang"</span> {</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        }</span><br><span class="line">        fmt.Println(<span class="string">"The old boy welcomes you."</span>)</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">BreakLabel:</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">3</span>; i++ {</span><br><span class="line">    ContinueLabel:</span><br><span class="line">        <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; <span class="number">5</span>; j++ {</span><br><span class="line">            <span class="keyword">if</span> j &gt; <span class="number">2</span> {</span><br><span class="line">                <span class="keyword">continue</span> ContinueLabel</span><br><span class="line">            }</span><br><span class="line">            <span class="keyword">if</span> i &gt; <span class="number">1</span> {</span><br><span class="line">                <span class="keyword">break</span> BreakLabel</span><br><span class="line">            }</span><br><span class="line"></span><br><span class="line">            fmt.Print(i, <span class="string">":"</span>, j, <span class="string">" "</span>)</span><br><span class="line">        }</span><br><span class="line">        fmt.Println()</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2021/07/01/python-zhong-wei-shi-me-mei-you-switch/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/07/01/python-zhong-wei-shi-me-mei-you-switch/" class="post-title-link" itemprop="url">python中为什么没有switch</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-06-30 16:21:41" itemprop="dateCreated datePublished" datetime="2021-06-30T16:21:41Z">2021-06-30</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-07-01 03:00:30" itemprop="dateModified" datetime="2021-07-01T03:00:30Z">2021-07-01</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/go/" itemprop="url" rel="index"><span itemprop="name">go</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>查看Python官方:PEP 3103-A Switch/Case Statement</p>
<p>发现其实实现Switch Case需要被判断的变量是可哈希的和可比较的，<br>这与Python倡导的灵活性有冲突。在实现上，优化不好做，可能到最后最差的情况汇编出来跟If Else组是一样的。所以Python没有支持。</p>
<p> 采用dict映射</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">score = <span class="number">80</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_A</span>():</span></span><br><span class="line">    print(<span class="string">'A'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_B</span>():</span></span><br><span class="line">    print(<span class="string">'B'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_C</span>():</span></span><br><span class="line">    print(<span class="string">'C'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_D</span>():</span></span><br><span class="line">    print(<span class="string">'D'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">switch = {</span><br><span class="line">    <span class="number">90</span>: print_A,</span><br><span class="line">    <span class="number">80</span>: print_B,</span><br><span class="line">    <span class="number">70</span>: print_C,</span><br><span class="line">    <span class="number">60</span>: print_D,</span><br><span class="line">}</span><br><span class="line">switch[score]()  <span class="comment"># B</span></span><br><span class="line"></span><br><span class="line">score = <span class="number">80</span></span><br><span class="line"></span><br><span class="line">switch = {</span><br><span class="line">    <span class="number">90</span>: <span class="keyword">lambda</span>: print(<span class="string">"A"</span>),</span><br><span class="line">    <span class="number">80</span>: <span class="keyword">lambda</span>: print(<span class="string">"B"</span>),</span><br><span class="line">    <span class="number">70</span>: <span class="keyword">lambda</span>: print(<span class="string">"C"</span>),</span><br><span class="line">    <span class="number">60</span>: <span class="keyword">lambda</span>: print(<span class="string">"D"</span>),</span><br><span class="line">}</span><br><span class="line">switch[score]()  <span class="comment"># B</span></span><br></pre></td></tr></tbody></table></figure>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2021/06/30/go-zi-fu-chuan/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/06/30/go-zi-fu-chuan/" class="post-title-link" itemprop="url">go字符串</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-06-29 16:21:41" itemprop="dateCreated datePublished" datetime="2021-06-29T16:21:41Z">2021-06-29</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-06-30 11:43:49" itemprop="dateModified" datetime="2021-06-30T11:43:49Z">2021-06-30</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/go/" itemprop="url" rel="index"><span itemprop="name">go</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>字符串是字符的数组</p>
<ol>
<li>求解字符串的长度<br>go的len函数获取中文字符串长度<br>返回的是字节的长度<br>涉及到中文问题就产生了变化<br>unicode 字符集， 存储的时候需要编码 utf8编码规则， utf8编码是一个动态的编码规则<br>utf8编码，3个字节表示中文 还能够用一个字节表示英文</li>
</ol>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name1 <span class="keyword">string</span> = <span class="string">"bobby:慕课网"</span></span><br><span class="line">fmt.Println(<span class="built_in">len</span>(name1))        <span class="comment">// 15</span></span><br><span class="line"><span class="comment">//类型转换 每个字符转换成rune4个字节， 英文一个字节的字符转换成一个rune，中文三个字节的字符转换成一个rune</span></span><br><span class="line">name_arr1 := []<span class="keyword">int32</span>(name1) <span class="comment">// int32= rune</span></span><br><span class="line"><span class="comment">//求数组元素个数</span></span><br><span class="line">fmt.Println(<span class="built_in">len</span>(name_arr1)) <span class="comment">// 9</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name <span class="keyword">string</span> = <span class="string">"bobby:\"慕课网\""</span> <span class="comment">//转义符</span></span><br><span class="line">fmt.Println(<span class="built_in">len</span>(name))            <span class="comment">// 17</span></span><br><span class="line"><span class="comment">//类型转换</span></span><br><span class="line">name_arr := []<span class="keyword">int32</span>(name)  <span class="comment">// int32= rune</span></span><br><span class="line">fmt.Println(<span class="built_in">len</span>(name_arr)) <span class="comment">// 11</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">date := <span class="string">"2020\\06\\18"</span> <span class="comment">//转义符</span></span><br><span class="line">fmt.Println(date)      <span class="comment">// 2020\06\18</span></span><br><span class="line">date1 := <span class="string">`2020\06\18`</span>  <span class="comment">//转义符</span></span><br><span class="line">fmt.Println(date1)     <span class="comment">// 2020\06\18</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="是否包含某个子串"><a href="#是否包含某个子串" class="headerlink" title="是否包含某个子串"></a>是否包含某个子串</h4><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name <span class="keyword">string</span> = <span class="string">"bobby:\"慕课网\""</span></span><br><span class="line">fmt.Println(strings.Contains(name, <span class="string">"慕课网"</span>)) <span class="comment">// true</span></span><br><span class="line">fmt.Println(strings.Index(name, <span class="string">"慕课网"</span>))    <span class="comment">// 7</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="子串统计出现的次数"><a href="#子串统计出现的次数" class="headerlink" title="子串统计出现的次数"></a>子串统计出现的次数</h4><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fmt.Println(strings.Count(name, <span class="string">"b"</span>)) <span class="comment">// 3</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="前缀和后缀"><a href="#前缀和后缀" class="headerlink" title="前缀和后缀"></a>前缀和后缀</h4><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">fmt.Println(strings.HasPrefix(name, <span class="string">"o"</span>))  <span class="comment">// false</span></span><br><span class="line">fmt.Println(strings.HasPrefix(name, <span class="string">"b"</span>))  <span class="comment">// true</span></span><br><span class="line">fmt.Println(strings.HasSuffix(name, <span class="string">"\""</span>)) <span class="comment">// true</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="大小写转换"><a href="#大小写转换" class="headerlink" title="大小写转换"></a>大小写转换</h4><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fmt.Println(strings.ToUpper(<span class="string">"bobby"</span>)) <span class="comment">// BOBBY</span></span><br><span class="line">fmt.Println(strings.ToLower(<span class="string">"BOBBY"</span>)) <span class="comment">// bobby</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="字符串的比较是"><a href="#字符串的比较是" class="headerlink" title="字符串的比较是"></a>字符串的比较是</h4><p>先比较第一个字符ascii，第一个小于第二个返回-1， 第一个大于第二个返回1， 相等0</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">fmt.Println(strings.Compare(<span class="string">"ab"</span>, <span class="string">"aa"</span>)) <span class="comment">// 1</span></span><br><span class="line">fmt.Println(strings.Compare(<span class="string">"ab"</span>, <span class="string">"b"</span>))  <span class="comment">// -1</span></span><br><span class="line">fmt.Println(strings.Compare(<span class="string">"b"</span>, <span class="string">"a"</span>))   <span class="comment">// 1</span></span><br><span class="line">fmt.Println(strings.Compare(<span class="string">"b"</span>, <span class="string">"b"</span>))   <span class="comment">// 0</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="去掉空格和指定字符串"><a href="#去掉空格和指定字符串" class="headerlink" title="去掉空格和指定字符串"></a>去掉空格和指定字符串</h4><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">fmt.Println(strings.TrimSpace(<span class="string">" bobby "</span>))    <span class="comment">// bobby</span></span><br><span class="line">fmt.Println(strings.TrimLeft(<span class="string">"bobby"</span>, <span class="string">"b"</span>))  <span class="comment">// obby</span></span><br><span class="line">fmt.Println(strings.TrimLeft(<span class="string">"obobby"</span>, <span class="string">"b"</span>)) <span class="comment">// obobby</span></span><br><span class="line">fmt.Println(strings.Trim(<span class="string">"bobbyb"</span>, <span class="string">"b"</span>))     <span class="comment">// obby</span></span><br><span class="line">fmt.Println(strings.Trim(<span class="string">"bobby"</span>, <span class="string">"b"</span>))      <span class="comment">// obby</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="split分割方法"><a href="#split分割方法" class="headerlink" title="split分割方法"></a><code>split</code>分割方法</h4><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fmt.Println(strings.Split(<span class="string">"bobby imooc"</span>, <span class="string">" "</span>)) <span class="comment">// [bobby imooc]</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="join合并方法将字符串数组连接起来"><a href="#join合并方法将字符串数组连接起来" class="headerlink" title="join合并方法将字符串数组连接起来"></a><code>join</code>合并方法将字符串数组连接起来</h4><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">arrs := strings.Split(<span class="string">"bobby imooc"</span>, <span class="string">" "</span>)</span><br><span class="line">fmt.Println(strings.Join(arrs, <span class="string">"-"</span>)) <span class="comment">// bobby-imooc</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="字符串替换"><a href="#字符串替换" class="headerlink" title="字符串替换"></a>字符串替换</h4><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">    fmt.Println(strings.Replace(<span class="string">"bobby: 18 电话：18888888"</span>, <span class="string">"18"</span>, <span class="string">"19"</span>, <span class="number">2</span>))</span><br><span class="line">    <span class="comment">// bobby: 19 电话：19888888</span></span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="">
    <link itemprop="mainEntityOfPage" href="https://bubbleboy11.github.io/2021/06/29/go-ji-ben-shu-ju-lei-xing/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="外心人D">
      <meta itemprop="description" content="本博客大多内容为慕课和网上博客，并非原创">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="外心人D的博客">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          <a href="/2021/06/29/go-ji-ben-shu-ju-lei-xing/" class="post-title-link" itemprop="url">go基本数据类型</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">发表于</span>

      <time title="创建时间：2021-06-28 17:46:44" itemprop="dateCreated datePublished" datetime="2021-06-28T17:46:44Z">2021-06-28</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">更新于</span>
        <time title="修改时间：2021-06-29 01:44:57" itemprop="dateModified" datetime="2021-06-29T01:44:57Z">2021-06-29</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">分类于</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/go/" itemprop="url" rel="index"><span itemprop="name">go</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <p>静态语言中中文处理很容易出错</p>
<h3 id="bool类型"><a href="#bool类型" class="headerlink" title="bool类型"></a>bool类型</h3><p>布尔型的值只可以是常量 true 或者 false。一个简单的例子：var b bool = true</p>
<h3 id="字符"><a href="#字符" class="headerlink" title="字符"></a>字符</h3><p>在go中字符和字符串不是一种类型<br>字符类型是单引号<code>''</code></p>
<p>字符本质是一个数字， 可以进行加减乘除</p>
<p>字符串是双引号<code>""</code>，字符常量只能使用单引号括起来</p>
<p>Golang中没有专门的字符类型，如果要存储单个字符(字母)，一般使用<strong>byte</strong>来保存。</p>
<p>字符串就是一串固定长度的字符连接起来的字符序列。Go的字符串是由单个字节连接起来的。<br>也就是说对于<strong>传统的字符串是由字符组成</strong>的，而Go的字符串不同，它是由<strong>字节</strong>组成的。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">fmt.Printf(<span class="string">"%d"</span>, <span class="string">'a'</span>) <span class="comment">// 97 digit</span></span><br><span class="line">fmt.Printf(<span class="string">"%T"</span>, <span class="string">'a'</span>) <span class="comment">// int32</span></span><br><span class="line">fmt.Printf(<span class="string">"%c"</span>, <span class="number">97</span>)  <span class="comment">// a character</span></span><br><span class="line">fmt.Printf(<span class="string">"%T"</span>, <span class="number">97</span>)  <span class="comment">// int</span></span><br><span class="line">fmt.Printf(<span class="string">"%d"</span>, <span class="string">'华'</span>) <span class="comment">// 21326 单引号</span></span><br><span class="line">fmt.Printf(<span class="string">"%T"</span>, <span class="string">'华'</span>) <span class="comment">// int32 单引号</span></span><br><span class="line"></span><br><span class="line">fmt.Printf(<span class="string">"%d"</span>, <span class="string">"华"</span>) <span class="comment">// %!d(string=华) 双引号</span></span><br><span class="line">fmt.Printf(<span class="string">"%T"</span>, <span class="string">"华"</span>) <span class="comment">// string 双引号</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b <span class="keyword">byte</span> = <span class="string">'b'</span></span><br><span class="line">fmt.Println(b)        <span class="comment">// 98</span></span><br><span class="line"><span class="comment">// fmt.Printf(b)        // cannot use b (type byte) as type string in argument to fmt.Printf</span></span><br><span class="line">fmt.Printf(<span class="string">"b=%c"</span>, b) <span class="comment">// b=b</span></span><br><span class="line"><span class="keyword">var</span> c <span class="keyword">int</span> = <span class="string">'c'</span></span><br><span class="line">fmt.Println(c)        <span class="comment">// 99</span></span><br><span class="line">fmt.Printf(<span class="string">"c=%c"</span>, c) <span class="comment">// c=c</span></span><br><span class="line"></span><br><span class="line">a := <span class="string">'a'</span></span><br><span class="line"><span class="comment">// 1. a+1可以和数字计算 2.a+1的类型是32</span></span><br><span class="line">fmt.Println(reflect.TypeOf(a + <span class="number">1</span>)) <span class="comment">// int32</span></span><br><span class="line">fmt.Printf(<span class="string">"%T\n"</span>, a+<span class="number">1</span>)            <span class="comment">// int32</span></span><br><span class="line"><span class="comment">// int类型可以直接变成字符</span></span><br><span class="line">fmt.Printf(<span class="string">"a+1=%c"</span>, a+<span class="number">1</span>)          <span class="comment">// a+1=b</span></span><br></pre></td></tr></tbody></table></figure>

<p>python 单引号<code>''</code>、双引号<code>""</code> 都是字符串，没有字符的概念</p>
<figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="string">'a'</span> + <span class="number">1</span>)  <span class="comment"># TypeError: can only concatenate str (not "int") to str  “a”表示字符串   单引号不代表字符</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h3><p>一串固定长度的字符连接起来的字符序列。Go 的字符串是由单个字节连接起来的。Go 语言的字符串的字节使用 UTF-8 编码标识 Unicode 文本。</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// string is the set of all strings of 8-bit bytes, conventionally but not</span></span><br><span class="line"><span class="comment">// necessarily representing UTF-8-encoded text. A string may be empty, but</span></span><br><span class="line"><span class="comment">// not nil. Values of string type are immutable.</span></span><br><span class="line"><span class="keyword">type</span> <span class="keyword">string</span> <span class="keyword">string</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="数值型"><a href="#数值型" class="headerlink" title="数值型"></a>数值型</h3><p>二进制和位数的关系，以及int和uint的关系</p>
<h4 id="整数型"><a href="#整数型" class="headerlink" title="整数型"></a>整数型</h4><p>第一位符号位，0正1负<br>int8 有符号 8 位整型 (-128 到 127) 长度：8bit<br>int16 有符号 16 位整型 (-32768 到 32767)<br>int32 有符号 32 位整型 (-2147483648 到 2147483647)<br>int64 有符号 64 位整型 (-9223372036854775808 到 9223372036854775807)</p>
<p>unsigned 第一位不是符号位<br>uint8 无符号 8 位整型 (0 到 255) 8位都用于表示数值：<br>uint16 无符号 16 位整型 (0 到 65535)<br>uint32 无符号 32 位整型 (0 到 4294967295)<br>uint64 无符号 64 位整型 (0 到 18446744073709551615)</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// int is a signed integer type that is at least 32 bits in size. It is a</span></span><br><span class="line"><span class="comment">// distinct type, however, and not an alias for, say, int32.</span></span><br><span class="line"><span class="keyword">type</span> <span class="keyword">int</span> <span class="keyword">int</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">age := <span class="number">18</span></span><br><span class="line">fmt.Printf(<span class="string">"%T\n"</span>, age) <span class="comment">// int</span></span><br></pre></td></tr></tbody></table></figure>

<p>默认int 类型</p>
<h4 id="浮点型"><a href="#浮点型" class="headerlink" title="浮点型"></a>浮点型</h4><p>float32  32位浮点型数<br>float64  64位浮点型数</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fmt.Println(math.MaxFloat32) <span class="comment">// 3.4028234663852886e+38</span></span><br><span class="line">fmt.Println(math.MaxFloat64) <span class="comment">// 1.7976931348623157e+308</span></span><br></pre></td></tr></tbody></table></figure>

<p>为什么64位的float最大值远大于int64，float底层存储和int的存储不一样<br>float32和float64两者占用内存不一样，64位的最大数和精度都比32位高</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">weight := <span class="number">71.2</span></span><br><span class="line">fmt.Printf(<span class="string">"%T\n"</span>, weight) <span class="comment">// float64</span></span><br></pre></td></tr></tbody></table></figure>

<p>默认 float64 类型</p>
<h3 id="byte-等于-uint8"><a href="#byte-等于-uint8" class="headerlink" title="byte 等于 uint8"></a>byte 等于 uint8</h3><p>源码</p>
<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// byte is an alias for uint8 and is equivalent to uint8 in all ways. It is</span></span><br><span class="line"><span class="comment">// used, by convention, to distinguish byte values from 8-bit unsigned</span></span><br><span class="line"><span class="comment">// integer values.</span></span><br><span class="line"><span class="keyword">type</span> <span class="keyword">byte</span> = <span class="keyword">uint8</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a <span class="keyword">byte</span> = <span class="number">18</span></span><br><span class="line">fmt.Println(a) <span class="comment">// 18</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="rune-等于-int32"><a href="#rune-等于-int32" class="headerlink" title="rune 等于 int32"></a>rune 等于 int32</h3><figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// rune is an alias for int32 and is equivalent to int32 in all ways. It is</span></span><br><span class="line"><span class="comment">// used, by convention, to distinguish character values from integer values.</span></span><br><span class="line"><span class="keyword">type</span> <span class="keyword">rune</span> = <span class="keyword">int32</span></span><br></pre></td></tr></tbody></table></figure>

<figure class="highlight go"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">``</span><span class="string">`</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">### uint  32 或 64 位</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">相比python而言，go语言为什么有这么多种整数类型</span></span><br><span class="line"><span class="string">年龄，分数都是有上线 年龄不超过0-200 分数0-150</span></span><br><span class="line"><span class="string">很多场景之下，数字有上限，我们可以选择合适的数据类型来降低内存的占用，</span></span><br><span class="line"><span class="string">int是一种动态类型，取决机器本身是多少位，64位机器上运行那么int 就是int64占8个字节，如果是32位机器上那么就是4个字节</span></span><br><span class="line"><span class="string">一般情况下我们都会指明int占用多少个字节</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">`</span><span class="string">``</span><span class="keyword">go</span></span><br><span class="line">    <span class="keyword">var</span> age <span class="keyword">int</span> = <span class="number">18</span></span><br><span class="line">    fmt.Println(unsafe.Sizeof(age)) <span class="comment">// 8</span></span><br><span class="line">    <span class="keyword">var</span> age1 <span class="keyword">int8</span> = <span class="number">18</span></span><br><span class="line">    fmt.Println(unsafe.Sizeof(age1)) <span class="comment">// 1</span></span><br><span class="line">    <span class="keyword">var</span> age2 <span class="keyword">int16</span> = <span class="number">18</span></span><br><span class="line">    fmt.Println(unsafe.Sizeof(age2)) <span class="comment">// 2</span></span><br><span class="line">    <span class="keyword">var</span> age3 <span class="keyword">int32</span> = <span class="number">18</span></span><br><span class="line">    fmt.Println(unsafe.Sizeof(age3)) <span class="comment">// 4</span></span><br></pre></td></tr></tbody></table></figure>

<h4 id="对于python来说，int占用字节是动态，python的int我们不用担心超过上限"><a href="#对于python来说，int占用字节是动态，python的int我们不用担心超过上限" class="headerlink" title="对于python来说，int占用字节是动态，python的int我们不用担心超过上限"></a>对于python来说，int占用字节是动态，python的int我们不用担心超过上限</h4><figure class="highlight py"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line">print(sys.getsizeof(<span class="number">18</span>))  <span class="comment"># 28 整数</span></span><br><span class="line">print(sys.getsizeof(<span class="number">71.2</span>))  <span class="comment"># 24 浮点数</span></span><br></pre></td></tr></tbody></table></figure>
<script>
        document.querySelectorAll('.github-emoji')
          .forEach(el => {
            if (!el.dataset.src) { return; }
            const img = document.createElement('img');
            img.style = 'display:none !important;';
            img.src = el.dataset.src;
            img.addEventListener('error', () => {
              img.remove();
              el.style.color = 'inherit';
              el.style.backgroundImage = 'none';
              el.style.background = 'none';
            });
            img.addEventListener('load', () => {
              img.remove();
            });
            document.body.appendChild(img);
          });
      </script>
      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/32/">32</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>
<script src="/js/comments.js"></script>
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">


<div class="copyright">
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">外心人D</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

    </div>
  </footer>

  
  <script src="https://cdn.jsdelivr.net/npm/animejs@3.2.1/lib/anime.min.js"></script>
<script src="/js/utils.js"></script><script src="/js/motion.js"></script><script src="/js/schemes/muse.js"></script><script src="/js/next-boot.js"></script>

  






  





</body>
</html>
